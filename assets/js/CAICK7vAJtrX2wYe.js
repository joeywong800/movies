import{k as e,u as t,l as n,m as r,n as s,_ as i}from"./DA4PljVLQAAvLRso.js";import{g as a,r as o,j as l,u as c,c as u}from"./D-s6PRqiKBLBeb70.js";import{X as d,v as m,w as h,x,y as f,P as g,V as p,z as v,D as w,E as y,J as b,K as C,N as j,O as N,Q as z,W as A,Y as S,_ as L}from"./DuhNfJysh32dzoQX.js";import{m as B,A as M}from"./C91n56ZiE4zAzIep.js";import{H as D}from"./DFVzPMyjvdTXL-NN.js";import{F as k}from"./B-4N2_WDClcrmfIj.js";import{c as I}from"./BeLtu-UYPkietiDK.js";import{t as q}from"./LM2JspYDBI8LNjlT.js";import"./BfZ2chxSRdnyRXRh.js";import"./Dzd9VM057lnHWOrh.js";import"./CjwUcgDti5mGPnSD.js";import"./Dud8YmOKJJ5dkhIL.js";import"./3aNFxleMQdjaFZtw.js";import"./DZoN2sFbwskeIicV.js";import"./CHM7ATolVvUmCGxc.js";import"./BDEOJ3om1uRt4ddv.js";import"./DRKqkMc30zo_0ikY.js";import"./CW___00ulSquyL62.js";import"./DQJ5WjrbKyvfGYDA.js";import"./CdjEVO9ucAe6ofNA.js";const E={Cloud:j,Settings:y,Play:g,Pause:x,Volume:p,SkipBack:m,SkipForward:h,Maximize:C,Minimize:b,Loader:N,Server:f,Check:S,Episodes:v,Image:z,Quality:A,Close:d,List:w,Upload:L};!function(){const e=H,t=G();for(;;)try{if(491090===-parseInt(e(287))/1+-parseInt(e(259))/2+parseInt(e(286))/3*(parseInt(e(280))/4)+-parseInt(e(283))/5*(-parseInt(e(279))/6)+parseInt(e(277))/7*(parseInt(e(270))/8)+-parseInt(e(256))/9*(-parseInt(e(257))/10)+parseInt(e(260))/11*(-parseInt(e(274))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const K=(e,t)=>{const n=H,r={gvtvk:n(288)+"r"},s=e[n(261)](r[n(267)])||t;return s[n(290)+n(263)]("#")?s:"#"+s},P=e=>{const t=H,n={cvsks:function(e,t,n){return e(t,n)},zTmci:function(e,t,n){return e(t,n)},wDcEr:function(e,t,n){return e(t,n)}},r=e[t(264)+"ce"]("#","");return{r:n[t(276)](parseInt,r[t(265)+t(272)](0,2),16),g:n[t(291)](parseInt,r[t(265)+t(272)](2,4),16),b:n[t(284)](parseInt,r[t(265)+"ring"](4,6),16)}},W=(e,t)=>{const n=H,{r:r,g:s,b:i}=P(e);return n(273)+r+", "+s+", "+i+", "+t+")"},T=e=>{const t=H,n={uAVWl:"--the"+t(269)+"lor"},{r:r,g:s,b:i}=P(e);document["docum"+t(275)+t(285)][t(266)][t(278)+t(262)+"y"](n.uAVWl,e),document["docum"+t(275)+t(285)][t(266)]["setPr"+t(262)+"y"](t(271)+t(269)+t(282)+"gb",r+", "+s+", "+i)};function G(){const e=["nty3ywvqDMfc","odiWndbADMPQvgW","zuPzCNu","mtCXmdaYnMnqyMD2yW","nduXmg9KuMfvCq","z2v0","B3bLCNq","C1DPDgG","CMvWBge","C3vIC3q","C3r5Bgu","z3z0DMS","iZyXzge","BwuTy28","mJmYDeDXue1w","ls10Agu","CMLUzW","CMDIysG","mJC5ndHlvenuEgq","zw50rwW","y3zZA3m","mtGYmte5turltePg","C2v0uhi","mJqYmtm3mNveEurUzG","ogHRBMXeva","zMjHyq","Bg9Ylxi","nvHys1v5zG","D0rJrxi","zw1LBNq","otu3mJa3zhjkwMzx","mtiWntjfsuDtzMS","y29SB3u","yuvPueW","C3rHCNq","ELrTy2K","sMn0s1m"];return(G=function(){return e})()}function H(e,t){const n=G();return H=function(t,r){let s=n[t-=255];if(void 0===H.qAXmSg){H.MjqWqH=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,H.qAXmSg=!0}const i=t+n[0],a=e[i];return a?s=a:(s=H.MjqWqH(s),e[i]=s),s},H(e,t)}const O=()=>{const e=H,t={eJYru:function(e,t){return e(t)},EoFeY:function(e,t,n){return e(t,n)},JctKS:e(268)+e(281),aEiPL:function(e,t,n){return e(t,n)}},[n]=a(),r=t.EoFeY(K,n,t[e(255)]);return t[e(289)](o.useEffect,()=>{t[e(258)](T,r)},[r]),r},Y=({onVolumeChange:e,currentVolume:t,isPlaying:n,onPlayPause:r,onFullscreenToggle:s,onSeek:i})=>{const[a,c]=o.useState([]),u=O();o.useEffect(()=>{const n=n=>{if(n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement)return;const a=n.key.toLowerCase();let o=null;switch(a){case"f":n.preventDefault(),s(),o={key:"F",type:"fullscreen",position:"fullscreen"};break;case" ":case"k":n.preventDefault(),r(),o={key:" "===a?"Space":"K",type:"playback",position:"center"};break;case"arrowleft":n.preventDefault(),i(-10),o={key:"←",type:"seek",value:-10,position:"seek"};break;case"arrowright":n.preventDefault(),i(10),o={key:"→",type:"seek",value:10,position:"seek"};break;case"arrowup":const l=Math.min(t+.1,1);e(l),o={key:"↑",type:"volume",value:l,position:"volume"};break;case"arrowdown":const c=Math.max(t-.1,0);e(c),o={key:"↓",type:"volume",value:c,position:"volume"};break;case"m":const u=0===t?1:0;e(u),o={key:"M",type:"mute",value:u,position:"volume"};break;default:return}if(o){const e={...o,timestamp:Date.now()};c(t=>[...t,e]),setTimeout(()=>{c(t=>t.filter(t=>t.timestamp!==e.timestamp))},1e3)}};return window.document.addEventListener("keydown",n),()=>window.document.removeEventListener("keydown",n)},[t,e,r,s,i,n]);const d=e=>{switch(e.type){case"volume":case"mute":return l.jsxs("div",{className:"flex flex-col items-center space-y-4 w-[80px]",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-white/10 rounded-full",children:l.jsx(E.Volume,{className:"w-6 h-6 transition-colors",style:{color:0===e.value?"rgba(255, 255, 255, 0.5)":u},strokeWidth:2})}),l.jsxs("div",{className:"w-1.5 h-20 bg-black/40 rounded-full relative overflow-hidden backdrop-blur-sm",children:[l.jsx("div",{className:"absolute bottom-0 w-full transition-all duration-200",style:{height:100*(e.value||0)+"%",background:`linear-gradient(to top, ${u}, ${W(u,.8)})`}}),[...Array(8)].map((e,t)=>l.jsx("div",{className:"absolute w-full h-[2px] bg-white/10",style:{bottom:t/7*100+"%"}},t)),l.jsx("div",{className:"absolute w-2.5 h-2.5 left-1/2 -translate-x-1/2 bg-white rounded-full shadow-lg",style:{bottom:100*(e.value||0)+"%",transform:"translate(-50%, 50%)",boxShadow:`0 2px 4px ${W(u,.3)}`}})]}),l.jsx("div",{className:"w-full text-center",children:l.jsxs("span",{className:"text-sm font-medium text-white/90 tabular-nums",children:[Math.round(100*(e.value||0)),"%"]})})]});case"seek":return l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-gradient-to-b from-white/10 to-white/5 rounded-full hover:from-white/15 hover:to-white/10 transition-all duration-200 backdrop-blur-sm group",children:e.value&&e.value<0?l.jsx(E.SkipBack,{className:"w-8 h-8 transition-colors",style:{color:u},strokeWidth:2}):l.jsx(E.SkipForward,{className:"w-8 h-8 transition-colors",style:{color:u},strokeWidth:2})}),l.jsxs("div",{className:"flex items-center space-x-1.5",children:[l.jsx("span",{className:"text-2xl font-medium text-white/90 tabular-nums",children:Math.abs(e.value||0)}),l.jsx("span",{className:"text-sm font-medium text-white/70",children:"sec"})]})]});case"playback":return l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 rounded-full blur-xl",style:{backgroundColor:W(u,.2)}}),l.jsx("div",{className:"relative w-24 h-24 rounded-full bg-gradient-to-b from-black/60 to-black/40 backdrop-blur-md flex items-center justify-center",children:l.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center shadow-lg transition-all duration-200",style:{background:`linear-gradient(to bottom, ${u}, ${W(u,.8)})`,boxShadow:`0 10px 20px -5px ${W(u,.3)}`},children:n?l.jsx(E.Pause,{className:"w-10 h-10 text-white play-icon",strokeWidth:2.5}):l.jsx(E.Play,{className:"w-10 h-10 text-white translate-x-0.5 play-icon",strokeWidth:2.5})})})]}),l.jsx("span",{className:"text-sm font-medium text-white/90",children:n?"Paused":"Playing"})]});case"fullscreen":return l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 rounded-xl blur-lg",style:{backgroundColor:W(u,.1)}}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-[-2px] border-2 rounded-xl animate-frame-expand",style:{borderColor:W(u,.3)}}),l.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-b from-white/10 to-white/5 backdrop-blur-sm flex items-center justify-center group",children:l.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:l.jsx(E.Maximize,{className:"w-8 h-8 transition-colors",style:{color:u},strokeWidth:2})})})]})]}),l.jsx("span",{className:"text-sm font-medium text-white/90",children:"Fullscreen"})]})}};return l.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:a.map(e=>l.jsx("div",{"data-position":e.position,className:`absolute bg-gradient-to-b from-black/85 to-black/95 backdrop-blur-md rounded-xl px-6 py-5 text-white animate-shortcut-popup border border-white/10 shadow-2xl group\n            ${"center"===e.position?"left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2":""}\n            ${"volume"===e.position?"left-12 top-1/2 -translate-y-1/2":""}\n            ${"seek"===e.position?"left-1/2 bottom-32 -translate-x-1/2":""}\n            ${"fullscreen"===e.position?"right-12 bottom-32":""}\n          `,children:d(e)},e.timestamp))})},F=Z;!function(){const e=Z,t=J();for(;;)try{if(415783===-parseInt(e(326))/1+parseInt(e(334))/2+parseInt(e(369))/3+parseInt(e(344))/4*(-parseInt(e(383))/5)+-parseInt(e(385))/6*(parseInt(e(374))/7)+parseInt(e(343))/8+-parseInt(e(352))/9*(-parseInt(e(314))/10))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const U={BASE_URL:F(364)+F(358)+"mpfreedom."+F(320)};function Z(e,t){const n=J();return Z=function(t,r){let s=n[t-=302];if(void 0===Z.WOckCz){Z.XojPgU=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Z.WOckCz=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Z.XojPgU(s),e[i]=s),s},Z(e,t)}const $=async e=>{const t=F,n={eakHs:function(e,t){return e(t)},dReXK:function(e,t){return e===t},yYFFJ:t(357)+t(313)+t(378)+"TV show se"+t(303)+":"};try{const r=U[t(379)+"URL"]+t(327)+e+"?lang"+t(340)+t(367),s=await n[t(360)](fetch,r);if(!s.ok){if(n[t(353)](s.status,404))return[];throw new Error(t(305)+t(342)+t(366)+" TV s"+t(391)+t(331)+t(390)+s.status+" "+s["statu"+t(354)])}const i=await s[t(337)]();if(!i[t(386)+t(370)+t(319)+"ns"]||i["numbe"+t(370)+t(319)+"ns"]<=0)return[];const a=Array[t(373)]({length:i[t(386)+t(370)+t(319)+"ns"]},(e,t)=>t+1).map(async r=>{const s=t;try{const t=U.BASE_URL+s(327)+e+(s(330)+"on/")+r+(s(324)+s(340)+s(367)),i=await n[s(360)](fetch,t);if(!i.ok){if(n[s(353)](i[s(321)+"s"],404))return null;throw new Error("Failed to "+s(366)+s(362)+s(318)+r+(s(368)+s(348))+i.status+" "+i[s(321)+s(354)])}return i[s(337)]()}catch(i){return null}});return(await Promise.all(a))[t(346)+"r"](e=>null!==e)}catch(r){return[]}};function J(){const e=["mtyXnJGXmvDZs1vSsa","CL9VzL8","igvWAxm","zKfqrfK","zNjVBq","mJi0ote3z1juDfrn","vfyGC2G","lIbuAgK","B3CGBM8","AgLUzYa","qKftrv8","zgvFBNu","BMfTzq","ig5VDca","mta5odi5nuPVAunzva","C2vFzge","mte0zePAvMLv","BNvTyMu","B3CGD2K","yxrO","CL9Wyxq","CZOG","Ag93igq","igzVCIa","DgL0Bgu","yxnVBNm","ywLSCZO","rMfPBgu","x3bHDgG","CM9Wx3a","BMnVCNi","ig1VDMK","EvLgrKO","B2rLlW","tw92Awu","igzLDgm","ntCWzeXjzLj5","BgPmzey","DYbKB2u","C24NDca","B24G","C2vHC28","y29TlZm","C3rHDhu","l21VDMK","DcbMB3u","p2XHBMC","zsbZAg8","ntaXmJC2yKXIvhD3","l3r2lW","yMfJA2q","AguGsuq","l3nLyxm","zxrHAwW","B2rLigq","C3rPBgW","mJy1odm2AMvhtKH1","D2fYBG","zsbKzxq","ANnVBG","zxjYB3i","rxbPC28","DwfNzt0","zM91BMq","zcb0BYa","mtyZnJm1mLrxsvfbtq","oefKD3LQCa","BL9UDw0","zMLSDgu","vvjm","AwXZoIa","nda0oIa","yw4GDgG","DgGGsuq","mtCYmtC5vvjnCLbI","zfjLweS","C1rLEhq","zwn0lG","u0TkyKS","rxjYB3i","oI8VANu","B24V","zwfRshm","Cg9ZDgu","ihnLyxm","ig9Yihq","Ahr0Chm","l2vWAxm","zMv0y2G","zw4Tvvm","igrLDge"];return(J=function(){return e})()}function R(e,t){const n=V();return R=function(t,r){let s=n[t-=464];if(void 0===R.JfwDBl){R.NPIXRc=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,R.JfwDBl=!0}const i=t+n[0],a=e[i];return a?s=a:(s=R.NPIXRc(s),e[i]=s),s},R(e,t)}function V(){const e=["C3bSAxq","B3rVDhK","whvAwu0","BwvTB3i","CgvpzG","yNvMzMu","v1vUBg8","vuncAhq","rwLVqNO","CMfUzg8","ChzLwMK","DMvYAwy","BgvUz3q","mJy5mJq1ngTpvuvdBG","oe9cyLHNqW","rwXVzeO","yMuGBNu","mJm2ndaXndbwA1Hhsg8","C2v0uhi","Aw5ZDge","EK9wD2u","x19UzxC","Dfj4Eei","Cfbdq0W","yKzVtem","Fdf8ma","wxDxzhC","vu1nwgK","AgfYq28","DMfSDwu","B2rLqxq","mtaWmdqXodnYwfjWEKW","nhWYFdm","nZG0nty2DuXdAKzK","y3jLyxq","ndG2mtjsChjzvg4","igLUia","zgvJCNK","C2vYDMu","mtm5mKXbEfPdyW","mtG4ve1dyLb3","C3vIyxi","mti0otKZnwrLr1rPua","zw52","ig5VDca","zNjVBum","u1bPvxO","ig11C3q","mtm1B29LrhPT"];return(V=function(){return e})()}async function X(e,t={}){const n=R,r={pveZi:n(471)+n(464),zOVwe:function(e,t){return e(t)},WUnlo:function(e,t){return e>>>t},bFoLC:function(e,t){return e(t)},WNHvP:function(e){return e()},YwWdw:function(e,t){return e(t)},UMMXi:function(e,t){return e>>>t},pPCCL:function(e,t){return e+t},EioBz:function(e,t){return e>>>t},UCBht:function(e,t){return e>>>t},ehjDH:function(e,t){return e>t},WLapJ:function(e,t){return e-t},SPiUz:function(e,t){return e+t},gmbKi:function(e,t){return e==t},XuZYM:function(e,t){return e<<t},ElodJ:function(e,t){return e<t}},s={env:Object.assign(Object[n(473)+"e"](globalThis),t[n(482)]||{},{seed(){const e={tRxxB:function(e,t){return e*t}};return(()=>{const t=R;return e[t(510)](Date.now(),Math[t(497)+"m"]())})()},abort(e,t,s,i){const a=n,l=r[a(498)][a(488)]("|");let c=0;for(;;){switch(l[c++]){case"0":(()=>{throw Error(e+a(475)+t+":"+s+":"+i)})();continue;case"1":i>>>=0;continue;case"2":t=r[a(508)](o,t>>>0);continue;case"3":s=r.WUnlo(s,0);continue;case"4":e=r[a(508)](o,r[a(494)](e,0));continue}break}}})},{exports:i}=await WebAssembly[n(507)+"ntiate"](e,s),a=i[n(491)+"y"]||t[n(482)][n(491)+"y"];function o(e){const t=n;if(!e)return null;const s=r[t(494)](r[t(511)](e,new Uint32Array(a.buffer)[r[t(496)](e-4,2)]),1),i=new Uint16Array(a[t(493)+"r"]);let o=r[t(495)](e,1),l="";for(;r.ehjDH(r.WLapJ(s,o),1024);)l+=String[t(484)+t(467)+"de"](...i.subarray(o,o+=1024));return r[t(485)](l,String.fromCharCode(...i[t(480)+"ray"](o,s)))}function l(e){const t=n;if(r.gmbKi(e,null))return 0;const s=e[t(500)+"h"],o=r[t(496)](i[t(509)](r[t(490)](s,1),2),0),l=new Uint16Array(a[t(493)+"r"]);for(let n=0;r[t(503)](n,s);++n)l[r[t(511)](r.EioBz(o,1),n)]=e["charC"+t(469)](n);return o}function c(){const e=n;throw r.YwWdw(TypeError,e(468)+e(486)+e(483)+e(504)+"ll")}return Object[n(506)+n(489)+n(492)]({serve:()=>o(i[n(477)]()>>>0),verify(e){const t=n;return e=r[t(512)](l,e)||r.WNHvP(c),0!=i[t(499)+"y"](e)},decrypt(e,t){const s=n;return e=l(e)||c(),r[s(465)](o,r[s(466)](i[s(476)+"pt"](e,t),0))}},i)}!function(){const e=R,t=V();for(;;)try{if(921365===-parseInt(e(481))/1+parseInt(e(501))/2+-parseInt(e(478))/3*(-parseInt(e(479))/4)+-parseInt(e(487))/5*(parseInt(e(474))/6)+-parseInt(e(470))/7+-parseInt(e(502))/8*(-parseInt(e(472))/9)+parseInt(e(505))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Q=ae;!function(){const e=ae,t=ue();for(;;)try{if(834572===parseInt(e(337))/1*(-parseInt(e(204))/2)+-parseInt(e(268))/3*(-parseInt(e(143))/4)+parseInt(e(178))/5+parseInt(e(312))/6*(parseInt(e(371))/7)+-parseInt(e(212))/8*(parseInt(e(142))/9)+parseInt(e(403))/10*(parseInt(e(262))/11)+-parseInt(e(405))/12*(parseInt(e(195))/13))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const _=Q(186)+"://ap"+Q(254)+"easy."+Q(221),ee={NEON:{name:Q(435),endpoint:Q(151)+Q(366)+Q(292)+"d/sources-"+Q(431)+"title",isActive:!0},YORU:{name:Q(159),endpoint:Q(410)+"ources-wit"+Q(252)+"le",isActive:!0},CYPHER:{name:Q(449)+"r",endpoint:Q(427)+Q(272)+Q(167)+"s-with-title",isActive:!0},SAGE:{name:"Sage",endpoint:"1movies/so"+Q(163)+Q(213)+Q(199)+"e",isActive:!0}},te=[ee[Q(139)][Q(138)],ee[Q(121)][Q(138)],ee.CYPHER[Q(138)],ee[Q(343)][Q(138)]];async function ne(){const e=Q,t={FVRdn:function(e,t){return e(t)},nBNyN:e(186)+e(324)+e(270)+"loudflare."+e(432)+e(278)+e(152)+e(290)+e(340)+e(356)+e(290)+"s.min"+e(308)};return!window[e(394)+e(215)]&&await re("https"+e(324)+e(270)+e(309)+e(438)+e(432)+"jax/l"+e(271)+e(351)+e(294)+e(144)+e(365)+e(344)+e(209)+"s"),!window[e(240)+"ds"]&&await t[e(289)](re,t[e(423)]),{CryptoJS:window[e(394)+e(215)],Hashids:window[e(240)+"ds"]}}function re(e){return new Promise((t,n)=>{const r=ae,s=document["creat"+r(442)+r(156)](r(400)+"t");s[r(409)]=e,s[r(412)+"d"]=()=>t(),s[r(184)+"or"]=e=>n(e),document.head[r(341)+"dChild"](s)})}function se(){const e={ExchV:function(e){return e()}};return new Promise(t=>{const n={LZrip:function(t){return e[ae(228)](t)}},r=()=>{const e=ae;window[e(384)]?n[e(246)](t):setTimeout(r,10)};e[ae(228)](r)})}async function ie(e){const t=Q,n={kAxsb:function(e){return e()},qMhpS:function(e,t){return e(t)},tVliT:"d486a"+t(390)+"fdbe6"+t(440)+"d1704541fcf0",LSaUg:t(318)+t(454)+t(331)+"4c1f91bf0c8d678ba"},{Hashids:r}=await n[t(251)](ne),s=n[t(355)](String,e);n[t(256)];const i=e=>e.split("").map(e=>e[t(273)+t(426)](0)),a=new r,o=n[t(355)](i,n[t(441)]);return a[t(334)+"e"](s[t(415)]("")[t(301)](i)[t(301)](e=>{const n=t;return e[n(301)]((e,t)=>e^o[t%o[n(211)+"h"]])})[t(191)]()[t(301)](e=>("0"+Number(e)[t(397)+t(333)](16))[t(422)+"r"](-2)).join(""))}function ae(e,t){const n=ue();return ae=function(t,r){let s=n[t-=117];if(void 0===ae.bPFUWl){ae.Auhspq=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,ae.bPFUWl=!0}const i=t+n[0],a=e[i];return a?s=a:(s=ae.Auhspq(s),e[i]=s),s},ae(e,t)}async function oe(e,t){const n=Q,r=function(e,t){return e===t},s=(n(293),n(414),n(201),n(404),n(186)+n(418)+n(320)+"edom.com/3/"+e+"/"+t+n(185)+"nd_to"+n(376)+n(446)+n(311)+"nal_ids");try{const t=await fetch(s);if(!t.ok)throw new Error(n(414)+n(407)+n(321)+n(207)+"led: "+t[n(450)+"s"]);const i=await t[n(210)]();let a,o,l="";return r(e,n(427))?(a=i[n(299)],o=i.release_date?new Date(i["relea"+n(425)+"te"])[n(198)+n(364)+"r"]():""):(a=i[n(138)],o=i[n(170)+n(274)+n(332)]?new Date(i[n(170)+n(274)+"date"])[n(198)+n(364)+"r"]():""),l=i[n(311)+n(434)+"ds"]?.[n(249)+"id"]||"",{title:a,year:o,imdbId:l}}catch(i){throw i}}async function le(e,t){const n=Q,r={NMgMW:n(206)+n(420),jeUiz:n(277),refzj:n(218)+n(386),lMZuj:function(e,t){return e||t},ZRhdz:"seasonId",dicGx:n(281)+"d",Vptml:n(417)+"d",WrxGo:function(e,t,n){return e(t,n)},mFJDE:n(362)+n(385)},{mediaType:s,tmdbId:i,seasonId:a,episodeId:o,title:l,year:c,imdbId:u,_t:d}=t,m=Object[n(234)+"s"](ee)[n(146)](t=>t[n(138)][n(406)+"erCase"]()===e[n(406)+n(307)+"e"]());if(!m||!m[n(168)+"ive"])throw new Error(n(295)+n(401)+e+(n(118)+n(264)+n(452)+n(162)+n(133)+n(266)+n(230)+"t"));const h=new URL(_+"/"+m["endpo"+n(363)]);h[n(164)+n(375)+"ms"][n(341)+"d"](n(299),l),h[n(164)+n(375)+"ms"][n(341)+"d"](r.NMgMW,s),h[n(164)+n(375)+"ms"][n(341)+"d"](r[n(443)],String(c)),h[n(164)+n(375)+"ms"][n(341)+"d"](r[n(192)],r[n(313)](o,"1")),h[n(164)+n(375)+"ms"][n(341)+"d"](r[n(342)],a||"1"),h[n(164)+n(375)+"ms"].append(r[n(147)],i),h[n(164)+n(375)+"ms"][n(341)+"d"](r[n(399)],r[n(313)](u,"")),d&&h[n(164)+n(375)+"ms"].append("_t",d);try{const e=await r[n(276)](fetch,h[n(397)+n(333)](),{headers:{"Cache-Control":"no-ca"+n(286)+n(437)+"ore, "+n(451)+n(439)+n(325),Pragma:r[n(392)],Expires:"0"}});if(!e.ok)throw new Error(n(165)+n(140)+n(154)+"est f"+n(260)+": "+e[n(450)+"s"]);return await e[n(328)]()}catch(x){throw x}}let ce=null;function ue(){const e=["BMfSx2K","tMvVBG","sw52ywW","BM8TC3q","BgfYzs4","CMv2ywW","m2i2mgi","tfnHvwC","zuvSzw0","AMvvAxO","C20VBw8","EhrwtMS","B25Zzt0","shzptLu","zde3mdq","q3LWAgu","C3rHDhu","BxvZDc0","DMfPBge","zM9YBwe","ywe4ywy","ihf1ywW","iIbPCYa","AwqGC28","wvHLz3i","wu9svq","ifvstca","z2v0u28","y2vszxm","y3q6","yxv0BW","q3jLyxq","lcbt","wc1tvfi","Aw5KzxG","zxiGzM8","ruruwxa","CIbKB2u","rxjYB3i","vKz2rMq","zgvJCNK","Bg9N","BMfTzq","tKvptG","zsbbueK","DgX5igy","nda4nJu0ouXjBwvOtq","nJbes0zRC0u","lJeUms8","DxrPB24","zMLUza","zgLJr3G","C3vIDgK","t2r4tMO","BsaI","BxLMBgK","AwjZl2G","zw50CMK","ihjLCxu","zwfTAw4","zw50","y2vZic0","zMrIzty","ww9YDq","tM8GDMe","BMCGC28","yMXLig8","DxjJzxm","C2vHCMm","u291CMm","uLHLEhe","B3vYy2u","Axnby3q","Aw5Nig0","zMLYC3q","CMvWBge","v1nuyuW","zxrJAgK","AwfSihm","BKHrte8","CMnLCZO","C3rYAw4","ndC1ntK5mgfHBhjMAa","DxjJzsa","DgTbCfu","zxm6","z2LMEq","rhz5v0O","B25LCNi","p2fWCgu","Ahr0Chm","z1niuMm","B3iGzMK","q0rjA0e","ugzPCw8","zMXHDa","CMvMEMO","zxnZzNu","B0HqqMm","mtCWmdrJBuHNEKC","BNb1DdO","ihnVDxi","z2v0rNu","lxrPDgW","ihbHCNm","Bwv0ywq","CLvxy3u","ug1jvhu","ode3ntm4tKrsAwXv","uhjVy2u","BwvKAwe","DcbMywK","zw5JCNK","BwLUlMO","ANnVBG","BgvUz3q","ogTvqxDYsW","lxDPDgG","CxvHBgK","B0Pt","DhjPBq","r05Izgq","zxbPC28","ihn1y2m","C2vYDMu","BMv0","quvt","CYbMCM8","Ahr0Ca","uK1qt1O","Aw5JBhu","ve14s3G","rxHJAfy","BwnUsvO","igv4Axm","zxj2zxi","Aw5Nihm","C291CMm","DMfSDwu","CYbHCNi","DgXLCW","zM91BMq","vw51EeO","Cur4t3a","sgfZAgK","igzYB20","AwuG","qvnnig0","Aw5Nie0","B2jQzwm","tfPYAxa","vvjm","lNDHC20","Aw1KyL8","qxv0BW","A0f4C2i","Ac10Axq","igXVywq","As52Awq","zxjYB3i","DfzSAvq","AxzL","D2fYBG","D2L0Aca","ywLSzwq","DwzQteC","mtfRvhv4vM4","ptaTmJa","BM90ige","CYbPBIa","CYbUB3q","BMrLEa","mZyZme9Wtgvvsq","yxnZAwC","BMPZlMm","AwjZl2m","yM94l3m","y2HHCKm","x2fPCL8","ihnLCNy","v3j4r28","EwvHCG","AMf4l2W","ru12vxm","tKvcALq","Dg1KyKK","CfrPq1m","ig9IAMu","zwPOCg0","CMnLCYa","y2HLlca","s0vytuC","i0vyvc0","rLzszg4","yxnOAwq","vIbZB3u","CgnSB3u","AgLUzYa","lwPZlZq","u2vYDMu","v2Lmsxa","oIbtB3u","Bwf0y2G","DgL0Bgu","igzLDgm","BwfW","B3iGzgK","AwvZigK","AxnbCNi","AxLAEeC","r1rMBM8","zxjdyxm","lMPZ","Bg91zgy","BgfIzwW","zxH0zxi","otG5nJC0oezODez4uq","Be1ADwO","AxrPzxm","zMLSzq","AgvPz2G","rMv0y2G","ogm0nJu","qwrKzwq","BxbMCMu","zxf1zxm","C1DPDgG","A0zkB1G","oI8Vy2q","AwrHDgu","B2r1Bgu","igLUAxq","Dgv4Da","Exb0Aw4","z2v0vgK","nMnIzMq","zgf0zq","Aw5N","zw5JB2q","CgfYC2u","r3zNBfO","mMvQyvjTua","y3rPBMC","zxmGzM8","CY8YlJi","yxbWzw4","wLjOzhO","u0fhrq","BY1QCY4","Aw5NifC","igDLDhq","zgvZ","sxryAuS","uMrAvgu","vxrMoa","CNLWDg8","zxi6","zgf0ysa","AwfSAxO","Cu1OCfm","lJeWl2G","Dw5ZAgK","yKrUtvy","sKLJwKm","C3rHCNq","uMzxrwy","BM8Ty2e","Aw50","BgXzzwe","y3j5Chq","EgvYENu","Aw5Nifq","ChrLzca","rxH0CMe","zYbZB3u","n2ztBNDiuW","Bg9vuwq","zdq4nMe","BgLKihm","AfbHCMe","x3jLC3a","CMvZB2W","zw5J","vhj5Aw4","mdaWma","CMvJDca","ChvZAa","Cg9UC2u","AgfZAa","y2HL","zgvjza","AvHYq3q","C2HVDYa","rgvJCNK","ztfJzty","CIbuvIa","Buzkreu","igzVCIa","q3j5Chq","sMv0Da","C29YDa","Dg9tDhi","yuflBgK","vNb0BwW","C2nYAxa","CIaI","DxjS","mtiZmZu0ntbXDurbyuG","yxrHoG","mtyWmJb0CKLst3i","Dg9mB3C","qvbjihi","Aw5NBgu","C3jJ","y2rUl3m","ig0ZDtG","B25SB2e","BguGvvi","ve1eqIa","C3bSAxq","DgHLihm","Aw1KyKK","oI8VANu","sgXwChi","vhLWzq","zxmGzNi","C3vIC3q","BKjoEu4","lI4U","C2vFzge","B2rLqxq","Bw92Awu","AfLhr2e","DMvYAwy","BgvtDhi","D2L0Ac0","y29Tl2e","zMLSDgu"];return(ue=function(){return e})()}async function de(e,t){const n=Q,r={lujkV:function(e){return e()},VFvFd:function(e){return e()},aAKli:function(e,t){return e(t)},Pfiqo:function(e,t){return e(t)},rwwjS:function(e,t){return e+t},SeyfK:n(373)+"e1ce6"+n(158)+n(440)+n(448)+"541fcf0",DvVyI:"Error decr"+n(329)+n(370)+n(176)};try{const{CryptoJS:s}=await r.lujkV(ne),i=await async function(){const e=Q,t={NEBjT:function(e,t,n){return e(t,n)},rTJCy:function(e,t){return e(t)},NoASi:"/assets/wa"+e(444)+"dule1"+e(248),WaDec:"Error"+e(327)+e(354)+e(345)+e(243)+e(326)+":"};return!ce&&(ce=(async()=>{const n=e;try{return await t[n(280)](X,await WebAssembly["compi"+n(430)+n(155)+"g"](t.rTJCy(fetch,t.NoASi)),{env:{}})}catch(r){throw r}})()),ce}(),a=i[n(220)]();new Function(a)(),await r[n(135)](se),i[n(429)+"y"](window.hash);const o=r[n(398)](parseInt,t),l=i[n(136)+"pt"](e,o),c=await r[n(190)](ie,r.rwwjS(o,r.SeyfK)),u=s[n(222)][n(136)+"pt"](l,c)[n(397)+n(333)](s[n(378)][n(350)]);return JSON[n(335)](u)}catch(s){throw s}}function me(e,t){const n=Q,r={IIfyo:n(436)+n(119)+n(179)+n(353)+n(453)+"t",ejhpm:function(e,t){return e(t)}};if(!e||!e[n(233)+"es"]||!Array.isArray(e[n(233)+"es"]))throw new Error(r.IIfyo);const s={url:"",sources:e[n(233)+"es"][n(433)+"r"](e=>e&&e[n(402)]&&e[n(214)+"ty"]),subtitles:e[n(148)+n(236)]||[]};return{sources:{[t]:s},tmdb_id:r[n(284)](parseInt,e.tmdbId||"0"),total_scraping_time:0,type:e["media"+n(420)]||n(427)}}async function he(e,t,n,r,s){const i=Q,a={UnuxJ:function(e,t,n){return e(t,n)},loUQd:function(e,t){return e||t},GTfno:function(e,t){return e||t},xtVNk:function(e,t,n){return e(t,n)},yxtIj:function(e,t){return e>t}};try{const o=await a[i(238)](oe,t,n),l=(new Date).getTime(),c={mediaType:t,tmdbId:n,seasonId:a[i(372)](r,"1"),episodeId:a[i(306)](s,"1"),title:o.title,year:o[i(277)],imdbId:o[i(417)+"d"],_t:l[i(397)+i(333)]()},u=await a[i(445)](le,e,c),d=await a.UnuxJ(de,u,n);if(!d||!d.sources||!Array[i(304)+"ay"](d.sources))return null;const m={url:"",sources:d[i(233)+"es"],subtitles:d[i(148)+"tles"]||[]};return Array[i(304)+"ay"](m[i(233)+"es"])&&a.yxtIj(m[i(233)+"es"][i(211)+"h"],0)?m:null}catch(o){return null}}const xe="video_player_settings",fe={autoplay:!0,autoNext:!0,pauseScreen:!0,idleCheck:null},ge=e=>{try{const t=localStorage.getItem(xe),n=t?JSON.parse(t):null,r={...fe};return"boolean"==typeof e?.autoplay&&(r.autoplay=e.autoplay),"boolean"==typeof e?.autoNext&&(r.autoNext=e.autoNext),"boolean"==typeof e?.pauseScreen&&(r.pauseScreen=e.pauseScreen),"number"!=typeof e?.idleCheck&&null!==e?.idleCheck||(r.idleCheck=e.idleCheck),n&&("boolean"==typeof n.autoplay&&(r.autoplay=n.autoplay),"boolean"==typeof n.autoNext&&(r.autoNext=n.autoNext),"boolean"==typeof n.pauseScreen&&(r.pauseScreen=n.pauseScreen),"number"!=typeof n.idleCheck&&null!==n.idleCheck||(r.idleCheck=n.idleCheck)),r}catch{return fe}},pe=e=>{localStorage.setItem(xe,JSON.stringify(e))},ve=o.memo(({menuRef:e,qualities:t=[],currentQuality:n=null,onQualityChange:r,onSettingsChange:s})=>{const[i]=a(),u=O(),[d,m]=o.useState(()=>{const e=i.get("autoplay"),t=i.get("autonext");return ge({autoplay:null===e?null:"true"===e.toLowerCase(),autoNext:null===t?null:"true"===t.toLowerCase()})});c(),o.useEffect(()=>{},[t,n]);return l.jsxs("div",{ref:e,className:"bg-[#0A0A0A] rounded-2xl shadow-lg shadow-black/50 border border-[#1A1A1A] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200 w-[300px] md:w-[400px]",style:{maxHeight:"calc(100vh - 200px)"},children:[l.jsx("div",{className:"px-4 py-3 bg-[#101010] border-b border-[#1A1A1A] flex items-center justify-between sticky top-0 z-20",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-7 h-7 rounded-lg flex items-center justify-center",style:{backgroundColor:W(u,.1),borderColor:W(u,.2),borderWidth:"1px"},children:l.jsx(E.Settings,{className:"w-3.5 h-3.5",style:{color:u}})}),l.jsx("h3",{className:"text-[13px] font-medium text-white",children:"Settings"})]})}),l.jsx("div",{className:"p-2 overflow-y-auto",style:{maxHeight:"calc(100vh - 300px)"},children:l.jsxs("div",{className:"space-y-1",children:[t&&t.length>0&&l.jsxs("div",{className:"w-full px-3 py-2 rounded-xl space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.Quality,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Quality"}),l.jsx("div",{className:"text-[11px] text-white/50",children:n?`Current: ${n.quality}`:"Select video quality"})]})]}),1===t.length&&"Auto"===t[0].label?l.jsx("div",{className:"mt-2 w-full px-3 py-2 rounded-xl bg-gradient-to-br from-[#101010] to-[#0A0A0A] border border-white/[0.08] shadow-lg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("span",{className:"text-lg font-bold text-white",children:"Auto"}),l.jsx("div",{className:"text-[11px] text-white/50 mt-1",children:"Direct Source"})]})}):l.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:t.map((e,t)=>l.jsxs("button",{onClick:()=>r?.(e),className:`\n                      relative aspect-square rounded-xl transition-all duration-300 group overflow-hidden\n                      ${n?.url===e.url?"bg-gradient-to-br from-[#101010] to-[#0A0A0A] border border-white/[0.08] shadow-lg":"hover:bg-white/5"}\n                    `,style:n?.url===e.url?{boxShadow:`0 8px 20px -4px ${W(u,.25)}`}:void 0,children:[l.jsxs("div",{className:"\n                      h-full flex flex-col items-center justify-center relative z-10\n                      transition-transform duration-300 group-hover:scale-105\n                    ",children:[l.jsx("span",{className:`\n                        text-2xl font-bold mb-1 transition-all duration-300\n                        ${n?.url===e.url?"text-white":e.url?"text-white/70 group-hover:text-white":"text-white/40"}\n                      `,children:e.quality.replace(/\[hdr\]/i,"").trim()}),e.url&&n?.url===e.url&&l.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 translate-y-1/2 w-6 h-6 rounded-full flex items-center justify-center",style:{background:`linear-gradient(135deg, ${u}, ${W(u,.8)})`,boxShadow:`0 4px 12px -2px ${W(u,.3)}`},children:l.jsx(E.Check,{className:"w-3.5 h-3.5 text-white drop-shadow"})})]}),l.jsx("div",{className:`\n                        absolute inset-0 opacity-0 transition-opacity duration-300\n                        ${e.url?"group-hover:opacity-100":""}\n                      `,style:{background:`linear-gradient(135deg, ${W(u,.1)}, transparent)`}}),n?.url===e.url&&l.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${W(u,.15)}, transparent)`}})]},e.url||t))})]}),l.jsxs("button",{onClick:()=>{const e={...d,autoplay:!d.autoplay};m(e),pe(e),s?.()},className:"w-full px-3 py-2 rounded-xl flex items-center justify-between hover:bg-white/5 transition-colors duration-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.Play,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Autoplay"}),l.jsx("div",{className:"text-[11px] text-white/50",children:"Automatically play videos"})]})]}),l.jsx("div",{className:"w-10 h-6 rounded-full transition-colors duration-200 flex items-center",style:{backgroundColor:d.autoplay?u:"#2A2A2A"},children:l.jsx("div",{className:"w-5 h-5 rounded-full bg-white shadow-lg transition-transform duration-200",style:{transform:d.autoplay?"translateX(1rem)":"translateX(0.25rem)"}})})]}),l.jsxs("button",{onClick:()=>{const e={...d,autoNext:!d.autoNext};m(e),pe(e),s?.()},className:"w-full px-3 py-2 rounded-xl flex items-center justify-between hover:bg-white/5 transition-colors duration-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.SkipForward,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Auto Next Episode"}),l.jsx("div",{className:"text-[11px] text-white/50",children:"Automatically play next episode"})]})]}),l.jsx("div",{className:"w-10 h-6 rounded-full transition-colors duration-200 flex items-center",style:{backgroundColor:d.autoNext?u:"#2A2A2A"},children:l.jsx("div",{className:"w-5 h-5 rounded-full bg-white shadow-lg transition-transform duration-200",style:{transform:d.autoNext?"translateX(1rem)":"translateX(0.25rem)"}})})]}),l.jsxs("button",{onClick:()=>{const e={...d,pauseScreen:!d.pauseScreen};m(e),pe(e),s?.()},className:"w-full px-3 py-2 rounded-xl flex items-center justify-between hover:bg-white/5 transition-colors duration-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.Pause,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Pause Screen"}),l.jsx("div",{className:"text-[11px] text-white/50",children:"Show information when paused"})]})]}),l.jsx("div",{className:"w-10 h-6 rounded-full transition-colors duration-200 flex items-center",style:{backgroundColor:d.pauseScreen?u:"#2A2A2A"},children:l.jsx("div",{className:"w-5 h-5 rounded-full bg-white shadow-lg transition-transform duration-200",style:{transform:d.pauseScreen?"translateX(1rem)":"translateX(0.25rem)"}})})]}),l.jsx("div",{className:"w-full px-3 py-2 rounded-xl space-y-2",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.SkipForward,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Idle Check"}),l.jsx("div",{className:"text-[11px] text-white/50",children:d.idleCheck?`Check if you're still watching after ${d.idleCheck} minutes`:"Disabled"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"number",min:"0",max:"480",value:d.idleCheck||"",onChange:e=>{const t=e.target.value,n=parseInt(t),r={...d,idleCheck:!isNaN(n)&&n>0?n:null};m(r),pe(r),s?.()},placeholder:"0",className:"w-16 bg-[#1A1A1A] text-white text-sm rounded-lg px-2 py-1 border border-white/10"}),l.jsx("span",{className:"text-sm text-white/50",children:"min"})]})]})})]})})]})});ve.displayName="SettingsMenu";const we=({error:e,onReload:t})=>{const n=O();return l.jsx("div",{className:"absolute inset-0 z-10 bg-black/80 backdrop-blur-sm flex items-center justify-center",children:l.jsxs(B.div,{className:"w-80 max-w-[90%] rounded-2xl bg-[#0A0A0A]/95 backdrop-blur-xl p-6 shadow-2xl border border-white/[0.08] text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},style:{boxShadow:`0 25px 50px -12px ${W(n,.15)}`},children:[l.jsx("div",{className:"w-16 h-16 rounded-xl mb-4 mx-auto flex items-center justify-center",style:{backgroundColor:W(n,.1),borderColor:W(n,.2),borderWidth:"1px"},children:l.jsx(E.Close,{className:"w-8 h-8",style:{color:n}})}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-white/70 mb-4",children:e?.message}),l.jsx("button",{className:"w-full py-2 rounded-lg hover:opacity-90 transition-all duration-200 font-medium",onClick:t,style:{backgroundColor:n},children:"Reload Player"})]})})};class ye extends o.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?l.jsxs("div",{className:"relative w-full h-full",children:[this.props.children,l.jsx(we,{error:this.state.error,onReload:()=>window.location.reload()})]}):this.props.children}}const be={hidden:{opacity:0,y:20,transition:{duration:.3,ease:[.32,0,.67,0]}},visible:{opacity:1,y:0,transition:{duration:.4,ease:[.16,1,.3,1]}}},Ce={hidden:{opacity:0,y:-20,transition:{duration:.3,ease:[.32,0,.67,0]}},visible:{opacity:1,y:0,transition:{duration:.4,ease:[.16,1,.3,1]}}},je=({children:e,hideDelay:t=5e3,isAnyMenuOpen:n=!1,isPaused:r=!1,isIdleCheckVisible:s=!1})=>{const[i,a]=o.useState(!0),[c,u]=o.useState(null),[d,m]=o.useState(!1),[h,x]=o.useState(!1);o.useEffect(()=>{const e=()=>{const e=Array.from(document.getElementsByClassName("fixed")).filter(e=>e.classList.contains("inset-0")&&e.classList.contains("z-50"));x(e.length>0)};e();const t=setInterval(e,100);return()=>clearInterval(t)},[]);const f=o.useCallback(()=>{if(!(s||(a(!0),c&&clearTimeout(c),n||h||r))){const e=setTimeout(()=>{a(!1)},t);u(e)}},[t,c,n,h,r,s]),g=o.useCallback(()=>{d||f()},[d,f]),p=o.useCallback(()=>{m(!0),f()},[f]);return o.useEffect(()=>()=>{c&&clearTimeout(c)},[c]),o.useEffect(()=>{if(n||h||r)a(!0),c&&clearTimeout(c);else{const e=setTimeout(()=>{a(!1)},t);u(e)}return()=>{c&&clearTimeout(c)}},[n,h,r,t]),o.useEffect(()=>(document.body.style.cursor=i?"default":"none",()=>{document.body.style.cursor="default"}),[i]),l.jsx("div",{className:"relative w-full h-full",onMouseMove:g,onTouchStart:p,children:"function"==typeof e?e(i):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0",children:Array.isArray(e)?e.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&("video"===e.type||"function"==typeof e.type&&"KeyboardShortcuts"===e.type.name)):null}),l.jsx(M,{children:(i||n||h)&&l.jsx(B.div,{variants:Ce,initial:"hidden",animate:"visible",exit:"hidden",className:"absolute top-0 inset-x-0 z-[60]",children:Array.isArray(e)&&e.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&"function"==typeof e.type&&"HeaderSection"===e.type.name)},"header")}),l.jsx(M,{children:(i||n||h)&&l.jsx(B.div,{variants:be,initial:"hidden",animate:"visible",exit:"hidden",className:"absolute inset-0",children:Array.isArray(e)?e.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&!("video"===e.type||"function"==typeof e.type&&("KeyboardShortcuts"===e.type.name||"HeaderSection"===e.type.name))):e},"controls")})]})})};function Ne(){const e=["mJG2nJbhvMvwz28","DgvZDa","mJy1nJG1v1vYu3Px","nK5PuhbtsW","nZK3nde3nwDdCwnqtG","mtbwrxDkwfq","BxrSyK4","v2LKDgG","qKrTu1m","sgvPz2G","nda5mtKWngjJB0X1DG","ntC4ndfdq3joyKO","mta0mJa3mtncvNjrsxK","DxnLCKe","Aw5Uzxi","mZm2ANfyCxfX","oti4mJK3n1HcCgfhyq","ndG4DuTmq1zf","mtjMzgDQBhm"];return(Ne=function(){return e})()}!function(){const e=Ae,t=Ne();for(;;)try{if(811037===parseInt(e(213))/1*(-parseInt(e(214))/2)+-parseInt(e(226))/3*(parseInt(e(211))/4)+parseInt(e(215))/5+-parseInt(e(221))/6+parseInt(e(222))/7*(-parseInt(e(209))/8)+parseInt(e(223))/9*(parseInt(e(216))/10)+parseInt(e(208))/11*(parseInt(e(210))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ze=()=>{const e=Ae,t=window[e(225)+e(218)]<=768,n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[e(212)](navigator[e(224)+"gent"]);return{mtlbN:function(e,t){return e||t}}[e(217)](t,n)};function Ae(e,t){const n=Ne();return Ae=function(t,r){let s=n[t-=208];if(void 0===Ae.wAFLkl){Ae.SMBLlp=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Ae.wAFLkl=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Ae.SMBLlp(s),e[i]=s),s},Ae(e,t)}const Se=()=>{const e=Ae;return{BDmSS:function(e,t){return e>t}}[e(219)](window[e(225)+e(218)],window[e(225)+e(220)+"t"])},Le=o.memo(({tmdbId:e,currentSeason:t,currentEpisode:n,currentTime:r,duration:s,controlsVisible:i=!0})=>{const[c]=a(),[u,d]=o.useState(null),[m,h]=o.useState(!1),[x,f]=o.useState(!1),[g,p]=o.useState(15),[v,w]=o.useState(()=>{const e=c.get("autonext");return ge({autoNext:null===e?null:"true"===e.toLowerCase()}).autoNext}),y=O(),[b,C]=o.useState(ze()),[j,N]=o.useState(Se());o.useEffect(()=>{(async()=>{try{const r=await $(e),s=parseInt(t),i=parseInt(n),a=r.find(e=>e.season_number===s);if(!a)return;const o=a.episodes.find(e=>e.episode_number===i+1);if(o)return void d({season:s,episode:o.episode_number,name:o.name,overview:o.overview,still_path:o.still_path,air_date:o.air_date});const l=r.find(e=>e.season_number===s+1);if(l&&l.episodes.length>0){const e=l.episodes[0];return void d({season:l.season_number,episode:e.episode_number,name:e.name,overview:e.overview,still_path:e.still_path,air_date:e.air_date})}d(null)}catch(r){d(null)}})()},[e,t,n]);const z=o.useCallback(()=>{if(u){const t=new URLSearchParams(window.location.search),n=`/watch/tv/${e}/${u.season}/${u.episode}${t.toString()?`?${t.toString()}`:""}`;window.location.replace(n)}},[e,u]),A=o.useCallback(()=>{const e=document.querySelector("video");e&&(e.pause(),e.currentTime=0,setTimeout(()=>{e.play().catch(()=>{e.muted=!0,e.play().catch(()=>{})})},100))},[]);if(o.useEffect(()=>{const e=s-r;if(!s||s<=0||r<=0)return void h(!1);if(e<=90&&null!==u&&h(!0),e<=0)if(u&&v)z();else if(!v){const e=document.querySelector("video");e&&(e.pause(),e.classList.add("ended"))}},[r,s,u,z,v]),o.useEffect(()=>{const e=()=>{C(ze()),N(Se())};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),!s||s<=0||r<=0)return null;if(!m||!u)return null;const S=Math.max(0,Math.floor(s-r));return l.jsx(l.Fragment,{children:l.jsx("div",{className:`\n          fixed transition-all duration-500 ease-in-out transform\n          ${m&&!x?i?"opacity-100 translate-y-0 bottom-24 right-4 md:bottom-32":"opacity-100 translate-y-0 bottom-4 right-4 md:bottom-8":"opacity-0 translate-y-8 pointer-events-none bottom-24 right-4 md:bottom-32"}\n        `,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:A,className:`\n              flex items-center space-x-2 sm:space-x-4 bg-[#0A0A0A] hover:bg-[#101010] \n              border rounded-xl transition-all duration-300 group\n              ${b?j?"p-2 scale-90":"p-2 scale-85":"p-3"}\n            `,style:{borderColor:"rgb(26, 26, 26)"},children:l.jsx("div",{className:`\n                rounded-lg flex items-center justify-center transition-all duration-300\n                ${b?j?"w-10 h-10":"w-9 h-9":"w-12 h-12"}\n              `,style:{background:`linear-gradient(135deg, ${W(y,.15)}, transparent)`},children:l.jsx(E.SkipBack,{className:`\n                  transition-all duration-300\n                  ${b?j?"w-5 h-5":"w-4 h-4":"w-6 h-6"}\n                  text-white/90 group-hover:text-white group-hover:scale-110\n                `,strokeWidth:2.5})})}),l.jsxs("button",{onClick:z,className:`\n              flex items-center space-x-2 sm:space-x-4 bg-[#0A0A0A] hover:bg-[#101010] \n              border rounded-xl transition-all duration-300 group\n              ${b?j?"p-2 scale-90":"p-2 scale-85":"p-3"}\n            `,style:{borderColor:x?W(y,.3):"rgb(26, 26, 26)",background:x?`linear-gradient(135deg, ${W(y,.1)}, transparent)`:void 0,boxShadow:x?`0 8px 24px -4px ${W(y,.2)}`:void 0},children:[l.jsx("div",{className:`\n                rounded-lg flex items-center justify-center transition-all duration-300\n                ${b?j?"w-10 h-10":"w-9 h-9":"w-12 h-12"}\n              `,style:{background:x?`linear-gradient(135deg, ${y}, ${W(y,.8)})`:`linear-gradient(135deg, ${W(y,.15)}, transparent)`,boxShadow:x?`0 8px 16px -4px ${W(y,.3)}`:void 0},children:l.jsx(E.SkipForward,{className:`\n                  transition-all duration-300\n                  ${b?j?"w-5 h-5":"w-4 h-4":"w-6 h-6"}\n                  ${x?"text-white scale-110":"text-white/90 group-hover:text-white group-hover:scale-110"}\n                `,strokeWidth:2.5})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("p",{className:`\n                  font-medium text-white/50\n                  ${b?"text-[10px]":"text-[11px]"}\n                `,children:"Next Episode"}),l.jsx("div",{className:"h-1 w-1 rounded-full bg-white/20"}),l.jsxs("p",{className:`\n                  font-medium text-white/50\n                  ${b?"text-[10px]":"text-[11px]"}\n                `,children:[S,"s"]})]}),l.jsx("h4",{className:`\n                font-medium text-white truncate\n                ${b?j?"text-xs max-w-[160px]":"text-xs max-w-[140px]":"text-sm max-w-[200px]"}\n              `,children:u.name})]})]})]})})})});function Be(e,t){const n=Me();return Be=function(t,r){let s=n[t-=349];if(void 0===Be.lHnHEC){Be.AVFlYG=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Be.lHnHEC=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Be.AVFlYG(s),e[i]=s),s},Be(e,t)}function Me(){const e=["D3fLu1K","CNjLBNq","mteXoda1mg5HrvjbBW","u2rUywS","mtG2mdzLuuLbsgW","nda1nKDWv3DfBG","nhbztxnTwG","lM0ZDtG","ywXPDgK","DMPxDLu","mtK4mJm0ugLOqLbj","mti4mtKZndHZzxHABvq","u2v0DgK","Axr5igK","mtCWmtbewKjQD1e","ihf1ywW","mtqWq1PMCuDV","t0fvz1C","ihn0yxq","Dgu6","mZK2nJuZnhPoz2L4Da","DxLWEMi","DKXkD3O","zxmGAw4","BgvUz3q","DxjS","twXmAvC","zxjdyxm","CM1RDuy","Aw5JBhu","BIbZDge","yvvOsM4","AfbTqKq","BMCGy3u","zgvZ","nJu3mJu3mgT4BM5uwG"];return(Me=function(){return e})()}Le.displayName="NextEpisodeButton",function(){const e=Be,t=Me();for(;;)try{if(749970===-parseInt(e(372))/1*(parseInt(e(374))/2)+-parseInt(e(368))/3+parseInt(e(364))/4*(-parseInt(e(357))/5)+parseInt(e(378))/6+parseInt(e(362))/7*(parseInt(e(363))/8)+parseInt(e(369))/9+-parseInt(e(360))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const De=qe;!function(){const e=qe,t=Ee();for(;;)try{if(425755===-parseInt(e(716))/1+parseInt(e(411))/2*(-parseInt(e(324))/3)+-parseInt(e(670))/4+parseInt(e(741))/5+-parseInt(e(691))/6+parseInt(e(565))/7*(parseInt(e(381))/8)+parseInt(e(645))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ke=new Set;typeof window!=De(380)+"ined"&&(window[De(483)+De(329)+De(593)+"jects"]=window[De(483)+"iaSourceOb"+De(481)]||{});const Ie=e=>{const t=De,n={CiuNS:t(434),QScna:t(702),buAyu:"/mp4/",RHMvI:t(634)+t(508),ELLfO:"mp4st"+t(359),kWbSx:"mp4video",zKUoL:t(588)+"nk"};if(!e)return!1;const r=e[t(699)+t(448)+"e"]();if(r["inclu"+t(563)](n.CiuNS))return!0;if(r["inclu"+t(563)](n[t(491)]))return!0;if(r[t(518)+"des"](t(383)+t(728)))return!0;return[n[t(694)],"mp4download",t(319)+t(660),n[t(510)],n[t(331)],n.kWbSx,n[t(345)]][t(394)](e=>r[t(518)+t(563)](e))};function qe(e,t){const n=Ee();return qe=function(t,r){let s=n[t-=315];if(void 0===qe.pGsifJ){qe.cZVnfO=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,qe.pGsifJ=!0}const i=t+n[0],a=e[i];return a?s=a:(s=qe.cZVnfO(s),e[i]=s),s},qe(e,t)}function Ee(){const e=["zhm6","y2fYEhC","qK5pvfm","CMu6","zgrVr3a","C3nPDMu","vxrfC3C","Aw5Nihm","ignVzgu","Dgf3Dey","BwLnDeu","r0vu","tLfmywK","Dhbszxe","Aw5Nifu","B2rZigy","EgDhAKq","CMLUzYa","q2XLyw4","ueLRvLG","Bxa0BgK","lcbJBgu","yxbWzw4","DMLUzYa","ru9xs0K","CMnLt2i","AxHRufq","EwLVEei","ignYzwe","C2LZ","Bwv0ywq","zuv2zw4","Cfzvww4","zcbWB3m","tffTAeK","A2DiD2q","z21LBNq","tKvQuMu","ywX0zxi","y2HLCYa","EwLUzYa","BNruAw0","Bg9Iifu","seffs1e","qwHpCu4","zw5LCG","zvLyBgK","z2Dgy0K","BMfTzq","zxzLBNq","zM9YoG","AfbHCMe","Aw5Lza","u3jcDKG","yuLhtvK","u3rHDgu","yMXVyIa","sK53BuK","CMvZCg8","tu5Wz0S","AgvHzgu","igfWCgu","rLzjww8","igrLDgu","BM9yr2W","Aw5Nigi","zgLYzwm","u2vLA2K","DdOG","CMv2B2S","vNDPwM8","ys40mc4","zw50","ihjLDhi","yw5HBhK","yuXdv1m","zw9Wzw4","nty4nJi5me5SAKfRyW","zgfxtvy","DgnOigy","zunOAwW","CM9NCMu","swHTEw8","ywWGtva","C291CMm","DgHLBG","yxjYyxK","rvH5tNy","CMLUzW","igLUigm","igj1zMy","z2v0","CMvJDa","v0LtquW","DgLTzxu","tKzgvgC","lcbJCMu","zxjPBMC","AxHPAfK","DcbHCha","CgrHDgu","zcWGCMu","ode5nJeYqvvgsxHU","tezsA1O","igr1CMK","B2iGvvi","zw5K","Axneq00","A2LUzYa","sgPMrNy","ywLSzwq","DxjJzui","z2Tsyw4","u3zTqwu","BgLUzYa","Bg9N","DxaGtwu","ExzpAgS","ywrKrxy","BNqGyxq","DgeUy28","rxjYB3i","qxr0zw0","mJu4ndu3mKz5zNrgzq","ncbIDwy","ifvstca","yNvbExu","zxrJAca","zgLHu28","u2nuuxO","yKjRsxG","Dg9mB3C","BNqTtgu","zLn2Dfy","lM1Wnd8","uhHuAfq","CMvUDca","AYbLCNi","BwDxv3m","sNH6z3e","qKfrBhi","B0vstgS","uNnRC2G","lcbLBMq","BNqTuMe","zw50tgK","BMCGAw4","Bw92Aw4","nta4ntC0t2z5DfP5","rNjmzfe","zgvSzxq","AfrVvMK","Aw5Nihu","Dw5RoG","BwXxvfq","wgr2tgq","zu9IAMu","AxrPywW","C3rHDhu","zxiGC2u","l21Wna","BMLUzYa","r3HoExa","uKX6ugS","zNLPBMC","B3bLBG","C3nMDwW","vgzxrKG","uKW6","wNvwyMu","CNmGzMu","BwHTufK","zej1zMy","mZe0otu3mfrLyM5ADa","Bwf4","tM8Ty28","AxnZDwu","Dg9tDhi","BgHoELi","ChvZAa","ihvUyNu","ChjLBg8","C3vJy2u","Dxm6ia","ifvstdO","zMv0y2G","Bxa0zgK","AgvUsw8","B25ZlI4","qw5KrMu","shr0Cfi","m3z2ywDorG","zwvUza","zwn0Aw8","zK9ntuK","vhj5Aw4","AwftB3u","BM9Uzq","ruXmzK8","tg5rr1q","rNzvD1i","uwHTr1i","ihDPDgG","yNvMzMu","BMD0Aa","Bw9Yzsa","DhmGyw4","BwfPBIa","DwvZDca","DMDVCMK","BMCGB3i","u3rYzwe","EKTvB0W","DgnOig0","BM8Ty28","y3vYCMu","y2uGyxa","yMXVyG","CMTLzcW","CMvTB3y","DKPevxK","EwjLshK","y29UDge","ChjVywm","C2vLAYa","z2LUlMG","CMvHBq","sw5PDgK","BLjNwvK","vvjmoG","Awv2Aw4","zYbnzwq","ihrVigm","DLDMA3e","C3rHCNq","Aw5N","Aw5Nifa","zMzLCMu","DxjJztO","BM93","CMvK","C2vHCMm","zYbZDge","zcbIBg8","BfrRBhi","yNL0zxm","Eu1YBhe","Dw5Kzwy","mZKWodqWog9mDufdtq","yNL0zuW","DMLKzw8","CcbVBgq","y3m9iMe","CIbZAxO","u3vPsNC","BMCGDg8","DK11D2G","B20G","zwqGyMW","q29tree","ignSzwe","C29Tzq","zwfbCfa","BcbvuKW","ALrLz0y","rxHJzwu","t1rAu3u","zeX2q2W","BMrHCMq","z2GGzg8","lI4U","BMrPBMC","y2H1BMS","z2LUzYa","D2fYBG","u291CMm","CMnLoG","tvLxv1C","mZyWntyYuuD0rhb3","Bg9Hza","vgP6rLe","C3rLBMu","ChbYB2e","y29UDgu","CxrJvvO","AxPhDvG","BgXPBMC","zuLK","Bg9Jyxq","y3rLzca","yM9KEq","zw5Kt2y","zxiGzNi","zYbytuW","zw5NDgG","qwXSigq","CM9Hy2G","DhjLyw0","CMvHzhK","zMXVB3i","ywrK","lM1Wna","Aw9U","tKLsCLa","C2v0","zw5Kq2G","we1mshq","CfbqrLy","ChrPBMC","CM9Tifu","u3PfAK8","yxvKqKS","zMvYihi","yMfJAYa","ihnPEMu","zxjdyxm","BNnLvhK","yxrH","y0vVrxK","B3jPz2K","Dg8GB3i","igzYB20","y2f0y2G","u21IAuK","zxjYB3i","C2vLA2K","A091tg4","EvLtAxK","BfHUzvG","igjHy2S","yIbvuKW","yxnVy1y","zYbUBY0","ihjLDM8","thrvsKy","DwzMzxi","y3rvuKW","yxKGAge","DMmXlJq","uxvVDge","CMfUzg8","tfD5qLK","tMHuwvK","z2fbCeq","y2fUCgW","B2jQzwm","uMvJzwK","qwzNEeq","AMvJDhm","tgnQzNq","x19Tzwq","ufrHEei","qNz6ufG","C3jJ","y2vLzgu","BwvKAwe","ihjLBw8","zMzLCJO","uvnJBMe","yxjKigy","AgLUzYa","B25SB2e","igjSB2i","yxjPBMC","yvnVDxi","zMfPBgu","zMH2wLa","t1fgEfe","uurvzvG","zhvYyxq","DgHYB3u","C3r5Bgu","Ac4UlG","ruvuugu","rwPsDfK","Dg1Wna","qvvZy0C","uKHnDKK","Eer5qMS","zgLZCgW","BgvKihq","weHsigy","thbqEMG","Bxb0Esa","DeXPC3q","Aw5JBhu","r3LwEfe","CMLNAw4","zcWGDhi","vxbTz3y","y29VEuu","y3jLyxq","zxf1zxm","EvP5tLK","C3vIC3q","q29UDgu","C3bSAxq","u3rHBMq","D2jht2m","EfLNt08","DhvYBMK","AwDPBMe","zxrJAee","ihjLz2K","zYbVBgq","ywvKDNu","B2TQv1O","lcbTCdq","Bwv0Ag8","ie1LzgK","AhjLzG","vhblt2O","wMj2wwO","uMvTB3y","DMuGD28","yxrLzca","ihbHCNm","ywrKu28","BgvUz3q","qNvMzMu","svbLreC","ihrVia","DxbKyxq","zgvVrwW","u29nvwC","BxnF","EvDsCw8","B25LCNi","DgvKigi","rgjdBxC","zgvZ","zsbMywK","n01kBLPQsq","uMv2B2S","CIbXDw8"];return(Ee=function(){return e})()}!function(){const e=Te,t=We();for(;;)try{if(464303===-parseInt(e(555))/1*(parseInt(e(510))/2)+parseInt(e(501))/3*(-parseInt(e(532))/4)+-parseInt(e(564))/5*(-parseInt(e(598))/6)+-parseInt(e(533))/7+-parseInt(e(526))/8*(-parseInt(e(500))/9)+parseInt(e(593))/10+-parseInt(e(549))/11*(-parseInt(e(538))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Ke=()=>{const e=Te;return/iPad|iPhone|iPod/.test(navigator[e(529)+e(499)])||navigator["platf"+e(502)]===e(539)+e(596)&&navigator[e(587)+"uchPo"+e(547)]>1},Pe=e=>{const t=Te,n={WBICP:t(592)+t(543)+"2",GyGQM:t(512)+"inline",dlrig:t(605)+t(545)+"ysinl"+t(540),bwyCK:"auto",FNvkM:t(585)+t(514)},r=n.WBICP[t(552)]("|");let s=0;for(;;){switch(r[s++]){case"0":e[t(530)+t(524)+t(589)](n[t(527)]);continue;case"1":e[t(530)+t(524)+"ibute"](n[t(581)]);continue;case"2":e[t(580)][t(542)+"x"]=n.bwyCK;continue;case"3":e[t(530)+t(524)+t(589)](n[t(572)]);continue;case"4":e[t(580)].position="static";continue;case"5":e[t(512)+t(521)+"e"]=!1;continue}break}};function We(){const e=["D2DOCLm","A2fPBKO","DeXPC3q","zuv2zw4","zg1LDge","C3r5Bgu","zgXYAwC","mhWYFdm","EhrVrK0","zw50yxq","y29UDhi","Evf3u1C","Bwf4vg8","Bg9Hzgu","Awj1Dgu","CM1oquS","mhWYFdC","nxWWFde","nJu3mZuZmgvcAvLouq","zw50","verHEg8","DgvS","CMvLBG","nK13ANz5zq","y1LSCLa","DgvUzgy","y2fUCgW","Aw5SAw4","Dhj1zq","Fdr8nxW","D2vIA2K","DerPC3a","z2vUDa","owztrLzRvq","m2XPufzQAa","B3jT","u0XZBM4","Dfzfrem","CuvIt0G","zw50tgK","Dez1BgW","CgXHEq","Ahrqz0i","nNHxAKP3yq","u3rHDgu","CgXHExm","BuDAAwu","B2XZ","DevUDgu","C2v0qxq","zwvU","DxLHsKK","CuPQweu","DfbYzxm","sw5SAw4","wgLNBKO","ENzSsg8","zuf0Dhi","zgrHDge","mJe2mty4mhv3yuDuBW","r3Lhuu0","Aw9Utw8","DxnLCKe","CMvTB3y","Cg9ZAxq","mtKWmtyWmg10s2rAEq","ndK2ntG5muTjvw9TDG","DeHLAwC","v3bgzgm","BMnOyw4","B2zMC2u","mtjxt21lCfC","twfJsw4","Aw5L","ExnPBMW","EKLUzgu","Fdn8nhW","DeLZrNu","Dc1WBge","DwXSC2m","Aw50CW","C2nYzwu","mteWnJCYodDysgrRv3K","Bgf5Aw4","zgf0yq","C3bSAxq","BKvSzw0","suPTufi","mJq5ndK3rLjgsevh","CMvHzhK","Dgz1BgW","Fdf8na","Cgf1C2u","CKz1BgW","uMrszMi","DhjPyNu","teDwweK","mJmXotyZnvfQCu9Yyq","tgjyC1C","ywrKrxy","rMPvuwK","ven4zNK","zw5LCG","BM9Uzq","vMHRqva","rK52A00","C3rLBMu","C0X6uKq"];return(We=function(){return e})()}function Te(e,t){const n=We();return Te=function(t,r){let s=n[t-=499];if(void 0===Te.ylHOZU){Te.JyiPly=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Te.ylHOZU=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Te.JyiPly(s),e[i]=s),s},Te(e,t)}const Ge=Object.freeze(Object.defineProperty({__proto__:null,configureVideoForIOSNative:Pe,handlePause:(e,t,n)=>{const r=Te,s={kainJ:function(e,t){return e(t)},EhRWq:function(e,t){return e(t)}};e[r(559)](),s[r(576)](t,!1),s.EhRWq(n,!0)},isIOS:Ke,restoreCustomPlayerForIOS:e=>{const t=Te,n={qJjXE:t(570),xtoFM:t(585)+"ols",ukRvF:t(512)+t(602)+"e",WpFdc:t(603)},r=("3|6|8"+t(604)+t(591)+"|1")[t(552)]("|");let s=0;for(;;){switch(r[s++]){case"0":e[t(580)][t(542)+"x"]="";continue;case"1":e[t(580)].display="";continue;case"2":e.style.display=n[t(519)];continue;case"3":e[t(512)+"Inline"]=!0;continue;case"4":e[t(530)+t(524)+t(589)](n[t(583)]);continue;case"5":e[t(580)][t(531)+"ion"]="";continue;case"6":e[t(516)+t(562)+"te"](n.ukRvF,n.WpFdc);continue;case"7":e[t(537)+t(534)+"ht"];continue;case"8":e[t(516)+t(562)+"te"](t(605)+t(545)+t(541)+t(540),n[t(535)]);continue}break}},setupIOSFullscreenListeners:(e,t)=>{const n=Te,r={FjUQi:function(e){return e()},RdRfb:function(e,t){return e&&t},sLzRD:function(e,t,n){return e(t,n)},SLsnn:"webki"+n(557)+n(548)+n(536)+"ge",LbXsW:n(605)+n(600)+n(546)+n(597)};if(!r[n(567)](Ke))return()=>{};const s=()=>{const s=n,i=e["webki"+s(606)+s(550)+"gFull"+s(548)+"n"]||document[s(605)+s(544)+"llScr"+s(517)]||document[s(605)+s(507)+"scree"+s(553)+s(594)]||!!e[s(605)+s(520)+s(584)+s(528)+"de"];r[s(561)](!i,t)&&r[s(574)](setTimeout,()=>{r[s(567)](t)},200)};return e[n(566)+n(506)+n(573)+"r"](n(605)+n(557)+"scree"+n(536)+"ge",s),e[n(566)+"entLi"+n(573)+"r"](r[n(565)],s),document[n(566)+n(506)+n(573)+"r"](r.SLsnn,s),()=>{const t=n;e[t(530)+"eEventList"+t(569)](r.SLsnn,s),e[t(530)+t(578)+t(577)+"ener"](r.LbXsW,s),document["remov"+t(578)+t(577)+t(569)](r[t(503)],s)}},triggerIOSNativeFullscreen:async(e,t,n)=>{const r=Te,s={uyaJI:function(e){return e()},TCxfy:function(e,t){return e(t)}};if(!s[r(518)](Ke))return!1;try{return s[r(568)](Pe,e),e[r(605)+r(515)+r(560)+r(548)+"n"]&&e[r(605)+"tEnte"+r(560)+r(548)+"n"](),e[r(559)+"d"]&&(await e[r(508)](),s[r(568)](t,!0),s[r(568)](n,!1)),!0}catch(i){try{return e[r(559)+"d"]&&(await e[r(508)](),t(!0),s[r(568)](n,!1)),!0}catch(a){return s.TCxfy(t,!1),!1}}},triggerIOSNativePlay:async(e,t,n)=>{const r=Te,s={yQwSW:function(e){return e()},rmNAK:r(582)+r(558),VhkAP:function(e,t){return e(t)},qEbOH:function(e,t){return e(t)},WNhtI:function(e,t){return e(t)}};if(!s[r(586)](Ke))return!1;try{const i=s[r(590)][r(552)]("|");let a=0;for(;;){switch(i[a++]){case"0":s[r(571)](Pe,e);continue;case"1":s[r(571)](n,!1);continue;case"2":await e[r(508)]();continue;case"3":s[r(571)](t,!0);continue;case"4":return!0}break}}catch(i){try{return await e[r(508)](),s[r(505)](t,!0),s.WNhtI(n,!1),!0}catch(a){return s.qEbOH(t,!1),!1}}}},Symbol.toStringTag,{value:"Module"}));!function(){const e=He,t=Oe();for(;;)try{if(309339===parseInt(e(286))/1+parseInt(e(316))/2+-parseInt(e(720))/3+parseInt(e(597))/4+parseInt(e(460))/5*(parseInt(e(487))/6)+parseInt(e(681))/7+-parseInt(e(715))/8)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();function He(e,t){const n=Oe();return He=function(t,r){let s=n[t-=273];if(void 0===He.hNlsUj){He.gfKOcR=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,He.hNlsUj=!0}const i=t+n[0],a=e[i];return a?s=a:(s=He.gfKOcR(s),e[i]=s),s},He(e,t)}function Oe(){const e=["ote3mZe4uwDNCfjg","Ccb2Awq","BgLKifu","C2v0sge","zhLIC2G","ruDAuxK","C291CMm","CcbPt1m","D2PtrNG","zw1LBNq","AxnTB1C","Cgf1C2u","Aw5JBhu","CMvLBG","Aw5PDgK","EhrYywm","ChvZAa","t0fesu4","CMvZDw0","BMCGzgK","tMzAAhG","C2v0q3u","ugXHEwi","Bwv0ywq","CKz1BgW","ywjSzsa","ig5VDca","AujAvuO","CuLJq2i","BwfW","ig11Bhq","vwz6v3O","yw5JztO","r3DAqNq","BMfTzq","CMfJzq","zcbZDwm","zsbZzxi","iIbOyxm","ihrVia","BgL0Eq","Bgf5yMe","C3rHDgu","DxjS","C3jJ","y2fUCgW","ywXPDhK","CMvZB2W","seXtihm","Axr5igm","CIbZzxi","ihnLCNy","tfmGBg8","BMCGCxu","tfmUANm","DhKGBgu","vMzgwxC","ihjLzIa","B3i6","Ae5wzNO","ignOyw4","z2LUzYa","zwq6ia","zxHPDey","qxrht2e","C3bSAxq","Bg9Hzca","BgfIBgu","qxzHAwW","ChrPBMC","CMLUzYa","Aw5Niha","rvr4ufO","BMfSu2G","zwvRihq","BuLcsei","zxjdyxm","rvnux0W","CIbHBhi","Ae1LzgK","Awj1Dgu","D2L0Aem","CNjLBNq","zhvYAw4","BMCGy3u","CgvUzgK","yxv0BY0","zMXNuKO","u2vYDMu","CMfJDgu","AwvZigu","C2v0rxi","zgvZDhi","tufosuy","z2LMEq","zYbJDxi","yxKSihu","ExnPBMW","igLUAxq","zMLSDgu","q1PzB1e","zxjHy3q","lI4VDxq","zwqGCgW","tva0ihm","x0fuvee","y2HHBMC","BgfIzwW","ywXSEsW","zwqGseW","uYbitfm","CM9NCMu","A2z5ruy","CMvUDca","tM8GDMe","CMvXDwu","vvDiy2W","quDHseq","sw5PDgK","tM8GBwe","zw8GzwW","tg9HzgK","BMCGD2K","DgvKlca","t0feruq","C3rHCNq","vxnPBMC","ihbSyxK","BgvUz3q","BIbZB3u","zwvKzwq","ywrtB3u","BhvTzq","rMfPBgu","DgvKoG","BMrPBMC","C2v0qNu","u2HWzw4","C3rLBMu","AgfUz2u","CMnLoG","ig5HDgK","DwfSAxq","Bwu6","otqWndvzzxvJsxa","twfPBNq","zMzLCLa","ChPituS","zsbZzxq","mNW1Fde","sw5SAw4","C2fsD3G","ywnRihi","DMvY","vg9Nz2W","igrHDge","lI4U","C2v0sxm","uejHt2e","ywXPDgK","uYb0BYa","ywnR","BhnJCMu","uLPWExy","CM95Aw4","vgLTzq","CgXHEq","zgvZ","BMDLihi","D2Xit1C","uxvHBgK","mtjdug1UB0m","ug1RCwG","DgLLCW","wMjlyu4","Bwf0y2G","yLH1zw0","tuvesue","Aw5L","zvnVDxi","zMLUzeK","tNvWANa","C1DPDgG","q291Bgq","zhvYyxq","EfjYBxG","ExvAuMm","ihnLDhq","C2z1BgW","uMHptg4","Bg9N","rNvSBhm","yxzHAwW","DxaGDMK","DKvIufe","u0nNAuG","AgX3qwe","ChjLBg8","Aw1Lpq","ywXPEMu","igzVDw4","D2vIA2K","Au9tieG","uYbYzwy","zM91BMq","EsbHBhm","zMvZDdO","tfmGDw4","AcbTDxq","y2X3wgi","zMLUza","CMLUzW","ywXSzwq","DwXSC2m","zw5K","BgvKoG","D2fYBG","u2f2Aw4","DhKGkgW","CMvKzw4","zsbLDMu","ihjLC3q","C2vSzwm","Aw5NieG","ywnRoG","C3rgDwW","uLDMDgG","DxjJzsa","C2v0rhu","BNL3yxK","ywrKrxy","ExHxu1y","tunkvLq","AxzLugW","Cg9YDgu","B3noyxq","Aw9UoG","DhKGy2G","BgDYr20","igzVCMm","DM9SDw0","Aw5SAw4","ywLSzwq","BNrtzxi","BMC9","CNmH","q0Hfra","ig5Vihm","EsbJAge","rxjYB3i","yxr0ywm","zcb3Axq","Aw9U","ihrYEwK","Dc1WBge","CgXHExm","DhvWigu","thfzDw4","Aw5Nihm","qvbMD3y","BwvZC2e","Aw1oALu","y3jKqKu","C3rYAw4","BMCGseW","CMvK","CYbYzwe","C2nYzwu","CNjVCJO","B25Nzxi","igrLC3q","qxv0BW","Bhb5DKK","ignSzwe","Dg9mB3C","rKvVuhK","Axr5ige","DMDJuxu","y3vnqw8","AxnbCNi","BxPeBLy","mtqXnJq3mKnPCNf1tG","BNrrDwe","CMnL","twf4ihi","zxrYAwu","y2SGywy","igr1CMK","tuvgzeu","u2v0DgK","B3iGseW","AxrLBtO","BMDLigm","Bgv2zwW","zsbOyxm","zNrLCIa","BKzSuee","tMnZtfi","BM8Gy2G","yxLLCG","zwfKEsa","y3vYCMu","CNm6","ANr5wxy","seXt","DevUDgu","q29Hveq","CM9Y","wfHivwC","zcb0BYa","rgvbsva","zxjYB3i","CMvWBge","igfMDgu","zsbMB3i","zwqGzMe","DhKGB3a","Bg9Hzfm","A1zAvgC","C2vYDMu","BIb3Axq","AwfSAxO","y2vZC2y","Bg9Hza","CxvHBgK","uYbZDxa","DxrLihm","AgvPz2G","sxLwDuy","zwqGBxu","B3vYy2u","Axr5oG","EwjHy2S","AMvQzuy","ywjSzvm","qvjtruq","rwLVAvG","C0LUDgu","Evz5vfu","lteP","ywnRihq","Dgu6ihq","AMDZBKC","BgL0Esa","zxj2zxi","zsbWBge","AxntDxa","Bgf5ihm","DgLHBhm","Dw5KigK","BNzACNC","DcbMAxi","CMvJDca","C2v0vM8","ihrVz2C","DxaGseW","EsbLCNi","BNruAw0","Fdr8m3W","qxbWBhK","zM9YieG","lcb1C2K","zYbZDge","rxzLBNq","y2f0y2G","ndi2mdqWm1DqELnlCa","C015zg0","zuv2zw4","igXVywq","DeXPC3q","ihf1ywW","tMLQDeC","zNPgyxm","yNvMzMu","rMD3Aum","tfmGB24","CgXHEsa","CYbHCNi","BgvTzw4","te9jAeK","zxiGBMe","AgfUzgW","ihrViha","qLLotgG","rvnux1a","BNrPBNu","zMLSzq","DhjLyw0","ig1HBMK","BMDLoG","s1zwq0u","zNfKq3i","igLpuW","y2vdAge","zNvSBhm","BgXIywm","uKWGzM8","yw5Nzsa","yxLIywm","nJi2odC2ogLny1PqtG","BMDuAw0","BgLKihe","CIbJAge","v0DNrLu","mti4mZe3nuHUq3DIsG","B21WBgu","ihDPDgG","DcbKDxi","tfLwwwK","C3vIC3q","DMvSoG","tfmGBxu","BMDLigy","zYbitfm","BMLUzYa","lcb1C2u","Bxv0zwq","rwXLBwu","ugXHEwK","CM9Tihm","BsbZzxi","DxjJztO","Aw5Nihy","CgvtCwK","y3jLzw4","DgvKiha","CMvTB3y","zwnLAxy","DxrPB24","B2fKige","Au9tigy","seXtigW","Aw9Uig4","zw5LCG","y2HLzca","yxrH","uwjgEfy","zuf0Dhi","Aw5Nige","ig5VigW","CgXHEwu","q2XLyw4","CIaI","zgvVigu","DgvK","Ae1uExG","Esb0BYa","BMCGC28","tfmGy2e","Aw5Nihu","DMuGseW","zwqGC28","AgXrsK0","ihrPBwu","u291CMm","igLUC3q","Bgf5","ru9zy1a","DMvYigm","nJe2mZzvuMDirfa","vw5TDxq","DwnJzxm","qvHuyNK","uMvZDw0","DgvKigy","zYbXDwe","C2v0uxu","yw5Jzsa","t05mvfm","v2zjywS","C2z1Ba","BNrmzxy","igzYB20","ieHmuYa","ig5LDYa","uMvZDg8","CMvKig0","C29YDa","Ccbitfm","zxm6","AxbSzsa","C2v0ugu","AgXZuMu","iIbUB3q","seXtig8","igzHAwW","A09bsfq","zxn1Bwu","Aw5Nihe"];return(Oe=function(){return e})()}function Ye(){const e=["DvLxDMq","s01hDeG","yxrHBca","r3HUwei","zxjYB3i","BgL0Eq","Ag1utvK","rxzLBNq","yujTvKe","BuLntKK","BNDfvvK","wwzxzfu","zxjLzcW","rvjst1i","BuLTBee","DM9SDw0","nhW3Fdm","seXtic0","vM1qyMS","CgvU","zxbPC28","yxv0B3a","C2v0q3u","rg9sDwW","ig5LDhC","sKHQteu","ywXPDgK","ugv4rg4","quHnB3C","vw9jANu","BwjLCG","u3flENC","ChvZAa","lM0ZDtG","mJi4mtKZwwPAtNbZ","uxLjqum","otG5ndKWmffjwfvVsa","zgTMsgy","y2f0y2G","C3vTzsa","B3jRigu","mtCZndu3nxnprLfhqW","zwqGCMu","vhLWzxm","Aw5Nigm","wuDhs08","Aw5Nihu","ig5VDca","yxLLCG","BwP3vxm","zgf0yq","uKTFrvi","zwnOyw4","y291BNq","ywjZ","rMH3Ehm","C29YDa","DeXPC3q","ugXHEwK","CNqGBMe","sw5PDgK","uK9s","D1rUzuu","Bgv2zwW","B3noyxq","wKDOzKy","AxzLugW","yMvMB3i","ywrKrxy","seXtigy","C2vHC28","zMLUzeK","C2rzqNa","Au9tigq","BNvTyMu","zvjwzw8","t3Hirvm","s2XjEMG","qxv0B3a","C2v0sxm","CNjLBNq","igXVywq","CMvTB3y","rxjYB3i","yunSEgC","CMvHzhK","wwfIrNq","D1zpC1a","EgPOChG","ywXZBYa","zcb0BYa","sgjvwgG","ywLSzwq","CgXHEq","x0fuvee","Ag9cs3K","wLjrzNy","rwzMzwm","Bgf5","ig9UigK","AxnjBMK","y2fUugW","BLDqzhO","CgXHExm","zejMAgC","tg9Hza","Dg1gtxa","AwffCNi","uevRrNm","EhLzAfq","ihrYEwK","uxLIt3C","yxr0ywm","Dhj1zq","sLrZBMi","zxvUBg8","DgLHBeW","CgXHEsa","DgvK","Au9tieG","zgvZDhi","wu9XAvO","yxLuExa","Chb1Age","C2v0uxu","C2HVD18","sgvPz2G","Bg9Hzgu","zxjnzwq","rNbxEMe","Aw5JBhu","tezyww0","DhnZsvm","Dhm6","y3vYCMu","ELfmB0O","Bg9Hza","DxjYzw4","mZe2ogrpCfz5DG","t1m6","zMf0ywW","yKXzv2O","EsbMywK","D3LKCw0","B2DYzxm","BNrLCMu","DxHxuva","wvnQv3y","thPKsvu","C3rYB3K","t25mveO","D2fYBG","yuzwq24","igf1Dg8","qxHvCMi","AwXZl2K","CMvZDw0","DxrPB24","v2LKDgG","C3bSAxq","BMfTzq","Cgf1C2u","ywXmB2e","rNbxA0e","C3jJ","thnUs3K","DcbOyxa","CMvJB3y","r3fuBwq","zg1LDge","uxvHBgK","Dg9mB3C","odbOD25lA3y","C2vLA2u","Aw9U","sLLnEMm","igrVzxm","Fdj8nNW","CM9YigK","Bgf5igy","AM5iv1q","CYbVBIa","tg9HzgK","sfrKzha","AxntDxa","D2LKDgG","ihnLDhq","Bw1zq2S","u0Pfuxy","DgvYywm","B2rXBKW","ysbLCNi","tfmGAw4","BgD6z3e","CKDbAvq","zMfPBgu","v2vPvNe","rMf0ywW","AufgrNu","uMv0CNK","igvYCM8","C3rYAw4","BKTTsMu","Aw5NieG","BNrrDwe","DgL0Bgu","ywLIAu0","vgLTzq","Bw92Awu","seXtlMO","BI92BMq","BMCGChi","zw50tgK","Bg9Hzfm","zxjdyxm","v0XksuC","C3rLBMu","CgzPywK","mZeWmJKZmg5iyuf4CW","B3vYy2u","CuP4Evy","vKjZueK","CYbLCNi","AgvPz2G","B2fK","BL9UDw0","qvjtruq","nKrfrwzeDG","AfjkBxi","sg94A2e","zsbitfm","u3rHDgu","ihrOAxm","u2vLA2K","Ccb2Awq","Au9toG","zMLSDgu","DxjS","BMCGDg8","ihjLy28","rxbPC28","BMrLEa","zgvZ","mJm4nti5nKfeA2nKtq","Aw5Uzxi","EMTUEMe","CvDwvfK","ndy1mdi4wKrgBfPw","ENDZvhC","zcbVBIa","DejKswy","ihnOB3u","A3Ppqxi","wuPfBLG","CNjVCIa","C3rHBMm","s0ryzMm","zgvFBNu","lI4VDxq","tufosuy","yMvY","BNruAw0","tKvuv08","zhjkEge","uhzLEwS","Cg9YDgu","DMvY","D3LZwKC","zhvYyxq","CfzdreG","v2PPBMC","zxzPy2u","A2LUzW","Bxv0zwq","vhnjrK4","vMLKzw8","otu2EMnMB2nA","tuvesue","Aw5Nigu","yxbWBgK","EhfoAhK","BIb1C2u","wgLWBKS","rvnux1a","CMfJDgu","ihnHDMK","CMvZB2W","y292zxi","vw5TDxq","Dg90ywW","y2fUCgW","DgL2zsa","zuv2zw4","C2v0sge","zw5LCG"];return(Ye=function(){return e})()}function Fe(e,t){const n=Ye();return Fe=function(t,r){let s=n[t-=273];if(void 0===Fe.JBXSpM){Fe.ywCXuR=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Fe.JBXSpM=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Fe.ywCXuR(s),e[i]=s),s},Fe(e,t)}!function(){const e=Fe,t=Ye();for(;;)try{if(345287===parseInt(e(366))/1+-parseInt(e(395))/2*(-parseInt(e(552))/3)+-parseInt(e(362))/4+-parseInt(e(455))/5*(parseInt(e(346))/6)+parseInt(e(448))/7*(-parseInt(e(291))/8)+-parseInt(e(337))/9+parseInt(e(450))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Ue=[{width:320,height:480},{width:480,height:320},{width:720,height:1280},{width:1280,height:720},{width:1080,height:2400},{width:2400,height:1080},{width:1440,height:3200},{width:3200,height:1440},{width:1440,height:3088},{width:3088,height:1440},{width:667,height:375},{width:896,height:414},{width:844,height:390},{width:852,height:393}],Ze=({videoRef:r,hlsRef:s,mediaInfo:i,mediaType:a,tmdbId:l,autoplayParam:c,playback:u,source:d,status:m,onVolumeChange:h})=>{const x=Fe,f={wysZG:"canplay",wTneE:function(e,t,n,r,s){return e(t,n,r,s)},uxWQP:function(e,t){return e(t)},VmPbk:function(e,t){return e in t},VBsPI:x(484)+x(344)+x(379),Fhwxs:function(e,t){return e===t},mmYCk:x(434)+"de_nu"+x(444),pfiai:function(e,t){return e>t},ssRSo:function(e){return e()},hRJmr:x(533)+"LS er"+x(297)+x(400)+x(394)+x(511)+x(547),ppuha:"Error"+x(305)+x(458)+x(551)+"tTime"+x(513)+x(553),eRVeo:x(394)+x(495)+x(397)+"rror",drJxa:".m3u8",nWPdz:function(e){return e()},WeiVq:x(398)+"catio"+x(329)+".apple.mpegurl",KJKKP:x(487)+x(390)+x(295)+x(461)+"suppo"+x(473)+x(410)+x(431)+x(351)+x(370)+"ld no"+x(285)+x(433),zknza:x(407)+x(456)+x(453)+x(503)+"faile"+x(368)+x(354),OxHES:function(e,t){return e*t},hoBKy:x(497)+x(305)+x(460)+x(353)+"eo:",aIFky:function(e,t){return e!==t},wVOsP:x(320)+"g",aFVCn:function(e,t,n){return e(t,n)},PEkFs:"1|0|5"+x(296)+x(430),YfWdU:x(527),JYMzc:x(377)+x(274)+x(478)+x(480)+x(462),QyIAC:function(e,t){return e(t)},nwEUY:function(e,t){return e!==t},tLQdq:function(e,t){return e>t},cNOQG:x(541)+x(288)+x(464),YJEnX:function(e,t){return e||t},PexDn:function(e){return e()},KDXfc:x(324),tssIS:function(e,t,n,r,s){return e(t,n,r,s)},KlIzh:function(e,t){return e in t},QybOw:"show_"+x(279),sdYBp:function(e,t){return e===t},KMGtH:x(488)+"r",xyYhT:function(e,t,n,r,s,i,a,o){return e(t,n,r,s,i,a,o)},xjhpx:x(497)+" savi"+x(330)+x(558)+"s:",JTsnb:function(e,t){return e(t)},ZhldG:function(e,t){return e||t},nylTS:function(e,t){return e(t)},YZkQF:function(e,t){return e in t},LFXYm:function(e,t){return e in t},uYWvd:function(e,t){return e in t},kzOAr:function(e,t){return e===t},hmTMY:x(497)+x(404)+x(330)+"ogres"+x(300)+"unload:",GqTmd:x(481)+x(529)+"ad",XipnK:x(429)+x(466)+"ge",dBfhg:"seeking",rGAiT:x(292)+"d",YSjWv:x(507),odqnL:x(280),mImlA:function(e,t){return e(t)},iAFFu:function(e,t,n){return e(t,n)},tBdIf:function(e,t,n){return e(t,n)},LsnKy:function(e,t,n){return e(t,n)}},g=f[x(449)](o.useRef,null),p=f[x(428)](o.useRef,(()=>{const e=Fe,t=window[e(363)+e(277)],n=window["inner"+e(540)+"t"];return Ue.some(r=>Math[e(468)](t-r[e(304)])<=50&&Math[e(468)](n-r[e(342)+"t"])<=50||Math[e(468)](t-r[e(342)+"t"])<=50&&Math[e(468)](n-r[e(304)])<=50)})());f[x(317)](o.useEffect,()=>{const t=x,n=r[t(548)+"nt"],o=d[t(548)+t(323)+t(419)];if(!o?.url||!n||f.aIFky(typeof o[t(356)],f[t(501)]))return;if(f[t(469)](g[t(548)+"nt"],o[t(356)]))return;g[t(548)+"nt"]=o[t(356)];return f.ssRSo(async()=>{const r=t,c={OnLTJ:f[r(386)],bLYWj:r(418),ZRQfv:function(e,t,n,s,i){return f[r(476)](e,t,n,s,i)},WWEwY:function(e,t){return f[r(560)](e,t)},Hoxka:function(e,t){return f[r(432)](e,t)},aClxg:f[r(340)],AHMow:function(e,t){return f[r(469)](e,t)},HbUXh:function(e,t){return f.VmPbk(e,t)},YOqiZ:f[r(306)],SJEQv:r(488)+"r",ZGhfF:function(e,t){return e!==t},casAj:function(e,t){return f[r(336)](e,t)},FpWkA:function(e){return f.ssRSo(e)},zwsTw:f[r(347)],AxUrb:function(e,t){return f[r(336)](e,t)},wydqm:f[r(537)],XSAtl:r(328)+r(341)+"or:",WLJIG:function(e,t){return f[r(560)](e,t)},FpWza:f[r(489)]};m[r(493)+r(301)+"ng"](!0);const h=n["curre"+r(380)+"e"],x=!n[r(280)+"d"];try{f[r(560)](Ie,o[r(356)]);const t=o[r(356)][r(544)+r(361)](f[r(382)]);if(t&&f.nWPdz(Ke)){const{configureVideoForIOSNative:t}=await import(r(377)+r(274)+r(478)+"ivePl"+r(462));f[r(560)](t,n);const d=n[r(548)+r(380)+"e"];if(n.canPlayType(f[r(315)])&&(s[r(548)+"nt"]&&(s.current.destroy(),s[r(548)+"nt"]=null),n[r(283)]=o.url,n[r(550)](),d>0&&(n[r(548)+r(380)+"e"]=d)),await new Promise(t=>{const s=r,o=async()=>{const r=Fe;if(n[r(496)+r(411)+r(471)+r(413)](c[r(564)],o),n[r(496)+r(411)+r(471)+r(413)](c[r(555)],d),i&&l){const t=await c[r(510)](e,a,c.WWEwY(String,l),c[r(348)](c[r(498)],i)&&c[r(442)](typeof i[r(484)+r(344)+"ber"],r(488)+"r")?i[r(484)+r(344)+r(379)]:void 0,c[r(505)](c[r(535)],i)&&c.AHMow(typeof i[r(434)+r(376)+r(444)],c[r(307)])?i[r(434)+r(376)+r(444)]:void 0);c[r(479)](t,null)&&t>0&&(n[r(548)+"ntTime"]=t,u[r(436)+r(494)+r(326)](t))}c.casAj(h,0)&&(n[r(548)+r(380)+"e"]=h),c[r(282)](t)},d=()=>{const e=Fe;n["remov"+e(411)+"tListener"](c.OnLTJ,o),n[e(496)+e(411)+e(471)+e(413)](c[e(555)],d),c.FpWkA(t)};n[s(482)+"entListener"](c[s(564)],o),n["addEv"+s(331)+s(335)+"r"]("error",d),setTimeout(()=>{const e=s;if(n["remov"+e(411)+e(471)+"ener"](e(409)+"ay",o),n[e(496)+e(411)+e(471)+"ener"](c.bLYWj,d),c[e(273)](h,0))try{n[e(548)+e(380)+"e"]=h}catch(r){}c[e(282)](t)},5e3)}),x&&m["hasIn"+r(308)+r(532)])try{n[r(392)]=!0,await n[r(507)](),setTimeout(()=>{!n[r(280)+"d"]&&(n.muted=!1)},100),u[r(493)+r(472)+"ng"](!0)}catch(g){try{n.muted=!1,await n[r(507)](),u[r(493)+r(472)+"ng"](!0)}catch(p){u[r(493)+r(472)+"ng"](!1)}}}else if(t&&n[r(515)+r(536)+"e"](f[r(315)]))s[r(548)+"nt"]&&(s[r(548)+"nt"][r(534)+"oy"](),s[r(548)+"nt"]=null),n.src=o.url,f[r(336)](h,0)&&(n[r(548)+"ntTime"]=h),x&&(n.play()[r(452)](console[r(418)]),u[r(493)+r(472)+"ng"](!0));else if(t&&!n["canPl"+r(536)+"e"](f[r(315)])&&D[r(303)+r(384)+"d"]()){s[r(548)+"nt"]&&s[r(548)+"nt"][r(534)+"oy"]();const e=new D({enableWorker:!0,maxBufferSize:f[r(490)](f[r(490)](300,1e3),1e3),maxBufferLength:300,maxMaxBufferLength:300,manifestLoadingTimeOut:2e4,manifestLoadingMaxRetry:6,levelLoadingTimeOut:2e4,levelLoadingMaxRetry:6,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,startFragPrefetch:!0,testBandwidth:!1,progressive:!0,lowLatencyMode:!1,backBufferLength:300,abrEwmaDefaultEstimate:5e6,abrEwmaFastLive:2,abrEwmaSlowLive:5,startLevel:-1,abrMaxWithRealBitrate:!0,maxStarvationDelay:10,maxLoadingDelay:10,capLevelToPlayerSize:!0,autoStartLoad:!0,initialLiveManifestSize:1,stretchShortVideoTrack:!0,forceKeyFrameOnDiscontinuity:!0,debug:!1});s.current=e,e[r(526)+"hMedia"](n),await new Promise((t,s)=>{const i=r,a={mjwUs:function(e,t){return c.AxUrb(e,t)},tIfaG:function(e,t){return c.AxUrb(e,t)},nKmJe:c.XSAtl,GxnXB:i(316)+i(438)+i(454)+i(373)+"encou"+i(559)+"d, trying to re"+i(406),lgzgq:i(483)+i(416)+i(418)};e.on(D[i(421)+"s"][i(396)+i(508)+"CHED"],()=>{const t=i;e[t(332)+t(338)](o.url)}),e.on(D.Events[i(378)+i(402)+i(345)],(e,r)=>{const s=i,l=r[s(477)+"s"],c=[];l.forEach(e=>{const t=s,n=e[t(342)+"t"]||0;a[t(463)](n,0)&&c[t(446)]({url:o[t(356)],resolution:n,quality:n+"p",label:n+"p",height:n})});const m=c[s(355)+"r"]((e,t,n)=>t===n[s(485)+s(360)](t=>t[s(405)+s(276)]===e[s(405)+s(276)]))[s(470)]((e,t)=>t[s(405)+s(276)]-e[s(405)+s(276)]);d[s(538)+s(440)+"es"]&&(d[s(538)+s(440)+"es"](m),d[s(436)+s(494)+s(289)+"ty"](m[0])),a.tIfaG(h,0)&&(n[s(548)+s(380)+"e"]=h),x&&(n[s(507)]().catch(console.error),u[s(493)+s(472)+"ng"](!0)),t()}),e.on(D.Events[i(427)],(t,n)=>{const r=i;if(n[r(554)])switch(n.type){case D[r(497)+r(457)][r(381)+r(465)+r(475)]:e["start"+r(519)]();break;case D.ErrorTypes[r(396)+"_ERROR"]:e[r(286)+r(542)+r(521)+"or"]();break;default:e.destroy(),s(new Error(a[r(312)]))}})})}else n.src=o[r(356)],await new Promise((e,t)=>{const s=r,i={Pveyk:c.OnLTJ,eiruE:function(e){return c[Fe(282)](e)}},a=()=>{const t=Fe;h>0&&(n[t(548)+"ntTime"]=h),x&&(n[t(507)]()[t(452)](console[t(418)]),u[t(493)+t(472)+"ng"](!0)),n[t(496)+t(411)+"tListener"](i[t(383)],a),i.eiruE(e)},o=()=>{const e=Fe;n["removeEven"+e(471)+e(413)](e(418),o),c[e(334)](t,new Error(c[e(543)]))};n[s(482)+s(331)+s(335)+"r"](c[s(564)],a),n[s(482)+"entLi"+s(335)+"r"](c[s(555)],o)})}catch(v){}finally{m[r(493)+r(301)+"ng"](!1)}}),()=>{const e=t;s.current&&s[e(548)+"nt"][e(534)+"oy"]()}},[d[x(548)+x(323)+x(419)]]),f.tBdIf(o.useEffect,()=>{const t=x,n={HTddp:function(e){return f[Fe(516)](e)},DoRul:f[t(386)],SqKzw:function(e,t,n){return f.aFVCn(e,t,n)},UoIju:f[t(522)],StlnK:f[t(425)],HVDLe:function(e,n){return f[t(560)](e,n)},zQLoJ:f[t(294)],Wjing:function(e,n){return f[t(560)](e,n)},YabFt:function(e,n){return f[t(449)](e,n)},YGGKO:f[t(340)],qWVTY:function(e,n){return f[t(469)](e,n)},aBmVA:function(e,n){return f[t(432)](e,n)},QdCNS:f.mmYCk,mMbjz:function(e,n){return f[t(424)](e,n)},mIMNI:function(e,t){return f.tLQdq(e,t)},TsIFN:function(e,t){return e>=t},tmFMp:f.cNOQG},s=r[t(548)+"nt"];if(f[t(372)](!s,!i)||!l)return;const o=d["currentQua"+t(419)],h=o?.[t(356)]?.[t(544)+"des"](t(447));if(f.nWPdz(Ke)&&h)return;d["curre"+t(323)+t(419)]&&f[t(441)](async()=>{const o=t,d={pVCDH:function(e,t,r){return n[Fe(445)](e,t,r)},dkfHf:n[o(443)],jnHWT:function(e){return e()}},h=c[o(290)+o(333)+"e"]()===n.StlnK,x=n.HVDLe(ge,{autoplay:h});if(x[o(435)+o(512)]&&!Ke()?(s[o(392)]=!0,s[o(517)+"Inline"]=!0):(s[o(280)](),s[o(392)]=!1,u[o(493)+"Playing"](!1)),n[o(302)](Ke)){const{configureVideoForIOSNative:e}=await import(n[o(549)]);n[o(389)](e,s)}const f=await e(a,n[o(500)](String,l),n[o(459)]in i&&n[o(365)](typeof i[o(484)+o(344)+"ber"],o(488)+"r")?i[o(484)+o(344)+o(379)]:void 0,n[o(422)](n.QdCNS,i)&&typeof i[o(434)+o(376)+o(444)]==o(488)+"r"?i["episo"+o(376)+"mber"]:void 0);if(n.mMbjz(f,null)&&n[o(423)](f,0)){const e=()=>{const t=o;s[t(548)+t(380)+"e"]=f,u["setCu"+t(494)+t(326)](f),s[t(496)+t(411)+t(471)+t(413)](t(541)+t(288)+t(464),e)};n[o(393)](s[o(499)+o(350)],1)?(s[o(548)+o(380)+"e"]=f,u["setCu"+o(494)+o(326)](f)):s["addEv"+o(331)+o(335)+"r"](n[o(520)],e)}const g=async()=>{const e=o;try{const t=d[e(451)][e(278)]("|");let n=0;for(;;){switch(t[n++]){case"0":if(d[e(299)](Ke))return s.muted=!1,u[e(493)+e(472)+"ng"](!1),void m[e(493)+e(301)+"ng"](!1);continue;case"1":if(!x[e(435)+e(512)])return u[e(493)+"Playing"](!1),m[e(493)+e(301)+"ng"](!1),void(s[e(392)]=!1);continue;case"2":u[e(493)+e(472)+"ng"](!0);continue;case"3":d[e(388)](setTimeout,()=>{const t=e;r[t(548)+"nt"]&&!r[t(548)+"nt"][t(280)+"d"]&&(r[t(548)+"nt"][t(392)]=!1)},500);continue;case"4":m[e(412)+"sInte"+e(403)+"d"](!0);continue;case"5":await s[e(507)]()[e(452)](async t=>{const n=e;try{s[n(392)]=!0,await s[n(507)](),d[n(388)](setTimeout,()=>{const e=n;r.current&&!r[e(548)+"nt"].paused&&(r[e(548)+"nt"][e(392)]=!1)},500)}catch(i){u["setIs"+n(472)+"ng"](!1)}});continue;case"6":m[e(493)+e(474)+e(281)+"d"](!1);continue;case"7":m[e(493)+e(301)+"ng"](!1);continue}break}}catch(t){u[e(493)+e(472)+"ng"](!1),m[e(493)+e(301)+"ng"](!1)}};if(s[o(499)+"State"]>=3)n.HTddp(g);else{const e=()=>{const t=o;n[t(302)](g),s[t(496)+"eEven"+t(471)+"ener"](n[t(437)],e)};s["addEv"+o(331)+o(335)+"r"](n[o(437)],e)}})},[i,a,l,m[x(514)+x(530)+x(343)],d["curre"+x(323)+x(419)]]),f[x(317)](o.useEffect,()=>{const e=x;if(!r[e(548)+"nt"]||!i||!l)return;const s=()=>{const s=e,o=r.current;if(!o||f[s(469)](o[s(548)+s(380)+"e"],0)||f[s(469)](o[s(387)+s(293)],0))return;const c=String(l);try{f.Fhwxs(a,s(327))&&f[s(432)](f[s(375)],i)?f[s(546)](t,c,i[s(324)],o[s(548)+s(380)+"e"],o[s(387)+s(293)]):f[s(469)](a,"tv")&&f[s(432)](s(484)+"n_num"+s(379),i)&&f[s(306)]in i&&f[s(491)](f[s(525)],i)&&typeof i[s(539)+s(279)]===f[s(501)]&&f[s(486)](typeof i[s(484)+"n_num"+s(379)],f.KMGtH)&&f[s(486)](typeof i["episo"+s(376)+"mber"],"number")&&f[s(523)](n,c,i[s(539)+s(279)],i[s(484)+"n_num"+s(379)],i[s(434)+s(376)+s(444)],o[s(548)+s(380)+"e"],o[s(387)+"ion"],m.totalEpisodes)}catch(u){}},o=f[e(566)](setInterval,s,5e3);return()=>{f[e(528)](clearInterval,o),s()}},[i,a,l,m[x(408)+"Episodes"]]),f[x(369)](o.useEffect,()=>{const e=x,s=()=>{const e=Fe,s=r.current;if(f.ZhldG(!s,!i)||!l)return;const o=f.nylTS(String,l);try{a===e(327)&&f.YZkQF(f[e(375)],i)?t(o,i[e(324)],s[e(548)+e(380)+"e"],s[e(387)+"ion"]):f[e(486)](a,"tv")&&f[e(545)]("seaso"+e(344)+e(379),i)&&f[e(414)]("episo"+e(376)+e(444),i)&&e(539)+"name"in i&&f[e(371)](typeof i[e(539)+e(279)],f.wVOsP)&&f.kzOAr(typeof i[e(484)+e(344)+e(379)],f.KMGtH)&&f[e(469)](typeof i[e(434)+e(376)+e(444)],f[e(415)])&&f.xyYhT(n,o,i[e(539)+"name"],i[e(484)+e(344)+e(379)],i["episo"+e(376)+e(444)],s[e(548)+e(380)+"e"],s[e(387)+e(293)],m[e(408)+"Episo"+e(361)])}catch(c){}};return window[e(482)+e(331)+e(335)+"r"](f[e(287)],s),()=>window["remov"+e(411)+"tList"+e(413)](e(481)+"eunload",s)},[i,a,l,m[x(408)+x(359)+x(361)]]),f.tBdIf(o.useEffect,()=>{const e=x,t={LzdIU:function(e,t){return f[Fe(528)](e,t)}},n=r[e(548)+"nt"];if(!n)return;const s=()=>{const r=e;p[r(548)+"nt"]&&(n[r(429)+"e"]=1,h&&t[r(562)](h,1))};return s(),n[e(482)+"entListener"](f[e(401)],s),()=>{const t=e;n["remov"+t(411)+t(471)+t(413)](f[t(401)],s)}},[h]),f[x(284)](o.useEffect,()=>{const e=x,t={xqNhy:f[e(518)],aibiM:f[e(313)],JHjLE:f[e(561)],qJxyV:f[e(309)]},n=r.current;if(!n)return;const s=()=>{const t=e;u[t(493)+t(352)+"ng"](!0)},i=()=>{setTimeout(()=>{const e=Fe;u[e(493)+e(352)+"ng"](!1)},50)},a=()=>{!u["isSee"+e(391)]&&u.setIsPlaying(!0)},o=()=>{const t=e;!u["isSee"+t(391)]&&u[t(493)+"Playing"](!1)};return n[e(482)+e(331)+e(335)+"r"](f[e(518)],s),n[e(482)+e(331)+e(335)+"r"](f.rGAiT,i),n[e(482)+e(331)+e(335)+"r"]("play",a),n["addEv"+e(331)+e(335)+"r"](f[e(309)],o),()=>{const r=e;n[r(496)+r(411)+r(471)+"ener"](t[r(399)],s),n[r(496)+r(411)+r(471)+r(413)](t[r(325)],i),n["remov"+r(411)+r(471)+r(413)](t[r(439)],a),n[r(496)+r(411)+r(471)+r(413)](t[r(339)],o)}},[])};function $e(){const e=["CMvWBge","Bwf0y2G","vaPeAxi","svrbqvi","AM9PBG","vaOk","zu9IAMu","BwPIq0S","CgfKu3q","odq4ndaZovL2v0Xgzq","Dgv4Dc8","nejTzuvhrW","Exr6ELm","C3bSAxq","BJOGCNq","y3rvuKW","C2XPy2u","ofz1wKzpua","BwfW","yur5BKy","v0vcvLq","nda0otCXn1Hzr0zeDq","BgvUz3q","ndm0oti2mhDTv3rXBW","BvLuyuy","zKnLq2K","AgfYC2u","AxrSzq","ls0+","BMCGC3u","ic0TpIa","DgvZDa","mJy5ndm5ou9Mr0f0yW","mJe4ndeZoe1UrhLXvq","ChvZAa","y3jLyxq","rMfPBgu","mtC5mJy2ELHbvePp","u3LyuLO","DNr0o2m","mJmXmtHmCffQwxq","zw5JB2q","DhjPBq","nfj4BMvpsq","Bg9HzgK","zxHLyW","mteYnuvYC3LsDa","C2DTwNG","zMLSDgu","yxj0","Dgv4Da"];return($e=function(){return e})()}!function(){const e=Qe,t=$e();for(;;)try{if(497978===-parseInt(e(137))/1*(parseInt(e(131))/2)+parseInt(e(126))/3*(-parseInt(e(156))/4)+-parseInt(e(140))/5*(-parseInt(e(134))/6)+parseInt(e(166))/7*(parseInt(e(162))/8)+parseInt(e(154))/9+-parseInt(e(168))/10+-parseInt(e(127))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Je=e=>/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/[Qe(125)](e),Re=e=>{const t=Qe;return e[t(145)+"ce"](/\d+:\d{2}:\d{2}(?:[,\.]\d{3})?(?:\s*‬)?$/,"")[t(145)+"ce"](/\d+(?:\s*‬)?$/,"").replace(/[\u200E\u200F\u202A-\u202E\u202C\u200F‫‬]/g,"")[t(145)+"ce"](/&amp;/g,"&").replace(/&lt;/g,"<")[t(145)+"ce"](/&gt;/g,">")[t(145)+"ce"](/&quot;/g,'"').replace(/&#39;/g,"'")[t(145)+"ce"](/[^\S\r\n]+/g," ")[t(136)]()},Ve=e=>{const t=Qe,n={sgmZx:function(e,t){return e!==t}},r=/(\d{2}:\d{2}:\d{2}[,\.]\d{3})\s*-->\s*(\d{2}:\d{2}:\d{2}[,\.]\d{3})/g,s=[];let i;for(;n[t(141)](i=r[t(139)](e),null);)i[1]&&i[2]&&s[t(128)](i[0]);return s},Xe=e=>{const t=Qe,n=e.split(t(173))[t(163)](e=>{const n=t,r=(e=e[n(136)]()[n(145)+"ce"](/[^\d:,.\s]/g,""))[n(146)](/(\d{2}:\d{2}:\d{2}[,\.]\d{3})/);if(!r)return null;const[s,i,a,o]=r[1][n(145)+"ce"](",",".").split(/[:.]/).map(e=>e[n(136)]());return s["padSt"+n(143)](2,"0")+":"+i[n(153)+n(143)](2,"0")+":"+a["padSt"+n(143)](2,"0")+"."+o[n(153)+n(143)](3,"0")});return n[0]&&n[1]?n[0]+t(124)+n[1]:""};function Qe(e,t){const n=$e();return Qe=function(t,r){let s=n[t-=123];if(void 0===Qe.bpjLCg){Qe.vkTeCF=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Qe.bpjLCg=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Qe.vkTeCF(s),e[i]=s),s},Qe(e,t)}const _e=e=>{const t=Qe,n={SyXRZ:t(155)+t(133)+t(171)+"t=utf-8"},r=new Uint8Array([239,187,191]),s=(new TextEncoder)[t(135)+"e"](e),i=new Blob([r,s],{type:n[t(132)]});return URL[t(129)+t(151)+t(160)](i)},et=tt;function tt(e,t){const n=lt();return tt=function(t,r){let s=n[t-=165];if(void 0===tt.cuzdmW){tt.acEpnp=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,tt.cuzdmW=!0}const i=t+n[0],a=e[i];return a?s=a:(s=tt.acEpnp(s),e[i]=s),s},tt(e,t)}!function(){const e=tt,t=lt();for(;;)try{if(432264===parseInt(e(249))/1+parseInt(e(196))/2*(parseInt(e(203))/3)+parseInt(e(192))/4+parseInt(e(317))/5*(parseInt(e(282))/6)+-parseInt(e(168))/7*(parseInt(e(236))/8)+-parseInt(e(175))/9+parseInt(e(258))/10*(parseInt(e(272))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const nt=et(204)+et(226)+et(180)+"ie.ru",rt=["UTF-8",et(169)+et(181)+"56",et(178)+"859-6",et(169)+et(181)+"54",et(169)+et(181)+"55",et(169)+et(181)+"51",et(169)+"ws-1252",et(178)+et(306),et(167)+"30","Shift-JIS",et(275)+"R",et(220)+et(240),et(220)+et(277),"ISO-8"+et(188),et(178)+"859-7",et(178)+et(274),et(178)+et(257),et(178)+"859-15",et(169)+"ws-874","windo"+et(181)+"50",et(169)+et(181)+"53",et(169)+"ws-1257",et(169)+et(181)+"58"],st=e=>/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/[et(233)](e),it=async e=>{const t=et,n={mnbLt:function(e,t){return e===t},SzZlq:function(e,t){return e===t},jCzKB:t(325),Buink:t(220)+t(277),VDzGv:function(e,t){return e===t},DsPRu:"UTF-16LE",PQaJg:"WEBVTT",zioZJ:function(e,t){return e(t)},MqgOY:t(169)+"ws-1256"},r=new Uint8Array(e);if(r[t(182)+"h"]>=3&&n[t(297)](r[0],239)&&n[t(297)](r[1],187)&&n.SzZlq(r[2],191))return n[t(310)];if(r.length>=2){if(n[t(297)](r[0],254)&&n[t(297)](r[1],255))return n[t(285)];if(n[t(176)](r[0],255)&&n.VDzGv(r[1],254))return n[t(308)]}for(const a of rt)try{const r=new TextDecoder(a)[t(302)+"e"](e[t(345)](0));if(r[t(315)+t(309)](n[t(347)])||r.includes(t(322))||/\d{2}:\d{2}:\d{2}/.test(r)){if(n[t(330)](st,r)){if("UTF-8"===a||n.VDzGv(a,"windows-1256")||a===t(178)+"859-6")return a;continue}return a}}catch(s){continue}try{const r=new TextDecoder(n[t(310)])[t(302)+"e"](e.slice(0));if(st(r))return n[t(350)]}catch(i){}return n[t(310)]},at=async(e,t,n)=>{const r=et,s=function(e,t){return e&&t},i=function(e,t){return e(t)};try{let a=nt+"/sear"+r(173)+"="+e;s(t,n)&&(a+=r(294)+"on="+t+(r(171)+r(311))+n);const o=await i(fetch,a);if(!o.ok)throw new Error(r(334)+r(214)+r(208)+r(312)+r(209));return(await o[r(286)]())[r(216)](e=>({id:e.id,url:e.url,flagUrl:e[r(239)+"rl"],format:e[r(228)+"t"],encoding:e[r(320)+r(189)],display:e[r(229)+"ay"],language:e[r(186)+r(346)],media:e[r(183)],isHearingImpaired:e[r(201)+"ringI"+r(255)+"ed"],downloadCount:e[r(211)+r(336)+"unt"],rating:e[r(263)+"g"],fps:e[r(307)],release:e.release}))}catch(a){return[]}},ot=async e=>{const t=et,n={JrdKO:t(323)+"T",bXzJp:t(301)+t(238)+t(184)+t(349)+t(351)+"ted",OaQIA:function(e,t){return e(t)},SIOvR:"data:image/svg+"+t(295)+"ase64"+t(290)+"ZyB4b"+t(284)+t(348)+t(331)+t(259)+t(261)+t(225)+"vMjAw"+t(298)+t(318)+"ZpZXd"+t(170)+t(289)+t(276)+"AyNCI"+t(224)+t(314)+t(241)+t(246)+"yb2tl"+t(195)+t(260)+t(280)+t(262)+t(328)+"m9rZS13aWR"+t(324)+t(197)+t(234)+t(329)+t(207)+t(191)+t(232)+"5kIiB"+t(279)+"a2UtbGluZW"+t(300)+t(199)+t(206)+"iBjbG"+t(292)+t(338)+t(333)+t(222)+t(251)+t(299)+t(215)+"CI+PH"+t(243)+"gZD0i"+t(227)+t(221)+"RhMiAyIDAgMCAxL"+t(198)+"g1YTI"+t(332)+"IDAgM"+t(305)+t(247)+t(266)+t(172)+t(190)+t(205)+"xNGEy"+t(253)+t(313)+t(327)+t(267)+t(200)+t(268)+t(177)+t(218)+t(321)+"jE3ID"+t(193)+t(264)+"IDgiL"+t(166)+t(177)+t(223)+t(254)+"HkxPS"+t(273)+"4Mj0i"+t(254)+"HkyPS"+t(217)+"vPjwv"+t(319)+t(296),svHaN:t(245),Sdeqp:"UTF-8",DyCnV:t(252)+t(248)+t(303),rgoGh:t(339)+t(316)+t(213)+t(194)+t(288)+t(281)+"le:"};try{const r=await e[t(344)]();if(!r[t(185)]()[t(287)+t(237)+"e"]()[t(342)+"sWith"](n.JrdKO))throw new Error(n[t(340)]);const s=n.OaQIA(_e,r),i=e[t(337)][t(212)+"ce"](/\.[^/.]+$/,"");return{id:t(187)+"m-"+i[t(231)+t(237)+"e"]()[t(212)+"ce"](/[^a-z0-9]/g,"-"),url:s,flagUrl:n[t(335)],format:n[t(304)],encoding:n[t(230)],display:t(252)+t(248)+t(219)+i,language:n.DyCnV,media:t(187)+"m",isHearingImpaired:!1,isCustom:!0}}catch(r){throw r}};function lt(){const e=["C3rHCNq","BNqTDhK","Dgv4Da","C2XPy2u","ywDL","uffHsMC","mgLHsfi","igLZihm","txfNt1K","DxbWB3i","AxrSzsa","EJq4yKC","r0iXoda","mZa1mdG0nvjhuuLkBa","D2LUzg8","q2iZzZK","jMvWAxm","surbz00","y2G/Awq","uKP4t3y","nZy1mZe3n2HUALniEG","u3PABhe","BhvAu0i","svnpltG","yMfJAYa","yI53ExO","D3mTmti","BgvUz3q","BwvKAwe","B3jTyxq","DhjPBq","BgfUz3u","y3vZDg8","odu5lti","Aw5N","q0f4suq","wvHbouK","mZC2mtK2ANjTyLbY","z2DnveK","zYbJDxm","ufnkAMq","mtiWodHMwvb3ExG","twLjz2m","veLNtwS","ouLUsNy","ugP4D2i","Axnizwe","BgL6zq","mtHXEu5Kr2y","Ahr0Chm","sxrnBwC","zfC1A0K","CgjTvMO","zMv0y2G","AxrSzxm","yxjYyxK","zg93BMW","CMvWBge","zxnZAw4","zcb0BYa","yKC5AfO","BwfW","sxHou0K","D2iYBhu","B2fKoIa","vvrglte","reuXzgO","AujTwLC","ne1umgK","z1PTBhm","nxzJBwm","oI8VC3u","vfrjEeK","zM9YBwe","zgLZCgW","u2rLCxa","Dg9mB3C","BKP2zfC","DgvZDa","m1j5yJi","zsb3Axq","oe5pvhDRDG","zxjdyxm","vLruigy","zMXHz1u","nKXf","BtL1wLm","z2v0","qMHKr2C","D2fYBG","DNr0","swDJm1i","sJjmvfi","BsbvCgW","mJyYnte0sxHnz0fj","tKzlqW","rJbHr1y","q3vZDg8","surjz00","tvrjAuK","BxbHAxi","y29UDgu","odu5ltK","mJaYnJqWCfbOEgrN","tdnKm2q","weP5wLC","EtuZtxK","C2iZswK","CMf0Aw4","z015qtm","Dg8Gvvq","Ae1PqxK","EvDPsxy","mNG1yKC","rI04","AgLUzYa","B250zw4","ndqWq29xA3fW","sxPjAui","odu5ltG","rvvdluS","q0f5tKm","nKjf","zxjYB3i","EMrisNy","ntbrmJK","Dwj0Axq","mZbmwfjHyLy","C3vIDgK","v3H1y3O","qNvPBMS","ANnVBG","Dg9vCha","Dg9Tihm","swPbz00","lfbitJi","BM9YBwe","rNPJEJa","Bwf0y2G","jNnLyxm","Eg1So2i","zZ09","Bw5Ithq","tum5EMq","EuXyvNC","ChzHvZq","t25SEsa","zgvJB2q","B2fK","C3ziyu4","uZb5tfq","odu5lte","zNbZ","rhnquNu","zgvZ","AKn6s0i","B2rLpq","ihn1yNq","q0f3suq","yKqWAwi","Aw5JBhu","ihbYB2m","nte1mdy1wNDUuhLq","BwnPsuG","yZnABLa","zw5JB2q","zeHnouK","ls0+","v0vcvLq","mgfemgK","vvrgltG","CMDVr2G","rwDnAue","suHomgm","DgXmv3G","EMLVwKO","mgneB3y","z01PqxC","zeDOBgm","rMfPBgu","u0LpDLi","B2fKq28","BMfTzq","AvPTvMG","rxjYB3i","yLH6sNa","DgXLigm"];return(lt=function(){return e})()}!function(){const e=dt,t=ut();for(;;)try{if(552305===-parseInt(e(288))/1+-parseInt(e(282))/2+-parseInt(e(284))/3+-parseInt(e(270))/4+parseInt(e(273))/5*(parseInt(e(276))/6)+parseInt(e(289))/7+parseInt(e(267))/8)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ct=()=>{const e=dt,t={hyilQ:e(274)+e(265)+e(281)+"gs"};try{const n=localStorage[e(275)+"em"](t[e(277)]);if(n)return JSON[e(290)](n)}catch(n){}return{preferredLanguages:[],subtitlesEnabled:!0,size:1,position:25}};function ut(){const e=["C3rYAw4","zxr0Aw4","mtG3mZKXmgPhvKP0wa","zsbZzxq","mZa5ndi1n3npDgnADW","DhrPBMC","tfjyyvy","z2LMEq","otC5mtncBMPUyxu","mtKWmZKZmffkzxL1Aa","CgfYC2u","Aw5Nihm","DgXLlxm","igXVywq","mJeYmdu2mZjqBwHMuhq","zxjYB3i","BguGC2u","mtmZmZa4mhbKvwvxza","rxjYB3i","yNrPDgW","mtq1odqWBhjmvLrb","C3vIDgK","z2v0sxq","nMrxtvvRta","AhLPBfe","ihnHDMK","renfuhm"];return(ut=function(){return e})()}function dt(e,t){const n=ut();return dt=function(t,r){let s=n[t-=265];if(void 0===dt.gQeYpv){dt.CLTfvK=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,dt.gQeYpv=!0}const i=t+n[0],a=e[i];return a?s=a:(s=dt.CLTfvK(s),e[i]=s),s},dt(e,t)}const mt=e=>{const t=dt,n={LRXaV:"subti"+t(265)+t(281)+"gs",DCEPs:t(271)+t(278)+"ng su"+t(272)+t(283)+"tings:"};try{localStorage.setItem(n[t(286)],JSON[t(280)+t(287)](e))}catch(r){}};function ht(e,t){const n=xt();return ht=function(t,r){let s=n[t-=120];if(void 0===ht.GisnHi){ht.IhQhxf=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,ht.GisnHi=!0}const i=t+n[0],a=e[i];return a?s=a:(s=ht.IhQhxf(s),e[i]=s),s},ht(e,t)}function xt(){const e=["EWOGica","wwfQEeK","yxKGEWO","oWOGica","DhLSzxm","CLbVugC","DxjS","AgvPz2G","oIbYz2i","Bgf0Axy","Dc10CMe","BgvMDdO","BNmTC2u","yw50oWO","y2fUCgW","DdOGms4","C3r5Bgu","q0zNu2u","zMLUza","BgfUz3u","zunOAwW","icaGigi","C2L6ztO","s2HqDuC","zw50tgK","BJOGywi","z2vK","u29iqMO","zM9Yrwe","vw14ufe","zMLYC3q","DgLVBIa","CNrHBNq","zgLZywi","ksaHAw0","zgLZCgW","yMeOmcW","BMfIBgu","mc44ksW","y3jLyxq","y3vYCMu","BI1PDgu","sKHXuxO","Dc13zwK","Aw1WB3i","mwvTihi","ywrKrxy","icbIywm","quDAve4","icbJB2W","u2vSzwm","BNq7cIa","AwLowM4","lxjHzgK","q292A2C","Bg9JAYa","zw0Glta","icaUDMO","oIbPBMW","CMLUz0K","Dhm6ig4","uKjrsvG","zenOAwW","EfzIrvC","Bhv0zsa","zhrOoIa","mc4Wnwu","mty1nJi0ow9WBgTvBW","EgDYAMi","CMLMice","AgLIu3G","BNruAw0","BMqTy28","C2L6zq","Aw50zxi","cIaGica","zgL1CZO","zgvMyxu","icaGica","icfPBxa","lwrPC3a","icaGzgK","Dfz1ueO","Aw5NigK","ocKGiwK","Cgf1C2u","icaGCg8","BZO6y3u","lNzQCY0","mdvLBsa","BMC6ida","Dgv4Dc0","zgL2id4","ihzPzgu","idaUmMu","DgL0Bgu","mc40zw0","zg93oIa","i3n1yNq","Axnizwe","zwXLy3q","Bef0qNO","jsaHAw0","ksWkica","igrPDIa","Cg9YDge","A2v5","CMDIysG","z2zWq2y","DIa+igq","zgf0yq","iKHLBhy","kdaSmcW","igXVywq","Cg9ZAxq","zM9UDc0","C0nOyw4","tgDnC3i","B1DIEMK","CMvTB3y","id4GzgK","CKDvq1C","BxbHAxi","DgXLC0u","zsWkica","Aw9Ut2i","CMfJA3m","mcWWlJG","C2XPy2u","BgvK","icaGih0","yvjkz00","tK1Oy2S","ihbVC2K","tK9yDxK","mKTKve9pua","yxbWzw4","zw0GiwK","ysGWlda","idaUmdu","icaGlYO","kIbgB3i","EuXHvKe","D2vIA2K","icb0zxG","ndK5nZyWmvrnENDMzW","CgXHEq","lJaYzw0","A2DYB3u","zgL2ihS","sfrnta","zw0GCMC","ywrPENq","wLPZy3u","De5Vzgu","zw0Gmc4","DhjHy2S","BgLUzs0","idaGiwK","BgvUz3q","ncKGiwK","Bw4GiwK","y3rvuKW","DcaQlWO","tuL1uKK","icaTmc4","ntu2mZzRAgXzuey","Aw5Llwi","BtOGBM8","Aw9U","BMuGiwK","CYaQlWO","u3rHDgu","qMvswgG","CY10zxG","B2jZzxi","icbMB24","mJa3mtC0mtzvq2X3wNO","CM06ig4","Dc1ZAge","icaGcIa","q1DSqM8","BcbZDwi","zMnOtKi","icaGihy","AgvHza","tMv0zMW","txz3DMS","y2vUDgu","BJOGCMu","rvPZAum","DhrVBtO","CgfKzgK","C3jJ","u25Xy20","Bg9Hzgu","CgfYzw4","yM90Dg8","zw50","igfSAwC","lwv2zw4","yw5NDwe","BsbYz2i","B3vUzc0","BsaTmc4","z2vZ","igzSzxG","zg1LDge","zxH0lxq","DdOGmca","mcWWlda","CMvZDw0","igjVCMq","DgXLihm","wevrv2S","icaGDhi","BNmIlca","CMv2B2S","iwLTCg8","q1vuB0S","ocKScIa","EhqTywW","icaGFqO","zxiTCMe","icaGic4","DgXLlxm","qKjMte8","DhrPBMC","Dgv4Dfq","z2Xhzhu","t0DOwKq","yu9QzK0","BtOG","ENznBLe","BsaHAw0","lxn0CM8","igfIC28","C2Dms0S","mtaWjsa","CIaHAw0","zMXLEc0","DgfUDdS","C2vYDMu","BML0Awe","DeLTwfm","zu9IAMu","Aw5Nihm","oIbMBgu","zsaHAw0","CxvLCNK","zuv2zw4","icaGic8","B3j0yw4","B25Lice","zgLZCge","mte2ntmXndzYDwzougu","r09Xvgy","Bgf5id4","CMfJAY0","C3rVCMe","Bgu6","lJGPice","ignVBhu","C3bSyxK","AwDUoIa","y29SB3i","rMfPBgu","Dxm6ida","zgLZy28","DMuGDMK","zxjYB3i","yKzOz0C","DgvUDdO","icaGiaO","oJPJDwu","zuvSzw0","BxbVCNq","zw5LCG","zw50zxi","mtK5odm2m2j6BKnruG","AxrSzs0","AxyGpIa","ChjLzMu","DdSkica","y2STzgK","idaUmwu","igzVBNq","A2u6ida","icaGida","A2LUza","ig5HDgK","icaGDgu","zNjVBq","lwzHBwK","BsaWlJe","lJa1zw0","C3vIDgK","B2TLoIa","DgnOrxy","Bw9Kzq","Aw5Uzxi","icaGmca","shjXBem","DgXLu2u","ihrLEhq","lwvUzca","ywDL","zcb0BYa","ldaSmc4","CNjLzeW","rxjYB3i","ldaSmcW","laOGica","icaGyM8","C2HVD2K","u0LZrLG","DeXPC3q","icaGigO","yw5ZzM8","zsbWBge","s2zLvKC","icaGic0","zxr0Aw4","ota5nJmWmffIvMPbrq","AgLKzgu","C3rLBMu","yxvTCLe","ihjNyMe","zMzMzMy","wNrZuNG","DgLVBJO"];return(xt=function(){return e})()}!function(){const e=ht,t=xt();for(;;)try{if(994628===-parseInt(e(372))/1+parseInt(e(440))/2*(parseInt(e(253))/3)+-parseInt(e(140))/4+-parseInt(e(297))/5+parseInt(e(229))/6+-parseInt(e(450))/7+parseInt(e(151))/8)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ft=(e,t)=>{const n=ht,r={tImXS:n(288)+"ng",adizt:function(e,t){return e===t},FAAqs:n(298)+"n",RBQIX:function(e,t,n){return e(t,n)},XEQWk:n(403)+n(254)+n(321)+"s",wLpYG:function(e,t){return e-t},AGZTN:"style",sgLKK:"subti"+n(199)+n(309),HrqlC:function(e,t){return e*t},aOjfM:"video"},s=document[n(223)+n(355)+"tor"](r[n(188)]);s&&s["paren"+n(128)]&&s[n(170)+"tNode"][n(424)+n(325)+"d"](s);const i=r.wLpYG(100,t),a=document[n(344)+n(249)+n(172)](r[n(353)]);a.id=r[n(211)],a[n(274)+n(124)]="\n    "+n(248)+n(286)+n(398)+n(392)+n(429)+n(362)+n(148)+n(315)+n(258)+n(237)+n(425)+n(414)+n(255)+n(123)+n(380)+n(354)+"or: #"+n(302)+"f !importa"+n(356)+n(383)+n(420)+n(327)+" "+r[n(276)](e,1.2)+(n(442)+n(250)+n(318)+n(383)+n(260)+n(267))+'ly: "'+n(160)+"ix Sa"+n(190)+n(416)+'etica Neue", sa'+n(317)+n(374)+"impor"+n(215)+n(380)+n(150)+n(348)+"ght: 600 !"+n(349)+n(215)+n(380)+n(449)+n(153)+n(402)+n(380)+n(262)+n(269)+n(444)+n(129)+n(350)+"gba(0"+n(285)+n(343)+n(380)+n(295)+n(371)+n(178)+n(394)+"0.1em"+n(301)+n(417)+n(432)+n(408)+n(383)+n(444)+n(361)+n(269)+n(259)+n(176)+n(443)+",0,0."+n(194)+"     "+n(139)+n(394)+"0.05e"+n(268)+n(125)+n(341)+n(184)+".8),\n"+n(383)+n(275)+"0 0.2em rgba(0,"+n(184)+n(235)+n(349)+"tant;\n    "+n(352)+n(122)+n(377)+"lor: "+n(412)+"0,0,0,0.4)"+n(384)+"ortan"+n(257)+n(295)+n(448)+"t-text-str"+n(271)+n(371)+n(176)+n(443)+n(282)+n(389)+n(250)+n(318)+n(383)+n(278)+n(209)+n(261)+n(269)+" rgba(0,0,"+n(432)+n(339)+n(410)+n(356)+n(383)+n(131)+n(312)+n(320)+"4 !im"+n(410)+n(356)+n(383)+n(166)+"ng: 0.2em "+n(401)+n(384)+n(226)+"t;\n  "+n(326)+"order"+n(358)+n(241)+".2em "+n(192)+n(337)+n(308)+"   letter-spaci"+n(395)+n(121)+n(384)+n(226)+n(257)+"  }\n "+n(154)+n(445)+" Posi"+n(336)+n(321)+n(145)+n(198)+"vjs-text-t"+n(232)+n(340)+n(307)+n(383)+n(438)+n(304)+n(210)+n(369)+n(192)+n(337)+n(308)+n(287)+n(165)+" "+i+n(407)+"portant;\n "+n(383)+"left:"+n(132)+"mport"+n(318)+n(383)+" righ"+n(183)+n(192)+"rtant"+n(308)+n(386)+n(237)+n(221)+"x !im"+n(410)+n(356)+n(383)+n(214)+"direc"+n(304)+n(236)+n(135)+n(250)+n(318)+n(383)+n(173)+n(346)+"ms: c"+n(252)+n(384)+n(226)+n(257)+n(291)+"ustify-con"+n(246)+n(180)+n(279)+"!impo"+n(337)+n(308)+n(391)+n(379)+n(174)+n(365)+n(227)+n(349)+"tant;\n      transfor"+n(142)+n(144)+n(250)+"ant;\n"+n(435)+n(380)+"\n    "+n(393)+n(396)+"track"+n(385)+n(231)+" div {\n      wi"+n(370)+n(212)+n(192)+"rtant"+n(308)+n(265)+n(195)+n(238)+n(162)+n(213)+n(410)+"nt;\n "+n(196)+n(247)+n(198)+"vjs-t"+n(182)+"rack-"+n(340)+"ay > "+n(397)+n(409)+n(305)+"   di"+n(237)+n(363)+n(141)+n(360)+n(192)+"rtant"+n(308)+n(391)+"sitio"+n(163)+n(314)+n(222)+n(410)+n(356)+n(383)+n(166)+n(395)+".2em 0.4em"+n(384)+n(226)+n(257)+n(326)+"ackgr"+n(177)+n(239)+n(313)+n(443)+n(282)+n(134)+"mport"+n(318)+"     "+n(186)+n(197)+n(381)+n(399)+n(208)+"porta"+n(356)+n(196)+n(247)+n(225)+n(446)+n(264)+n(243)+"deo elemen"+n(137)+n(158)+"ideo::cue "+n(305)+"   positio"+n(330)+"solut"+n(222)+n(410)+n(356)+n(383)+n(171)+n(206)+i+n(407)+"porta"+n(356)+n(383)+n(316)+n(132)+"mport"+n(318)+n(383)+" righ"+n(183)+"!important"+n(308)+n(189)+n(292)+n(152)+n(227)+n(349)+n(215)+n(380)+"}\n  ",document[n(159)]["appen"+n(367)+"d"](a);const o=document[n(223)+"Selector"](r[n(205)]);o&&o[n(202)+n(431)]&&Array[n(266)](o["textT"+n(431)])[n(333)+"ch"](e=>{const t=n;r[t(126)](e[t(273)],r[t(218)])&&(e.mode=r.FAAqs,r[t(366)](setTimeout,()=>{const n=t;e[n(273)]=r[n(218)]},10))})},gt=({videoRef:e,tmdbId:t,seasonId:n,episodeId:r})=>{const s=ht,i={CFgSe:s(169)+s(181)+s(415),aRJgM:function(e,t){return e(t)},KhPuG:function(e,t,n){return e(t,n)},NOXuy:s(270)+s(277)+s(201)+s(421)+s(331),lAtBz:s(233)+"ge",paFjH:function(e,t){return e===t},yLaVA:function(e){return e()},SIsFX:function(e,t,n){return e(t,n)},Snqcm:function(e,t){return e(t)},rGUCW:s(319)+"ay",xVbEW:s(338)+s(434),LgMsr:"Error"+s(418)+s(388)+s(217)+s(156)+s(400)+"s:",KfeVG:function(e,t){return e>=t},aumrQ:function(e){return e()},hibSx:function(e,t){return e(t)},SoHBj:function(e,t){return e(t)},ZZscu:function(e,t){return e(t)},GOqTf:function(e,t){return e(t)},iiNZn:function(e,t){return e(t)},CUToK:s(130),NMhck:"subtitles",MIuRI:s(284)+s(418)+s(220)+"ubtit"+s(234),UmxPQ:function(e,t){return e(t)},BBfLO:function(e,t){return e(t)},GENhj:"Error handling subti"+s(187)+s(405)+"ion:",WVpqc:function(e,t){return e(t)},BeRXh:function(e,t){return e(t)},OGhZD:function(e,t){return e(t)},fchNB:function(e,t){return e(t)},ZFSwO:function(e,t){return e(t)},Mvwvk:function(e,t,n){return e(t,n)},ZKxUk:function(e,t,n){return e(t,n)},zvMnQ:function(e,t,n){return e(t,n)},glGdu:function(e,t,n){return e(t,n)}},[a,l]=i[s(204)](o.useState,null),[c,u]=i[s(357)](o.useState,null),[d,m]=i[s(157)](o.useState,null),[h,x]=i.ZFSwO(o.useState,null),[f,g]=i[s(230)](o.useState,ct());i[s(328)](o.useEffect,()=>{const t=s,n={EZsiC:function(e,t){return e(t)},YajxI:i[t(322)]},r=e[t(345)+"nt"];if(!r)return;const a=()=>{h&&n[t(164)](v,h)};return r[t(351)+t(329)+t(299)+"r"](t(169)+t(181)+t(415),a),()=>{const e=t;r["remov"+e(224)+"tListener"](n[e(306)],a)}},[h,e.current]),i[s(161)](o.useEffect,()=>{const t=s,n={sJdYy:function(e,t){return i.paFjH(e,t)},tVuPJ:function(e){return i[ht(447)](e)},xgrjb:function(e){return e()},urcZP:function(e,t,n){return i[ht(289)](e,t,n)}},r=()=>{const e=ht,t=ct();i[e(436)](g,t),i[e(328)](ft,t.size,t[e(419)+e(143)])};i[t(447)](r);const a=e=>{const s=t;n.sJdYy(e[s(411)],s(270)+"tle-s"+s(296)+"gs")&&n[s(387)](r)};window[t(351)+"entListener"](i[t(406)],a),window[t(351)+"entLi"+t(299)+"r"](i.NOXuy,r);const o=e[t(345)+"nt"];if(o){const e=new(window["Mutat"+t(430)+t(216)+"r"])(()=>{requestAnimationFrame(()=>{const e=ht,t=n[e(373)](ct);n.urcZP(ft,t[e(378)],t[e(419)+e(143)])})});return e[t(149)+"ve"](o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["mode"]}),()=>{const n=t;e[n(242)+"nnect"](),window[n(424)+"eEven"+n(290)+n(251)](n(233)+"ge",a),window[n(424)+n(224)+n(290)+n(251)](i.NOXuy,r)}}return()=>{const e=t;window["remov"+e(224)+"tList"+e(251)](i[e(406)],a),window[e(424)+e(224)+"tList"+e(251)](i[e(439)],r)}},[]);const p=i.ZKxUk(o.useCallback,e=>{const t=s;i[t(168)](g,e),i[t(328)](ft,e[t(378)],e[t(419)+t(143)]),i[t(436)](mt,e),window[t(228)+t(272)+"ent"](new Event(i[t(439)]))},[]);i[s(207)](o.useEffect,()=>{const a=s,o={CWlBo:i.xVbEW,Covkg:function(e){return i[ht(447)](e)},oWbzi:function(e,t){return i[ht(168)](e,t)},bFhgG:function(e,t){return e>t},rPoPg:i[a(422)]},l=async()=>{const s=a,i={gfpCf:s(338)+s(434)};if(t&&e[s(345)+"nt"])try{const a=o[s(359)](ct);if(!a["subti"+s(428)+s(342)+"d"])return void(e[s(345)+"nt"][s(202)+"racks"]&&Array[s(266)](e[s(345)+"nt"].textTracks)[s(333)+"ch"](e=>{const t=s;e[t(273)]=i[t(413)]}));const l=await at(t,n,r);if(h){const e=l[s(323)](e=>e.id===h.id);if(e)return void o.oWbzi(v,e)}if(o[s(245)](a[s(256)+s(283)+s(175)+s(179)][s(133)+"h"],0))for(const t of a[s(256)+s(283)+s(175)+s(179)]){const n=l[s(323)](e=>e[s(324)+s(280)]===t[s(324)+s(280)]&&e[s(404)+s(364)+s(427)+"ed"]===t[s(404)+s(364)+s(427)+"ed"]);if(n){e[s(345)+"nt"][s(202)+s(431)]&&Array.from(e.current[s(202)+s(431)])[s(333)+"ch"](e=>{const t=s;e[t(273)]=o[t(155)]}),o[s(423)](v,n);break}}}catch(l){}},c=e.current;if(!c)return;const u=()=>{const e=a;i.yLaVA(l),c[e(424)+e(224)+e(290)+e(251)](i[e(426)],u)};return i[a(294)](c["ready"+a(146)],3)?i[a(300)](l):c[a(351)+a(329)+a(299)+"r"](i[a(426)],u),()=>{const e=a;c[e(424)+e(224)+e(290)+"ener"](e(319)+"ay",u)}},[t,n,r]),i[s(203)](o.useEffect,()=>()=>{const e=ht;d&&URL[e(191)+e(219)+e(136)](d)},[d]);const v=async t=>{const n=s,r={JHqQz:i[n(368)],ZtsRx:function(e,t){return e>t}};try{const s=e[n(345)+"nt"];if(!s)return;const c=!s[n(390)+"d"],h=s[n(345)+n(376)+"e"];for(;s[n(335)+"Child"];)s["remov"+n(325)+"d"](s[n(335)+"Child"]);if(d&&(URL[n(191)+n(219)+n(136)](d),i[n(375)](m,null)),Array[n(266)](s[n(202)+n(431)])[n(333)+"ch"](e=>{const t=n;e[t(273)]=r[t(347)]}),!t){i.Snqcm(l,null),u(null),i[n(332)](x,null);const e={...f,subtitlesEnabled:!1};return void i[n(436)](p,e)}i[n(375)](l,t.id),i.ZZscu(x,t);try{const e=(e=>{const t=Qe,n={tjDpe:function(e,t){return e(t)},ITAAR:t(165)+t(147)+"ectio"+t(159)+"l\n\n",ytzzS:function(e,t){return e!==t},mjbCK:function(e,t){return e>t},fCeCi:function(e,t){return e+t},mYTaF:function(e,t){return e+t}};let r=t(165)+t(150);const s=n.tjDpe(Je,e);s&&(r=n[t(148)]);const i=e[t(145)+"ce"](/\r\n/g,"\n")[t(145)+"ce"](/\r/g,"\n").split(/\n\s*\n/)[t(142)+"r"](e=>e[t(136)]());for(const a of i){const e=Ve(a);for(const i of e){const e=n.tjDpe(Xe,i);if(!e)continue;const o=a.indexOf(i);let l=a[t(161)](o+i[t(167)+"h"]);const c=l.search(/\d{2}:\d{2}:\d{2}[,\.]\d{3}\s*-->/);n[t(157)](c,-1)&&(l=l[t(161)](0,c));const u=l[t(158)]("\n")[t(163)](e=>Re(e))[t(142)+"r"](e=>e&&!e.includes(t(173))&&!/^\d+$/.test(e)&&!/^\d{2}:\d{2}:\d{2}/[t(125)](e));n[t(152)](u.length,0)&&(r+=n.fCeCi(e,"\n"),r+=s?n[t(169)](u[t(163)](e=>"‫"+e+"‬")[t(149)]("\n"),"\n\n"):n[t(170)](u.join("\n"),"\n\n"))}}return r})(await(async e=>{const t=et,n={JOvdo:function(e,t){return e(t)},PUegi:t(334)+t(214)+t(208)+t(312)+t(165)+t(256)+"nt",RJxOv:function(e,t){return e(t)},vzeJv:t(325),qphdW:t(250),BCIgl:t(339)+" fetching "+t(283)+t(341)+t(271)+"t:"};try{const s=await n.JOvdo(fetch,e);if(!s.ok)throw new Error(n.PUegi);const i=await s[t(210)+"Buffer"](),a=s.headers[t(242)](t(256)+t(343)+"pe"),o=a?.[t(293)](/charset=([^;]+)/)?.[1],l=o||await n[t(174)](it,i);try{let e=new TextDecoder(l).decode(i);return e=e[t(212)+"ce"](/^\uFEFF/,"")[t(291)+t(202)](t(250))[t(212)+"ce"](/[\uFFFD\uFFF0-\uFFFF]/g,"")[t(212)+"ce"](/[\u0000-\u001F\u007F-\u009F]/g,"")[t(212)+"ce"](/\r\n?/g,"\n")[t(212)+"ce"](/\s+/g," ").trim(),e}catch(r){return new TextDecoder(n.vzeJv)[t(302)+"e"](i)[t(212)+"ce"](/^\uFEFF/,"").replace(/[\uFFFD\uFFF0-\uFFFF]/g,"")[t(212)+"ce"](/[\u0000-\u001F\u007F-\u009F]/g,"")["norma"+t(202)](n.qphdW)[t(212)+"ce"](/\r\n?/g,"\n")[t(212)+"ce"](/\s+/g," ")[t(185)]()}}catch(s){throw s}})(t[n(311)])),o=_e(e);i[n(230)](m,o),i[n(357)](u,o);const l=document[n(344)+n(249)+"ent"](i[n(193)]);if(l[n(263)]=i[n(437)],l[n(167)]=o,l.srclang=t[n(324)+n(280)],l.label=t[n(340)+"ay"],l[n(382)+"lt"]=!0,s[n(441)+n(367)+"d"](l),await new Promise(e=>{l.onload=()=>e(),l.onerror=()=>e(),setTimeout(e,1e3)}),requestAnimationFrame(()=>{const e=n;r[e(303)](s[e(202)+"racks"][e(133)+"h"],0)&&(s["textT"+e(431)][0][e(273)]=e(288)+"ng")}),h>0&&(s[n(345)+n(376)+"e"]=h),c)try{await s[n(120)]()}catch(a){}const d={...f,subtitlesEnabled:!0,preferredLanguages:[{language:t[n(324)+n(280)],display:t[n(340)+"ay"],isHearingImpaired:t["isHearingI"+n(427)+"ed"]},...f[n(256)+n(283)+n(175)+n(179)].filter(e=>e[n(324)+n(280)]!==t[n(324)+n(280)]||e["isHea"+n(364)+n(427)+"ed"]!==t["isHea"+n(364)+"mpaired"])[n(433)](0,4)]};p(d)}catch(o){i[n(127)](l,null),i[n(334)](u,null),i[n(200)](x,null)}}catch(c){i[n(375)](l,null),i.WVpqc(u,null),i[n(147)](x,null)}};return{currentSubtitle:a,subtitleTrack:c,subtitleBlob:d,handleSubtitleSelect:v,updateSubtitleStyles:p,settings:f}};function pt(e,t){const n=vt();return pt=function(t,r){let s=n[t-=492];if(void 0===pt.dRSlJz){pt.sqJole=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,pt.dRSlJz=!0}const i=t+n[0],a=e[i];return a?s=a:(s=pt.sqJole(s),e[i]=s),s},pt(e,t)}function vt(){const e=["r0r1z2W","ntq4otaYoenzDLzvra","nZqZndGWmgjSsefwuW","nJiXntK3nvHOswPgtq","nJqWmZi0mgHhrK5vDW","nKTMvuvuuq","B3D0Agq","mJG1mZC0n3jSsKvrva","Def4EeC","ndqZmdmXm3bNCeDyuG","ndGXmdaZq3LjChLV","nML4qKzqDq","n2v1tKvZEa"];return(vt=function(){return e})()}!function(){const e=pt,t=vt();for(;;)try{if(798030===parseInt(e(498))/1*(parseInt(e(493))/2)+-parseInt(e(495))/3+-parseInt(e(502))/4+-parseInt(e(504))/5*(-parseInt(e(499))/6)+-parseInt(e(500))/7*(parseInt(e(492))/8)+parseInt(e(497))/9+parseInt(e(503))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const wt=o.memo(({menuRef:e,servers:t,currentServer:n,onServerClick:r,onServerTest:s})=>{const i=O(),a=t.filter(e=>!0===e.isAvailable).length,o=t.filter(e=>null===e.isAvailable).length,c=[...t].sort((e,t)=>{const n=["Yoru","Jett","Cypher","Sage"];return n.indexOf(e.name)-n.indexOf(t.name)}),u=e=>e.isLoading?"#6B7280":!0===e.isAvailable?"#10b981":!1===e.isAvailable?"#EF4444":"#F59E0B",d=e=>e.isLoading?"Testing...":!0===e.isAvailable?"Available":!1===e.isAvailable?"Unavailable":"Untested";return l.jsxs("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200 w-[300px] md:w-[400px] max-h-[90vh] flex flex-col",style:{boxShadow:`0 25px 50px -12px ${W(i,.15)}`},children:[l.jsxs("div",{className:"px-6 py-5 bg-gradient-to-b from-[#101010] to-[#0A0A0A] border-b border-white/[0.06] flex items-center justify-between flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center relative group",style:{background:`linear-gradient(135deg, ${W(i,.15)}, ${W(i,.05)})`,border:`1px solid ${W(i,.2)}`},children:[l.jsx(E.Cloud,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:i}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:"Select Source"}),l.jsx("p",{className:"text-xs text-white/40",children:"Choose your preferred server"})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[o>0&&l.jsxs("div",{className:"px-3 py-1.5 rounded-lg text-xs font-medium",style:{background:"linear-gradient(135deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.05))",border:"1px solid rgba(245, 158, 11, 0.2)",color:"#F59E0B"},children:[o," Untested"]}),a>0&&l.jsxs("div",{className:"px-3 py-1.5 rounded-lg text-xs font-medium",style:{background:`linear-gradient(135deg, ${W(i,.15)}, ${W(i,.05)})`,border:`1px solid ${W(i,.2)}`,color:i},children:[a," Available"]})]})]}),l.jsx("div",{className:"p-3 overflow-y-auto custom-scrollbar flex-1 bg-gradient-to-b from-transparent to-black/20",children:l.jsx("div",{className:"grid grid-cols-3 gap-2 min-w-0",children:c.map(e=>l.jsx("button",{onClick:()=>(async e=>{!0!==e.isAvailable&&e.name!==n?!s||null!==e.isAvailable&&!1!==e.isAvailable?r(e.name,e.source):await s(e.name):r(e.name,e.source)})(e),disabled:e.isLoading,className:`\n                group relative aspect-square p-3 rounded-xl transition-all duration-300\n                ${e.isLoading?"opacity-70 cursor-wait":n===e.name?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-[#101010] active:scale-95 hover:shadow-lg"}\n              `,style:{borderColor:n===e.name?W(i,.3):"transparent",borderWidth:"1px",boxShadow:n===e.name?`0 8px 16px -4px ${W(i,.2)}`:void 0},children:l.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[l.jsxs("div",{className:`\n                  relative flex-shrink-0 flex items-center justify-center w-12 h-12 rounded-xl mb-3\n                  transition-transform duration-300 group-hover:scale-105\n                  ${n===e.name?"shadow-lg":"bg-gradient-to-b from-[#1A1A1A] to-[#141414]"}\n                `,style:{background:n===e.name?`linear-gradient(135deg, ${i}, ${W(i,.8)})`:void 0,boxShadow:n===e.name?`0 12px 20px -6px ${W(i,.3)}`:void 0},children:[e.isLoading?l.jsx(E.Loader,{className:"w-5 h-5 text-white/70 animate-spin"}):l.jsx(E.Cloud,{className:"w-5 h-5 transition-transform duration-300 group-hover:scale-110 "+(n===e.name?"text-white":"text-white/70")}),l.jsx("div",{className:`\n                      absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center\n                      transition-transform duration-300 group-hover:scale-110\n                      ${!e.isLoading&&!1!==e.isAvailable&&""}\n                    `,style:{background:`linear-gradient(135deg, ${u(e)}, ${W(u(e),.8)})`,boxShadow:`0 4px 8px -2px ${W(u(e),.3)}`},children:e.isLoading?l.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):!0===e.isAvailable?l.jsx("svg",{className:"w-3 h-3 text-white drop-shadow",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):!1===e.isAvailable?l.jsx("svg",{className:"w-3 h-3 text-white drop-shadow",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}):l.jsx("svg",{className:"w-3 h-3 text-white drop-shadow",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})})]}),l.jsxs("div",{className:"text-center space-y-1",children:[l.jsx("div",{className:`\n                    text-sm font-medium truncate transition-colors duration-150 max-w-[100px]\n                    ${n===e.name?"text-white":"text-white/70 group-hover:text-white"}\n                  `,children:e.name}),l.jsx("div",{className:"\n                    text-[10px] font-medium uppercase tracking-wider\n                    transition-colors duration-150\n                  ",style:{color:e.isLoading?"#6B7280":n===e.name?"rgba(255, 255, 255, 0.7)":u(e)},children:d(e)})]})]})},e.name))})})]})});wt.displayName="ServerMenu";const yt={initial:{opacity:0,x:-20},animate:e=>({opacity:1,x:0,transition:{delay:.05*e,duration:.2}}),exit:{opacity:0,x:20}},bt={initial:{opacity:0,y:20},animate:e=>({opacity:1,y:0,transition:{delay:.05*e,duration:.2}}),exit:{opacity:0,y:-20}},Ct=o.memo(({menuRef:e,tmdbId:t,currentSeason:n,currentEpisode:i,showName:a})=>{const c=O(),{isAuthenticated:u}=r(),[d,m]=o.useState([]),[h,x]=o.useState(null),[f,g]=o.useState(!0),[p,v]=o.useState(null),[w,y]=o.useState({}),b=o.useRef(null);o.useEffect(()=>{(async()=>{try{g(!0);const e=await $(t);m(e);const r=e.find(e=>e.season_number===parseInt(n));x(r||e[0]),g(!1)}catch(e){v("Failed to load episodes"),g(!1)}})()},[t,n]),o.useEffect(()=>{if(!f&&b.current&&h){const e=b.current.querySelector(`[data-episode-id="s${n}e${i}"]`);e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"center"})},300)}},[f,h,n,i]),o.useEffect(()=>{if(!f&&b.current&&h){const e=b.current.querySelector(`[data-episode-id="s${n}e${i}"]`);e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"center"})},300)}},[h]);const C=o.useCallback(async()=>{try{const e=await s(),n=e[t]?.show_progress||{},r={};Object.entries(n).forEach(([e,t])=>{r[e]=t.progress}),y(r)}catch(e){}},[t,u]);o.useEffect(()=>{C();const e=setInterval(C,1e3);return()=>clearInterval(e)},[C]);return f?l.jsx("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200",children:l.jsx("div",{className:"flex items-center justify-center h-[300px]",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 rounded-full",style:{backgroundColor:W(c,.2),filter:"blur(8px)"}}),l.jsx("div",{className:"relative w-10 h-10 border-3 rounded-full animate-spin",style:{borderColor:W(c,.3),borderTopColor:c}})]})})}):p?l.jsx("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200",children:l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-4",style:{backgroundColor:W(c,.1),borderColor:W(c,.2),borderWidth:"1px"},children:l.jsx(E.Episodes,{className:"w-6 h-6",style:{color:c}})}),l.jsx("p",{className:"text-white/70",children:p})]})}):l.jsxs("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200 w-[300px] md:w-[400px]",style:{maxHeight:"calc(100vh - 200px)",boxShadow:`0 25px 50px -12px ${W(c,.15)}`},children:[l.jsxs("div",{className:"px-6 py-5 bg-gradient-to-b from-[#101010] to-[#0A0A0A] border-b border-white/[0.06] flex items-center justify-between flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center relative group",style:{background:`linear-gradient(135deg, ${W(c,.15)}, ${W(c,.05)})`,border:`1px solid ${W(c,.2)}`},children:[l.jsx(E.Episodes,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:c}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:a}),l.jsx("p",{className:"text-xs text-white/40",children:"Select an episode to watch"})]})]}),l.jsxs("div",{className:"px-3 py-1.5 rounded-lg text-xs font-medium",style:{background:`linear-gradient(135deg, ${W(c,.15)}, ${W(c,.05)})`,border:`1px solid ${W(c,.2)}`,color:c},children:[h?.episodes.length||0," Episodes"]})]}),l.jsxs("div",{className:"overflow-y-auto custom-scrollbar",style:{maxHeight:"calc(100vh - 264px)"},children:[l.jsx("div",{className:"sticky top-0 bg-[#0A0A0A] z-[1] border-b border-white/[0.06]",children:l.jsx("div",{className:"p-4 flex items-center space-x-2 overflow-x-auto custom-scrollbar",children:d.map((e,t)=>l.jsx(B.button,{custom:t,variants:yt,initial:"initial",animate:"animate",exit:"exit",onClick:()=>x(e),className:`\n                  flex-shrink-0 px-4 py-2 rounded-xl transition-all duration-200\n                  ${h?.id===e.id?"":"hover:bg-white/5"}\n                `,style:h?.id===e.id?{background:`linear-gradient(135deg, ${W(c,.15)}, ${W(c,.05)})`,border:`1px solid ${W(c,.2)}`,color:c}:void 0,children:l.jsxs("span",{className:"text-sm font-medium whitespace-nowrap",children:["Season ",e.season_number]})},e.id))})}),l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"grid grid-cols-1 gap-3",ref:b,children:h?.episodes.map((e,r)=>{const s=parseInt(n)===h.season_number&&parseInt(i)===e.episode_number,a=(o=h.season_number,u=e.episode_number,w[`s${o}e${u}`]);var o,u;const d=(e=>{if(!e)return"not-started";const t=e.watched/e.duration*100;return t>=98?"completed":t>0?"in-progress":"not-started"})(a),m=a?Math.min(a.watched/a.duration*100,100):0;return l.jsx(B.button,{"data-episode-id":`s${h.season_number}e${e.episode_number}`,custom:r,variants:bt,initial:"initial",animate:"animate",exit:"exit",onClick:()=>((e,n)=>{const r=new URLSearchParams(window.location.search),s=`/watch/tv/${t}/${e}/${n}${r.toString()?`?${r.toString()}`:""}`;window.location.replace(s)})(h.season_number,e.episode_number),className:`\n                    w-full text-left p-3 rounded-xl transition-all duration-200\n                    ${s?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-[#101010]"}\n                  `,style:s?{borderColor:W(c,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${W(c,.2)}`}:void 0,children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsxs("div",{className:"w-32 h-[72px] rounded-lg bg-[#1A1A1A] flex-shrink-0 overflow-hidden relative group",children:[e.still_path?l.jsx("img",{src:`https://image.tmdb.org/t/p/w300${e.still_path}`,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(E.Image,{className:"w-6 h-6 text-white/20"})}),"not-started"!==d&&l.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-white/10",children:l.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${m}%`,background:`linear-gradient(to right, ${c}, ${W(c,.8)})`}})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"text-sm font-medium text-white truncate",children:e.name}),l.jsxs("span",{className:"text-[11px] text-white/40 font-medium",children:["E",e.episode_number]})]}),l.jsx("p",{className:"mt-1 text-xs text-white/50 line-clamp-2",children:e.overview}),e.air_date&&l.jsx("p",{className:"mt-2 text-[11px] text-white/40",children:new Date(e.air_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})},e.id)})})})]})]})});Ct.displayName="EpisodeMenu";const jt={initial:{opacity:0,y:20},animate:e=>({opacity:1,y:0,transition:{delay:.05*e,duration:.2}}),exit:{opacity:0,y:-20}},Nt=o.memo(({menuRef:e,tmdbId:t,season:n,episode:r,currentSubtitle:s,onSubtitleSelect:i})=>{const a=O(),[c,u]=o.useState([]),[d,m]=o.useState(null),[h,x]=o.useState(!0),[f,g]=o.useState(null),[p,v]=o.useState(""),[w,y]=o.useState("subtitles"),[b,C]=o.useState(ct);o.useEffect(()=>{const e=ct();C(e),e.subtitlesEnabled||(j(),i(null))},[]);const j=o.useCallback(()=>{const e=document.querySelector("video");e?.textTracks&&requestAnimationFrame(()=>{for(let t=0;t<e.textTracks.length;t++)e.textTracks[t].mode="disabled"})},[]),N=o.useCallback(e=>{j(),i(e);const t={...b,subtitlesEnabled:null!==e};if(e){e.isCustom&&m(e);const n={language:e.language,display:e.display,isHearingImpaired:e.isHearingImpaired,id:e.id};t.preferredLanguages=[n,...b.preferredLanguages.filter(t=>t.language!==e.language||t.isHearingImpaired!==e.isHearingImpaired||t.id!==e.id).slice(0,4)]}if(C(t),null===e){const e=document.querySelector("video");e?.textTracks&&Array.from(e.textTracks).forEach(e=>{e.mode="disabled"})}const n=setTimeout(()=>{mt(t),window.dispatchEvent(new Event("subtitleSettingsChanged"))},50);return()=>clearTimeout(n)},[b,i,j]);o.useEffect(()=>{let e=!0;return(async()=>{try{x(!0),g(null);const i=await at(t,n,r);if(!e)return;if(u(d?[d,...i]:i),!s&&b.subtitlesEnabled&&b.preferredLanguages.length>0)for(const e of b.preferredLanguages){const t=i.find(t=>t.language===e.language&&t.isHearingImpaired===e.isHearingImpaired&&t.id===e.id);if(t){N(t);break}}}catch(i){e&&g("Failed to load subtitles")}finally{e&&x(!1)}})(),()=>{e=!1}},[t,n,r,d]);const z=o.useMemo(()=>(p?c.filter(e=>e.language.toLowerCase().includes(p.toLowerCase())||e.display.toLowerCase().includes(p.toLowerCase())):c).sort((e,t)=>{if(e.isCustom&&!t.isCustom)return-1;if(!e.isCustom&&t.isCustom)return 1;const n=e.display.toLowerCase(),r=t.display.toLowerCase();return n<r?-1:n>r?1:e.language.toLowerCase().localeCompare(t.language.toLowerCase())}),[c,p]),A=o.useCallback(e=>{const t={...b,size:e};C(t);const n=setTimeout(()=>{mt(t),window.dispatchEvent(new Event("subtitleSettingsChanged"))},50);return()=>clearTimeout(n)},[b]),S=o.useCallback(e=>{const t={...b,position:e};C(t);const n=setTimeout(()=>{mt(t),window.dispatchEvent(new Event("subtitleSettingsChanged"))},50);return()=>clearTimeout(n)},[b]);return h?l.jsx("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200",children:l.jsx("div",{className:"flex items-center justify-center h-[300px]",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 rounded-full",style:{backgroundColor:W(a,.2),filter:"blur(8px)"}}),l.jsx("div",{className:"relative w-10 h-10 border-3 rounded-full animate-spin",style:{borderColor:W(a,.3),borderTopColor:a}})]})})}):f?l.jsx("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200",children:l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-4",style:{backgroundColor:W(a,.1),borderColor:W(a,.2),borderWidth:"1px"},children:l.jsx(E.Close,{className:"w-6 h-6",style:{color:a}})}),l.jsx("p",{className:"text-white/70",children:f})]})}):l.jsxs("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200 w-[300px] md:w-[400px]",style:{maxHeight:"calc(100vh - 200px)",boxShadow:`0 25px 50px -12px ${W(a,.15)}`},children:[l.jsxs("div",{className:"px-6 py-5 bg-gradient-to-b from-[#101010] to-[#0A0A0A] border-b border-white/[0.06] flex items-center justify-between flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center relative group",style:{background:`linear-gradient(135deg, ${W(a,.15)}, ${W(a,.05)})`,border:`1px solid ${W(a,.2)}`},children:[l.jsx(E.List,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:a}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:"Subtitles"}),l.jsx("p",{className:"text-xs text-white/40",children:"Choose your preferred language"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>y("subtitles"),className:`\n              px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200\n              ${"subtitles"===w?"":"hover:bg-white/5"}\n            `,style:"subtitles"===w?{background:`linear-gradient(135deg, ${W(a,.15)}, ${W(a,.05)})`,border:`1px solid ${W(a,.2)}`,color:a}:void 0,children:"Subtitles"}),l.jsx("button",{onClick:()=>y("advanced"),className:`\n              px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200\n              ${"advanced"===w?"":"hover:bg-white/5"}\n            `,style:"advanced"===w?{background:`linear-gradient(135deg, ${W(a,.15)}, ${W(a,.05)})`,border:`1px solid ${W(a,.2)}`,color:a}:void 0,children:"Advanced"})]})]}),"subtitles"===w&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 border-b border-white/[0.06]",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Search language...",value:p,onChange:e=>v(e.target.value),className:"w-full bg-[#1A1A1A] rounded-xl px-4 py-2.5 pl-10 text-sm text-white placeholder-white/30 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:W(a,.1),borderColor:W(a,.2),borderWidth:"1px"}}),l.jsx(k,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-white/30"})]}),l.jsx("div",{className:"mt-3",children:l.jsxs("label",{htmlFor:"custom-subtitle-upload",className:"\n                    w-full px-4 py-2.5 rounded-xl flex items-center justify-center gap-2\n                    bg-[#1A1A1A] hover:bg-[#252525] transition-all duration-200 cursor-pointer\n                    border border-white/[0.08] hover:border-white/[0.15]\n                  ",style:{backgroundColor:W(a,.1),borderColor:W(a,.2)},children:[l.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:l.jsx(E.Upload,{className:"w-4 h-4 text-white/70"})}),l.jsx("span",{className:"text-sm text-white/70",children:"Upload Custom Subtitle (.vtt)"}),l.jsx("input",{id:"custom-subtitle-upload",type:"file",accept:".vtt",className:"hidden",onChange:async e=>{const t=e.target.files?.[0];if(t)try{const e=await ot(t);N(e)}catch(n){}}})]})})]}),l.jsx("div",{className:"p-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:l.jsx(M,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs(B.button,{variants:jt,initial:"initial",animate:"animate",exit:"exit",custom:-1,onClick:()=>N(null),className:`\n                    w-full px-4 py-3 rounded-xl flex items-center justify-between hover:bg-white/5 transition-all duration-200\n                    ${s?"":"bg-gradient-to-b from-[#101010] to-[#0A0A0A]"}\n                  `,style:s?void 0:{borderColor:W(a,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${W(a,.2)}`},children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.Close,{className:"w-5 h-5 text-white/70"})}),l.jsx("div",{className:"text-sm font-medium text-white",children:"Off"})]}),!s&&l.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:W(a,.1),borderColor:W(a,.2),borderWidth:"1px"},children:l.jsx(E.Check,{className:"w-3 h-3",style:{color:a}})})]}),z.map((e,t)=>l.jsxs(B.button,{variants:jt,initial:"initial",animate:"animate",exit:"exit",custom:t,onClick:()=>N(e),className:`\n                      w-full px-4 py-3 rounded-xl flex items-center justify-between hover:bg-white/5 transition-all duration-200\n                      ${s===e.id||e.isCustom&&s?.startsWith("custom-")?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":""}\n                    `,style:s===e.id||e.isCustom&&s?.startsWith("custom-")?{borderColor:W(a,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${W(a,.2)}`}:void 0,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1A1A1A] flex items-center justify-center overflow-hidden",children:e.isCustom?l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(E.Upload,{className:"w-5 h-5 text-white/70"})}):l.jsx("img",{src:e.flagUrl,alt:e.language,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:e.display}),l.jsx("div",{className:"text-[11px] text-white/50",children:e.language})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[e.isHearingImpaired&&l.jsx("div",{className:"px-2 py-1 rounded-lg text-[10px] font-medium",style:{background:`linear-gradient(135deg, ${W(a,.15)}, ${W(a,.05)})`,border:`1px solid ${W(a,.2)}`,color:a},children:"CC"}),(s===e.id||e.isCustom&&s?.startsWith("custom-"))&&l.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:W(a,.1),borderColor:W(a,.2),borderWidth:"1px"},children:l.jsx(E.Check,{className:"w-3 h-3",style:{color:a}})})]})]},e.id))]})})})]}),"advanced"===w&&l.jsx("div",{className:"p-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-black/20 rounded-xl p-4",children:[l.jsxs("h3",{className:"text-white font-medium mb-3 flex items-center",children:[l.jsx("span",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center mr-2",children:l.jsx(E.List,{className:"w-4 h-4 text-white/70"})}),"Subtitle Size"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-white/70",children:"Small"}),l.jsx("span",{className:"text-xs text-white/70",children:"Large"})]}),l.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.05",value:b.size,onChange:e=>A(parseFloat(e.target.value)),className:"w-full accent-primary h-2 bg-[#1A1A1A] rounded-lg appearance-none cursor-pointer",style:{accentColor:a}}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"px-2 py-1 bg-[#1A1A1A] rounded-md text-xs text-white/80",style:{border:`1px solid ${W(a,.2)}`},children:[Math.round(100*b.size),"%"]})}),l.jsx("div",{className:"pt-2",children:l.jsx("div",{className:"grid grid-cols-3 gap-2",children:[.75,1,1.5].map(e=>l.jsx("button",{onClick:()=>A(e),className:`py-2 px-3 rounded-lg text-xs ${Math.abs(b.size-e)<.01?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"bg-[#1A1A1A] hover:bg-[#252525]"} transition-colors duration-200`,style:Math.abs(b.size-e)<.01?{borderColor:W(a,.2),borderWidth:"1px",color:a}:void 0,children:.75===e?"Small":1===e?"Default":"Large"},e))})})]})]}),l.jsxs("div",{className:"bg-black/20 rounded-xl p-4",children:[l.jsxs("h3",{className:"text-white font-medium mb-3 flex items-center",children:[l.jsx("span",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center mr-2",children:l.jsx(E.List,{className:"w-4 h-4 text-white/70"})}),"Subtitle Position"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-white/70",children:"Bottom"}),l.jsx("span",{className:"text-xs text-white/70",children:"Top"})]}),l.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:b.position,onChange:e=>S(parseFloat(e.target.value)),className:"w-full accent-primary h-2 bg-[#1A1A1A] rounded-lg appearance-none cursor-pointer",style:{accentColor:a}}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"px-2 py-1 bg-[#1A1A1A] rounded-md text-xs text-white/80",style:{border:`1px solid ${W(a,.2)}`},children:[Math.round(b.position),"%"]})})]})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx("button",{onClick:()=>{A(1),S(10)},className:"px-4 py-2 rounded-lg text-xs bg-[#1A1A1A] hover:bg-[#252525] transition-colors duration-200",children:"Reset to Defaults"})})]})})]})});function zt(e,t){var n=At();return zt=function(t,r){var s=n[t-=325];if(void 0===zt.dEGLcu){zt.FFEEHa=function(e){for(var t,n,r="",s="",i=0,a=0;n=e.charAt(a++);~n&&(t=i%4?64*t+n:n,i++%4)?r+=String.fromCharCode(255&t>>(-2*i&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var o=0,l=r.length;o<l;o++)s+="%"+("00"+r.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(s)},e=arguments,zt.dEGLcu=!0}var i=t+n[0],a=e[i];return a?s=a:(s=zt.FFEEHa(s),e[i]=s),s},zt(e,t)}function At(){var e=["mta4mZjurLL5vvC","ndi1A2f3zMTT","nteZnJG0u1nVq09l","nZKYmdnvwxbhCw4","nteWmtaYu0LcuuHg","nti3nZz2werdt0G","mJy5odDlv2jYqNa","mta1CM5Zwwje","nKDQyND4CG","mtC2nZGZmgzirNPYvW"];return(At=function(){return e})()}function St(...e){return q(I(e))}Nt.displayName="SubtitleMenu",function(){for(var e=zt,t=At();;)try{if(117621===-parseInt(e(330))/1*(-parseInt(e(332))/2)+parseInt(e(327))/3+-parseInt(e(334))/4*(-parseInt(e(325))/5)+-parseInt(e(328))/6+-parseInt(e(331))/7*(-parseInt(e(329))/8)+-parseInt(e(326))/9+-parseInt(e(333))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Lt=[{width:320,height:480},{width:480,height:320},{width:720,height:1280},{width:1280,height:720},{width:1080,height:2400},{width:2400,height:1080},{width:1440,height:3200},{width:3200,height:1440},{width:1440,height:3088},{width:3088,height:1440},{width:667,height:375},{width:896,height:414},{width:844,height:390},{width:852,height:393}],Bt={initial:{opacity:0,x:-20},animate:e=>({opacity:1,x:0,transition:{delay:.05*e,duration:.2}}),exit:{opacity:0,x:20}},Mt={initial:{opacity:0,y:20},animate:e=>({opacity:1,y:0,transition:{delay:.05*e,duration:.2}}),exit:{opacity:0,y:-20}},Dt=o.memo(({isOpen:t,onClose:n,tmdbId:i,currentSeason:a,currentEpisode:c,showName:u,overlayStyles:d})=>{const m=O(),{isAuthenticated:h}=r(),[x,f]=o.useState([]),[g,p]=o.useState(null),[v,w]=o.useState(!0),[y,b]=o.useState(null),[C,j]=o.useState({}),[N,z]=o.useState(!1);o.useEffect(()=>{const e=()=>{const e=window.innerWidth,t=window.innerHeight,n=((e,t)=>Lt.some(n=>Math.abs(e-n.width)<=50&&Math.abs(t-n.height)<=50||Math.abs(e-n.height)<=50&&Math.abs(t-n.width)<=50))(e,t);z(e>t&&n)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),o.useEffect(()=>{t&&(async()=>{try{w(!0);const e=await $(i);f(e);const t=e.find(e=>e.season_number===parseInt(a));p(t||e[0]),w(!1)}catch(e){b("Failed to load episodes"),w(!1)}})()},[i,a,t]);const A=o.useCallback(async()=>{try{let t={};if(h){const e=await s(),n=e[i]?.show_progress||{};Object.entries(n).forEach(([e,n])=>{t[e]=n.progress})}else if(g)for(const n of g.episodes){const r=await e("tv",i,g.season_number,n.episode_number);if(null!==r){const e=`s${g.season_number}e${n.episode_number}`;t[e]={watched:r,duration:0}}}j(t)}catch(t){}},[i,h,g]);o.useEffect(()=>{if(t){A();const e=setInterval(A,1e3);return()=>clearInterval(e)}},[A,t]);return l.jsx(M,{children:t&&l.jsxs(B.div,{className:"fixed inset-0 z-50 flex items-end justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&n()},children:[l.jsx(B.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),l.jsxs(B.div,{className:St("relative w-full max-w-lg bg-[#0A0A0A] rounded-t-2xl","flex flex-col max-h-[85vh]"),style:{...d,boxShadow:`0 -25px 50px -12px ${W(m,.15)}`},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0},dragElastic:.2,onDragEnd:(e,t)=>{(t.velocity.y>20||t.offset.y>200)&&n()},children:[l.jsx("div",{className:"flex justify-center pt-2 pb-4 cursor-grab active:cursor-grabbing",children:l.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:W(m,.2)}})}),l.jsx("div",{className:"px-6 pb-4",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:St("w-10 h-10 rounded-xl flex items-center justify-center","relative group transition-transform duration-300"),style:{background:`linear-gradient(135deg, ${W(m,.15)}, ${W(m,.05)})`,border:`1px solid ${W(m,.2)}`},children:[l.jsx(E.Episodes,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:m}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:u}),l.jsx("p",{className:"text-xs text-white/40",children:"Select an episode to watch"})]})]})})}),l.jsx("div",{className:"px-4 pb-4",children:l.jsx("div",{className:"flex gap-2 overflow-x-auto custom-scrollbar",children:x.map((e,t)=>l.jsx(B.button,{custom:t,variants:Bt,initial:"initial",animate:"animate",exit:"exit",onClick:()=>p(e),className:`\n                      flex-shrink-0 px-3 py-1.5 rounded-lg transition-all duration-200\n                      ${g?.id===e.id?"":"hover:bg-white/5"}\n                    `,style:g?.id===e.id?{background:`linear-gradient(135deg, ${W(m,.15)}, ${W(m,.05)})`,border:`1px solid ${W(m,.2)}`,color:m}:void 0,children:l.jsxs("span",{className:"text-sm font-medium whitespace-nowrap",children:["Season ",e.season_number]})},e.id))})}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:l.jsx("div",{className:"px-4 pb-4 space-y-2",children:g?.episodes.map((e,t)=>{const n=parseInt(a)===g.season_number&&parseInt(c)===e.episode_number,r=(s=g.season_number,o=e.episode_number,C[`s${s}e${o}`]);var s,o;const u=(e=>{if(!e)return"not-started";const t=e.watched/e.duration*100;return t>=98?"completed":t>0?"in-progress":"not-started"})(r),d=r?Math.min(r.watched/r.duration*100,100):0;return l.jsx(B.button,{custom:t,variants:Mt,initial:"initial",animate:"animate",exit:"exit",onClick:()=>((e,t)=>{const n=new URLSearchParams(window.location.search),r=`/watch/tv/${i}/${e}/${t}${n.toString()?`?${n.toString()}`:""}`;window.location.href=r})(g.season_number,e.episode_number),className:`\n                        w-full text-left p-2.5 rounded-xl transition-all duration-200\n                        ${n?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-[#101010]"}\n                      `,style:n?{borderColor:W(m,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${W(m,.2)}`}:void 0,children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsxs("div",{className:"w-24 h-[54px] sm:w-32 sm:h-[72px] rounded-lg bg-[#1A1A1A] flex-shrink-0 overflow-hidden relative group",children:[e.still_path?l.jsx("img",{src:`https://image.tmdb.org/t/p/w300${e.still_path}`,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(E.Image,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white/20"})}),"not-started"!==u&&l.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-white/10",children:l.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${d}%`,background:`linear-gradient(to right, ${m}, ${W(m,.8)})`}})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"text-sm font-medium text-white truncate",children:e.name}),l.jsxs("span",{className:"text-[11px] text-white/40 font-medium shrink-0",children:["E",e.episode_number]})]}),l.jsx("p",{className:"mt-1 text-xs text-white/50 line-clamp-2",children:e.overview}),e.air_date&&l.jsx("p",{className:"mt-1 text-[10px] text-white/40",children:new Date(e.air_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})},e.id)})})})]})]})})});Dt.displayName="EpisodeOverlay";const kt={initial:{opacity:0,scale:.95,y:20},animate:e=>({opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25,delay:.05*e}}),exit:{opacity:0,scale:.95,y:-20}},It=o.memo(({isOpen:e,onClose:t,servers:n,currentServer:r,onServerClick:s,onServerTest:i,overlayStyles:a})=>{const o=O(),c=n.filter(e=>!0===e.isAvailable).length,u=n.filter(e=>null===e.isAvailable).length,d=[...n].sort((e,t)=>{const n=["Yoru","Jett","Cypher","Sage"];return n.indexOf(e.name)-n.indexOf(t.name)}),m=e=>e.isLoading?"#6B7280":!0===e.isAvailable?"#10b981":!1===e.isAvailable?"#EF4444":"#F59E0B",h=e=>e.isLoading?"Testing...":!0===e.isAvailable?"Available":!1===e.isAvailable?"Unavailable":"Untested";return l.jsx(M,{mode:"wait",children:e&&l.jsxs(B.div,{className:"fixed inset-0 z-50 flex items-end justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&t()},children:[l.jsx(B.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},"server-backdrop"),l.jsxs(B.div,{className:St("relative w-full max-w-lg bg-[#0A0A0A] rounded-t-2xl","flex flex-col max-h-[85vh]"),style:{...a,boxShadow:`0 -25px 50px -12px ${W(o,.15)}`},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0},dragElastic:.2,onDragEnd:(e,n)=>{(n.velocity.y>20||n.offset.y>200)&&t()},children:[l.jsx("div",{className:"flex justify-center pt-2 pb-4 cursor-grab active:cursor-grabbing",children:l.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:W(o,.2)}})}),l.jsx("div",{className:"px-6 pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:St("w-10 h-10 rounded-xl flex items-center justify-center","relative group transition-transform duration-300"),style:{background:`linear-gradient(135deg, ${W(o,.15)}, ${W(o,.05)})`,border:`1px solid ${W(o,.2)}`},children:[l.jsx(E.Cloud,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:o}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:"Select Source"}),l.jsx("p",{className:"text-xs text-white/40",children:"Choose your preferred server"})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[u>0&&l.jsxs("div",{className:"px-3 py-1.5 rounded-lg text-xs font-medium",style:{background:"linear-gradient(135deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.05))",border:"1px solid rgba(245, 158, 11, 0.2)",color:"#F59E0B"},children:[u," Untested"]}),c>0&&l.jsxs("div",{className:"px-3 py-1.5 rounded-lg text-xs font-medium",style:{background:`linear-gradient(135deg, ${W(o,.15)}, ${W(o,.05)})`,border:`1px solid ${W(o,.2)}`,color:o},children:[c," Available"]})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:l.jsx(M,{mode:"wait",children:d.map((e,t)=>l.jsx(B.button,{variants:kt,initial:"initial",animate:"animate",exit:"exit",custom:t,onClick:()=>(async e=>{!0!==e.isAvailable&&e.name!==r?!i||null!==e.isAvailable&&!1!==e.isAvailable?s(e.name,e.source):await i(e.name):s(e.name,e.source)})(e),disabled:e.isLoading,className:St("group relative p-3 rounded-xl aspect-square","transition-all duration-200","border border-white/[0.08]",e.isLoading?"opacity-70 cursor-wait":r===e.name?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-white/5 active:scale-95 hover:shadow-lg"),style:r===e.name?{borderColor:W(o,.2),boxShadow:`0 8px 16px -4px ${W(o,.2)}`}:void 0,children:l.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[l.jsxs("div",{className:St("relative flex-shrink-0 w-12 h-12 rounded-xl","flex items-center justify-center mb-3","transition-transform duration-300 group-hover:scale-110"),style:{background:`linear-gradient(135deg, ${W(o,.15)}, ${W(o,.05)})`,borderColor:W(o,.2),borderWidth:"1px"},children:[e.isLoading?l.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white/70 rounded-full animate-spin"}):l.jsx(E.Cloud,{className:"w-6 h-6 transition-transform duration-300 group-hover:scale-110 "+(r===e.name?"text-white":"text-white/70"),style:{color:r===e.name?"white":o}}),l.jsx("div",{className:St("absolute -top-1 -right-1 w-5 h-5 rounded-full","flex items-center justify-center","transition-transform duration-300 group-hover:scale-110",!e.isLoading&&!1!==e.isAvailable&&""),style:{background:`linear-gradient(135deg, ${m(e)}, ${W(m(e),.8)})`,boxShadow:`0 4px 8px -2px ${W(m(e),.3)}`},children:e.isLoading?l.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):!0===e.isAvailable?l.jsx("svg",{className:"w-3 h-3 text-white drop-shadow",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):!1===e.isAvailable?l.jsx("svg",{className:"w-3 h-3 text-white drop-shadow",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}):l.jsx("svg",{className:"w-3 h-3 text-white drop-shadow",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})})]}),l.jsxs("div",{className:"text-center space-y-1",children:[l.jsx("div",{className:St("text-sm font-medium truncate max-w-[100px]","transition-colors duration-150",r===e.name?"text-white":"text-white/70 group-hover:text-white"),children:e.name}),l.jsx("div",{className:St("text-[10px] font-medium uppercase tracking-wider","transition-colors duration-150"),style:{color:e.isLoading?"#6B7280":r===e.name?"rgba(255, 255, 255, 0.7)":m(e)},children:h(e)})]})]})},e.name))})})})})]},"server-content")]},"server-overlay")})});It.displayName="ServerOverlay";const qt=[{width:320,height:480},{width:480,height:320},{width:720,height:1280},{width:1280,height:720},{width:1080,height:2400},{width:2400,height:1080},{width:1440,height:3200},{width:3200,height:1440},{width:1440,height:3088},{width:3088,height:1440},{width:667,height:375},{width:896,height:414},{width:844,height:390},{width:852,height:393}],Et={initial:{opacity:0,scale:.95,y:20},animate:e=>({opacity:1,scale:1,y:0,transition:{type:"spring",damping:25,stiffness:300,mass:.5,delay:.05*e}}),exit:{opacity:0,scale:.95,y:-20,transition:{duration:.2}}},Kt=o.memo(({isOpen:e,onClose:t,tmdbId:n,season:r,episode:s,currentSubtitle:i,onSubtitleSelect:a,overlayStyles:c})=>{const u=O(),[d,m]=o.useState([]),[h,x]=o.useState(null),[f,g]=o.useState(!0),[p,v]=o.useState(null),[w,y]=o.useState(""),[b,C]=o.useState("subtitles"),[j,N]=o.useState(ct),[z,A]=o.useState(!1);o.useEffect(()=>{const e=()=>{const e=window.innerWidth,t=window.innerHeight,n=((e,t)=>qt.some(n=>Math.abs(e-n.width)<=50&&Math.abs(t-n.height)<=50||Math.abs(e-n.height)<=50&&Math.abs(t-n.width)<=50))(e,t);A(e>t&&n)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),o.useEffect(()=>{const e=ct();N(e),e.subtitlesEnabled||(S(),a(null))},[]);const S=o.useCallback(()=>{const e=document.querySelector("video");e?.textTracks&&requestAnimationFrame(()=>{for(let t=0;t<e.textTracks.length;t++)e.textTracks[t].mode="disabled"})},[]),L=o.useCallback(e=>{S(),a(e);const t={...j,subtitlesEnabled:null!==e};if(e){e.isCustom&&x(e);const n={language:e.language,display:e.display,isHearingImpaired:e.isHearingImpaired,id:e.id};t.preferredLanguages=[n,...j.preferredLanguages.filter(t=>t.language!==e.language||t.isHearingImpaired!==e.isHearingImpaired||t.id!==e.id).slice(0,4)]}if(N(t),null===e){const e=document.querySelector("video");e?.textTracks&&Array.from(e.textTracks).forEach(e=>{e.mode="disabled"})}const n=setTimeout(()=>{mt(t),window.dispatchEvent(new Event("subtitleSettingsChanged"))},50);return()=>clearTimeout(n)},[j,a,S]);o.useEffect(()=>{let t=!0;return e&&(async()=>{try{g(!0),v(null);const e=await at(n,r,s);if(!t)return;if(m(h?[h,...e]:e),!i&&j.subtitlesEnabled&&j.preferredLanguages.length>0)for(const t of j.preferredLanguages){const n=e.find(e=>e.language===t.language&&e.isHearingImpaired===t.isHearingImpaired&&e.id===t.id);if(n){L(n);break}}}catch(e){t&&v("Failed to load subtitles")}finally{t&&g(!1)}})(),()=>{t=!1}},[n,r,s,e,h]);const D=o.useMemo(()=>(w?d.filter(e=>e.language.toLowerCase().includes(w.toLowerCase())||e.display.toLowerCase().includes(w.toLowerCase())):d).sort((e,t)=>{if(e.isCustom&&!t.isCustom)return-1;if(!e.isCustom&&t.isCustom)return 1;const n=e.display.toLowerCase(),r=t.display.toLowerCase();return n<r?-1:n>r?1:e.language.toLowerCase().localeCompare(t.language.toLowerCase())}),[d,w]),I=o.useCallback(e=>{const t={...j,size:e};N(t);const n=setTimeout(()=>{mt(t),window.dispatchEvent(new Event("subtitleSettingsChanged"))},50);return()=>clearTimeout(n)},[j]),q=o.useCallback(e=>{const t={...j,position:e};N(t);const n=setTimeout(()=>{mt(t),window.dispatchEvent(new Event("subtitleSettingsChanged"))},50);return()=>clearTimeout(n)},[j]);return o.useEffect(()=>{const e=()=>{const e=ct();N(e)};return window.addEventListener("subtitleSettingsChanged",e),window.addEventListener("storage",t=>{"subtitle-settings"===t.key&&e()}),()=>{window.removeEventListener("subtitleSettingsChanged",e),window.removeEventListener("storage",e)}},[]),l.jsx(M,{children:e&&l.jsxs(B.div,{className:"fixed inset-0 z-50 flex items-end justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&t()},children:[l.jsx(B.div,{className:"absolute inset-0 bg-black/60 subtitle-backdrop",style:{backdropFilter:"blur(8px)"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.2}},onAnimationComplete:e=>{if("exit"===e){const e=document.querySelector(".subtitle-backdrop");e&&e.removeAttribute("style")}}},"subtitle-backdrop"),l.jsxs(B.div,{className:St("relative w-full max-w-lg bg-[#0A0A0A] rounded-t-2xl","flex flex-col max-h-[85vh]"),style:{...c,boxShadow:`0 -25px 50px -12px ${W(u,.15)}`},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0},dragElastic:.2,onDragEnd:(e,n)=>{n.offset.y>100&&t()},children:[l.jsx("div",{className:"flex justify-center pt-2 pb-4 cursor-grab active:cursor-grabbing",children:l.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:W(u,.2)}})}),l.jsx("div",{className:"px-6 pb-4",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:St("w-10 h-10 rounded-xl flex items-center justify-center","relative group transition-transform duration-300"),style:{background:`linear-gradient(135deg, ${W(u,.15)}, ${W(u,.05)})`,border:`1px solid ${W(u,.2)}`},children:[l.jsx(E.List,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:u}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:"Subtitles"}),l.jsx("p",{className:"text-xs text-white/40",children:"subtitles"===b?"Select your language":"Adjust size and position"})]})]})})}),l.jsx("div",{className:"px-4 pb-4",children:l.jsx("div",{className:"flex gap-2",children:["subtitles","advanced"].map(e=>l.jsx("button",{onClick:()=>C(e),className:St("px-4 py-2 rounded-lg text-sm font-medium","transition-all duration-200","border border-white/[0.08]",b===e?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-white/5"),style:b===e?{borderColor:W(u,.2),boxShadow:`0 8px 16px -4px ${W(u,.2)}`,color:u}:void 0,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:l.jsx("div",{className:"px-4 pb-4",children:"subtitles"===b?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:St("flex items-center gap-3 px-3 py-2 rounded-xl","bg-[#1A1A1A] border border-white/[0.08]","focus-within:border-white/20"),children:[l.jsx(k,{className:"w-5 h-5 text-white/40"}),l.jsx("input",{type:"text",value:w,onChange:e=>y(e.target.value),placeholder:"Search subtitles...",className:St("flex-1 bg-transparent text-sm text-white","placeholder-white/40","focus:outline-none")})]})}),l.jsx("div",{className:"mt-3",children:l.jsxs("label",{htmlFor:"custom-subtitle-upload-mobile",className:St("w-full px-4 py-2.5 rounded-xl flex items-center justify-center gap-2","bg-[#1A1A1A] hover:bg-[#252525] transition-all duration-200 cursor-pointer","border border-white/[0.08] hover:border-white/[0.15]"),style:{backgroundColor:W(u,.1),borderColor:W(u,.2)},children:[l.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:l.jsx(E.Upload,{className:"w-4 h-4 text-white/70"})}),l.jsx("span",{className:"text-sm text-white/70",children:"Upload Custom Subtitle (.vtt)"}),l.jsx("input",{id:"custom-subtitle-upload-mobile",type:"file",accept:".vtt",className:"hidden",onChange:async e=>{const n=e.target.files?.[0];if(n)try{const e=await ot(n);L(e),t()}catch(r){}}})]})}),l.jsx("div",{className:"space-y-2",children:l.jsxs(M,{mode:"wait",children:[l.jsxs(B.button,{variants:Et,initial:"initial",animate:"animate",exit:"exit",custom:-1,onClick:()=>L(null),className:`\n                            w-full px-4 py-3 rounded-xl flex items-center justify-between hover:bg-white/5 transition-all duration-200\n                            ${i?"":"bg-gradient-to-b from-[#101010] to-[#0A0A0A]"}\n                          `,style:i?void 0:{borderColor:W(u,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${W(u,.2)}`},children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.Close,{className:"w-5 h-5 text-white/70"})}),l.jsx("div",{className:"text-sm font-medium text-white",children:"Off"})]}),!i&&l.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:W(u,.1),borderColor:W(u,.2),borderWidth:"1px"},children:l.jsx(E.Check,{className:"w-3 h-3",style:{color:u}})})]},"disable-subtitles"),D.map((e,n)=>l.jsxs(B.button,{variants:Et,initial:"initial",animate:"animate",exit:"exit",custom:n,onClick:()=>{L(e),t()},className:`\n                              w-full px-4 py-3 rounded-xl flex items-center justify-between hover:bg-white/5 transition-all duration-200\n                              ${i===e.id||e.isCustom&&i?.startsWith("custom-")?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":""}\n                            `,style:i===e.id||e.isCustom&&i?.startsWith("custom-")?{borderColor:W(u,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${W(u,.2)}`}:void 0,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1A1A1A] flex items-center justify-center overflow-hidden",children:e.isCustom?l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(E.Upload,{className:"w-5 h-5 text-white/70"})}):l.jsx("img",{src:e.flagUrl,alt:e.language,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:e.display}),l.jsx("div",{className:"text-[11px] text-white/50",children:e.language})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[e.isHearingImpaired&&l.jsx("div",{className:"px-2 py-1 rounded-lg text-[10px] font-medium",style:{background:`linear-gradient(135deg, ${W(u,.15)}, ${W(u,.05)})`,border:`1px solid ${W(u,.2)}`,color:u},children:"CC"}),(i===e.id||e.isCustom&&i?.startsWith("custom-"))&&l.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:W(u,.1),borderColor:W(u,.2),borderWidth:"1px"},children:l.jsx(E.Check,{className:"w-3 h-3",style:{color:u}})})]})]},e.id))]})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-black/20 rounded-xl p-4",children:[l.jsxs("h3",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[l.jsx("span",{className:"w-6 h-6 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.List,{className:"w-3 h-3 text-white/70"})}),"Subtitle Size"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-white/70",children:"Small"}),l.jsx("span",{className:"text-xs text-white/70",children:"Large"})]}),l.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.05",value:j.size,onChange:e=>I(parseFloat(e.target.value)),className:"w-full accent-primary h-2 bg-[#1A1A1A] rounded-lg appearance-none cursor-pointer",style:{accentColor:u}}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"px-2 py-1 bg-[#1A1A1A] rounded-md text-xs text-white/80",style:{border:`1px solid ${W(u,.2)}`},children:[Math.round(100*j.size),"%"]})}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:[.75,1,1.5].map(e=>l.jsx("button",{onClick:()=>I(e),className:`py-2 px-3 rounded-lg text-xs ${Math.abs(j.size-e)<.01?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"bg-[#1A1A1A] hover:bg-[#252525]"} transition-colors duration-200`,style:Math.abs(j.size-e)<.01?{borderColor:W(u,.2),borderWidth:"1px",color:u}:void 0,children:.75===e?"Small":1===e?"Default":"Large"},e))})]})]}),l.jsxs("div",{className:"bg-black/20 rounded-xl p-4",children:[l.jsxs("h3",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[l.jsx("span",{className:"w-6 h-6 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.List,{className:"w-3 h-3 text-white/70"})}),"Subtitle Position"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-white/70",children:"Bottom"}),l.jsx("span",{className:"text-xs text-white/70",children:"Top"})]}),l.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:j.position,onChange:e=>q(parseFloat(e.target.value)),className:"w-full accent-primary h-2 bg-[#1A1A1A] rounded-lg appearance-none cursor-pointer",style:{accentColor:u}}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"px-2 py-1 bg-[#1A1A1A] rounded-md text-xs text-white/80",style:{border:`1px solid ${W(u,.2)}`},children:[Math.round(j.position),"%"]})})]})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx("button",{onClick:()=>{I(1),q(10)},className:"px-4 py-2 rounded-lg text-xs bg-[#1A1A1A] hover:bg-[#252525] transition-colors duration-200",children:"Reset to Defaults"})})]})})})]},"subtitle-content")]},"subtitle-overlay")})});Kt.displayName="SubtitleOverlay";const Pt={initial:{opacity:0,y:20},animate:e=>({opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:25,delay:.05*e}}),exit:{opacity:0,y:-20}},Wt=o.memo(({isOpen:e,onClose:t,qualities:n,currentQuality:r,onQualityChange:s,onSettingsChange:i,overlayStyles:a})=>{c();const u=O(),[d,m]=o.useState(ge());o.useEffect(()=>{!n||n.length},[n,r]);const h=(e,t)=>{const n={...d,[e]:t};m(n),pe(n),i?.()};return l.jsx(M,{mode:"wait",children:e&&l.jsxs(B.div,{className:"fixed inset-0 z-50 flex items-end justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&t()},children:[l.jsx(B.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},"settings-backdrop"),l.jsxs(B.div,{className:St("relative w-full max-w-lg bg-[#0A0A0A] rounded-t-2xl","flex flex-col max-h-[85vh]"),style:{...a,boxShadow:`0 -25px 50px -12px ${W(u,.15)}`},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0},dragElastic:.2,onDragEnd:(e,n)=>{(n.velocity.y>20||n.offset.y>200)&&t()},children:[l.jsx("div",{className:"flex justify-center pt-2 pb-4 cursor-grab active:cursor-grabbing",children:l.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:W(u,.2)}})}),l.jsx("div",{className:"px-6 pb-4",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:St("w-10 h-10 rounded-xl flex items-center justify-center","relative group transition-transform duration-300"),style:{background:`linear-gradient(135deg, ${W(u,.15)}, ${W(u,.05)})`,border:`1px solid ${W(u,.2)}`},children:[l.jsx(E.Settings,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:u}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:"Settings"}),l.jsx("p",{className:"text-xs text-white/40",children:"Customize your experience"})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:l.jsx("div",{className:"p-4 space-y-2",children:l.jsxs(M,{mode:"wait",children:[n&&n.length>0&&l.jsxs(B.div,{variants:Pt,initial:"initial",animate:"animate",exit:"exit",custom:0,className:St("w-full p-3 rounded-xl","transition-all duration-200","border border-white/[0.08]","hover:bg-white/5"),children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${W(u,.15)}, ${W(u,.05)})`},children:l.jsx(E.Quality,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Quality"}),l.jsx("div",{className:"text-[11px] text-white/50",children:r?r.quality:"Auto"})]})]}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:n.map((e,t)=>l.jsx("button",{onClick:()=>s?.(e),className:St("px-3 py-2 rounded-lg text-sm font-medium","transition-all duration-200","border border-white/[0.08]",r?.url===e.url?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-white/5"),style:r?.url===e.url?{borderColor:W(u,.2),boxShadow:`0 8px 16px -4px ${W(u,.2)}`,color:u}:void 0,children:e.quality.replace(/\[hdr\]/i,"").trim()},e.url||t))})]},"quality-settings"),l.jsxs(B.div,{variants:Pt,initial:"initial",animate:"animate",exit:"exit",custom:1,className:St("w-full p-3 rounded-xl","border border-white/[0.08]","bg-gradient-to-b from-[#101010] to-[#0A0A0A]"),children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${W(u,.15)}, ${W(u,.05)})`},children:l.jsx(E.Play,{className:"w-4 h-4 text-white/70"})}),l.jsx("div",{children:l.jsx("div",{className:"text-sm font-medium text-white",children:"Player Settings"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(B.div,{variants:Pt,initial:"initial",animate:"animate",exit:"exit",custom:2,className:St("w-full p-3 rounded-xl","transition-all duration-200","border border-white/[0.08]","hover:bg-white/5"),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${W(u,.15)}, ${W(u,.05)})`},children:l.jsx(E.Play,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Autoplay"}),l.jsx("div",{className:"text-[11px] text-white/50",children:"Play videos automatically"})]})]}),l.jsx("button",{onClick:()=>h("autoplay",!d.autoplay),className:St("w-12 h-7 rounded-full px-1","flex items-center transition-colors duration-200"),style:{backgroundColor:d.autoplay?u:"#2A2A2A"},children:l.jsx(B.div,{className:"w-5 h-5 rounded-full bg-white shadow-lg",animate:{x:d.autoplay?20:0},transition:{type:"spring",stiffness:500,damping:30}})})]})},"autoplay-setting"),l.jsx(B.div,{variants:Pt,initial:"initial",animate:"animate",exit:"exit",custom:3,className:St("w-full p-3 rounded-xl","transition-all duration-200","border border-white/[0.08]","hover:bg-white/5"),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${W(u,.15)}, ${W(u,.05)})`},children:l.jsx(E.SkipForward,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Auto Next Episode"}),l.jsx("div",{className:"text-[11px] text-white/50",children:"Play next episode automatically"})]})]}),l.jsx("button",{onClick:()=>h("autoNext",!d.autoNext),className:St("w-12 h-7 rounded-full px-1","flex items-center transition-colors duration-200"),style:{backgroundColor:d.autoNext?u:"#2A2A2A"},children:l.jsx(B.div,{className:"w-5 h-5 rounded-full bg-white shadow-lg",animate:{x:d.autoNext?20:0},transition:{type:"spring",stiffness:500,damping:30}})})]})},"auto-next-setting"),l.jsx(B.div,{variants:Pt,initial:"initial",animate:"animate",exit:"exit",custom:4,className:St("w-full p-3 rounded-xl","transition-all duration-200","border border-white/[0.08]","hover:bg-white/5"),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${W(u,.15)}, ${W(u,.05)})`},children:l.jsx(E.Pause,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Pause Screen"}),l.jsx("div",{className:"text-[11px] text-white/50",children:"Show information when paused"})]})]}),l.jsx("button",{onClick:()=>h("pauseScreen",!d.pauseScreen),className:St("w-12 h-7 rounded-full px-1","flex items-center transition-colors duration-200"),style:{backgroundColor:d.pauseScreen?u:"#2A2A2A"},children:l.jsx(B.div,{className:"w-5 h-5 rounded-full bg-white shadow-lg",animate:{x:d.pauseScreen?20:0},transition:{type:"spring",stiffness:500,damping:30}})})]})},"pause-screen-setting")]})]},"player-settings")]})})})]},"settings-content")]},"settings-overlay")})});Wt.displayName="SettingsOverlay",function(){const e=Gt,t=Ht();for(;;)try{if(537049===parseInt(e(208))/1+-parseInt(e(219))/2*(-parseInt(e(201))/3)+parseInt(e(192))/4*(parseInt(e(213))/5)+-parseInt(e(190))/6+-parseInt(e(195))/7*(parseInt(e(209))/8)+-parseInt(e(189))/9*(-parseInt(e(220))/10)+parseInt(e(205))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Tt=()=>{const e=Gt,t={qHdXH:function(e,t){return e>=t},QPiyU:function(e,t){return e<=t},vUwNl:function(e,t){return e/t},BtPkx:function(e,t){return e>t},fFwdQ:function(e,t){return e<=t},gEkpv:e(199)+e(203),oWYqL:e(191)+"-8",gSOTt:"w-10 h-10",WiBCQ:e(187)+"-5",wQvtB:e(210)+e(196),rwaEP:e(215)+"-6",JhtSG:e(193)+"h-14"},n=window[e(217)+"Width"],r=window[e(217)+e(198)+"t"],s=t[e(202)](n,r),i=t[e(218)](n,r),a=(()=>{const i=e,a=Math[i(197)](n,r)>=600,o=t[i(206)](s,.6)&&t.QPiyU(s,1.6);return a&&o})();return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[e(211)](navigator.userAgent)||t[e(204)](n,768)?a?i?{button:"w-14 h-14",icon:"w-7 h-7"}:{button:t[e(200)],icon:t[e(216)]}:i?t.fFwdQ(r,400)?{button:t[e(214)],icon:t[e(194)]}:{button:t[e(188)],icon:t.rwaEP}:n>=400?{button:t[e(207)],icon:e(212)+"-7"}:{button:t[e(188)],icon:t.rwaEP}:{button:t[e(200)],icon:t[e(216)]}};function Gt(e,t){const n=Ht();return Gt=function(t,r){let s=n[t-=187];if(void 0===Gt.WlPKcC){Gt.lAJboO=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Gt.WlPKcC=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Gt.lAJboO(s),e[i]=s),s},Gt(e,t)}function Ht(){const e=["DY02igG","B1DzCuW","Aw5Uzxi","qNrqA3G","nJblzxjLrwq","mtqYmhrwwxrLvG","DY01igG","D1f2Dei","mZmZodfvtKDcD2q","nda0ntiZmgv1wKzcCG","DY04igG","nfnTCwjUqq","DY0Xnca","v2Lcq1e","nZbvvKLWEhC","Ac0XmG","BwLU","sgvPz2G","DY0XnIa","z0vRChy","ntmXmtjnrvrku3q","DLv3tMW","Ac0XnG","zKz3zfe","ndK1mZeXm3rvrhfzBa","CuHKweG","sMH0u0C","mty2odGWtMzpBwjv","odm2nJmYEgPbvuP2","DY0XmIa","DgvZDa","DY03igG","mJKXmdqXnw9vDuvIBW","z1npvhq"];return(Ht=function(){return e})()}const Ot=()=>{const e=window.innerWidth<=768,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e||t},Yt=()=>window.innerWidth>window.innerHeight,Ft=e=>{const t=window.innerHeight,n=window.innerWidth,r=n/t,s=Math.min(n,t)>=600&&r>=.6&&r<=1.6,i=(()=>{if(e)return t-48;return s?Math.min(.85*t,t-120):Math.min(.92*t,t-80)})(),a={position:"fixed",height:`${i}px`,maxHeight:`${i}px`,width:"100%",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",display:"flex",flexDirection:"column",backgroundColor:"#0A0A0A",transition:"all 0.3s ease",left:0,right:0};return e?{...a,top:48,bottom:0,width:"100%",maxWidth:"100%"}:{...a,top:"auto",bottom:0,width:"100%",maxWidth:"100%"}},Ut={initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},Zt=o.memo(({isPlaying:e,volume:t,isFullscreen:n,onPlayPause:r,onVolumeChange:s,onSkipBackward:i,onSkipForward:a,onFullscreenToggle:c,servers:u,currentServer:d,onServerTest:m,qualities:h,currentQuality:x,onServerChange:f,onQualityChange:g,mediaType:p,tmdbId:v,currentSeason:w,currentEpisode:y,showName:b,setIsServerMenuOpen:C,setIsEpisodeMenuOpen:j,setIsSettingsMenuOpen:N,isServerMenuOpen:z,isEpisodeMenuOpen:A,isSettingsMenuOpen:S,isSubtitleMenuOpen:L,setIsSubtitleMenuOpen:D,currentSubtitle:k,onSubtitleSelect:I})=>{const q=O(),K=o.useRef(null),P=o.useRef(null),T=o.useRef(null),G=o.useRef(null),[H,Y]=o.useState(!1),[F,U]=o.useState(!1),[Z,$]=o.useState(!1),[J,R]=o.useState(!1),[V,X]=o.useState(Yt()),[Q,_]=o.useState(Ot()),ee=Tt();o.useEffect(()=>{const e=()=>{const e=Ot(),t=Yt();_(e),X(t)};e();const t=new ResizeObserver(e);return t.observe(document.documentElement),window.addEventListener("orientationchange",e),()=>{t.disconnect(),window.removeEventListener("orientationchange",e)}},[]);const te=o.useCallback(e=>{const t=Number(e.target.value);s(t);const n=document.querySelector("video");if(n){n.volume=t,n.muted=0===t;const e=new Event("volumechange",{bubbles:!0});n.dispatchEvent(e)}},[s]),ne=o.useRef(null),re=o.useRef(null),se=o.useRef(null),ie=o.useRef(null);o.useEffect(()=>{const e=e=>{const t=e.target;!ne.current||ne.current.contains(t)||K.current?.contains(t)||C(!1),!re.current||re.current.contains(t)||P.current?.contains(t)||j(!1),!se.current||se.current.contains(t)||T.current?.contains(t)||N(!1),!ie.current||ie.current.contains(t)||G.current?.contains(t)||D(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(B.div,{className:"absolute inset-x-0 bottom-0 z-50",initial:{opacity:1,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:[.32,0,.67,0]},children:l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"px-1 sm:px-3 py-2 flex items-center justify-between relative z-10",children:[l.jsxs("div",{className:"flex items-center space-x-0.5 sm:space-x-2 md:space-x-4",children:[l.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),r()},onTouchStart:e=>{e.preventDefault(),e.stopPropagation(),r()},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:e?{background:`linear-gradient(to bottom, ${W(q,.2)}, ${W(q,.1)})`}:void 0,children:e?l.jsx(E.Pause,{className:`${ee.icon} transition-all`,style:{color:e?q:"white"},strokeWidth:2.5}):l.jsx(E.Play,{className:`${ee.icon} transition-all translate-x-0.5`,style:{color:e?q:"white"},strokeWidth:2.5})}),!Q&&l.jsxs("div",{className:"hidden sm:flex items-center space-x-0.5 sm:space-x-2 md:space-x-4",children:[l.jsx("button",{onClick:i,className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,children:l.jsx(E.SkipBack,{className:`${ee.icon} text-white/90 transition-all group-hover:text-white group-hover:scale-110`,style:{color:"white"},strokeWidth:2.5})}),l.jsx("button",{onClick:a,className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,children:l.jsx(E.SkipForward,{className:`${ee.icon} text-white/90 transition-all group-hover:text-white group-hover:scale-110`,style:{color:"white"},strokeWidth:2.5})})]}),l.jsxs("div",{className:"relative group/volume",children:[l.jsx("button",{onClick:()=>{const e=0===t?1:0;s(e);const n=document.querySelector("video");if(n){n.volume=e,n.muted=0===e;const t=new Event("volumechange",{bubbles:!0});n.dispatchEvent(t)}},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:0===t?{background:`linear-gradient(to bottom, ${W(q,.2)}, ${W(q,.1)})`}:void 0,children:l.jsx(E.Volume,{className:`${ee.icon} transition-all`,style:{color:0===t?q:"white"},strokeWidth:2.5})}),l.jsxs("div",{className:"absolute left-0 right-0 bottom-full mb-2 opacity-0 pointer-events-none group-hover/volume:opacity-100 group-hover/volume:pointer-events-auto sm:left-full sm:bottom-auto sm:right-auto sm:px-0 sm:mb-0 sm:ml-4 sm:top-1/2 sm:-translate-y-1/2 transition-opacity duration-100 z-[100] select-none",children:[l.jsx("div",{className:"hidden sm:block absolute left-[-16px] top-[-16px] bottom-[-16px] w-[16px]"}),l.jsx("div",{className:"hidden sm:block absolute right-[-16px] top-[-16px] bottom-[-16px] w-[16px]"}),l.jsx("div",{className:"hidden sm:block absolute left-[-16px] right-[-16px] top-[-16px] h-[16px]"}),l.jsx("div",{className:"hidden sm:block absolute left-[-16px] right-[-16px] bottom-[-16px] h-[16px]"}),l.jsxs("div",{className:"bg-black/90 backdrop-blur-md rounded-xl p-3 shadow-lg border border-white/10 flex items-center space-x-3 max-w-[280px] mx-auto sm:max-w-none sm:mx-0 relative",children:[l.jsxs("div",{className:"w-full sm:w-32 h-2 bg-white/10 rounded-full relative group/slider",children:[l.jsx("div",{className:"absolute -inset-y-3 inset-x-0",children:l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:t,onChange:te,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer hover:cursor-pointer z-20",style:{touchAction:"none",padding:0,margin:0,WebkitAppearance:"none",appearance:"none"}})}),l.jsx("div",{className:"absolute left-0 top-0 h-full rounded-full transition-all duration-150 pointer-events-none",style:{width:100*t+"%",background:`linear-gradient(to right, ${q}, ${W(q,.8)})`}}),l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 h-4 w-4 -ml-2 rounded-full transition-all duration-150 hover:scale-110 pointer-events-none",style:{left:100*t+"%",backgroundColor:q,boxShadow:`0 2px 4px ${W(q,.3)}`},children:l.jsx("div",{className:"absolute inset-1 rounded-full bg-white pointer-events-none"})})]}),l.jsx("div",{className:"w-12 flex-shrink-0",children:l.jsxs("span",{className:"text-sm font-medium text-white/90 tabular-nums",children:[Math.round(100*t),"%"]})})]}),l.jsx("div",{className:"hidden sm:block absolute left-0 top-1/2 -translate-x-1/2 -translate-y-1/2 w-2 h-2 bg-black/90 backdrop-blur-md rotate-45 border-l border-t border-white/10"})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-0.5 sm:space-x-2 md:space-x-4",children:["tv"===p&&v&&w&&y&&b&&l.jsx("div",{className:"relative",children:l.jsx("button",{ref:P,onClick:()=>{Q?(Y(!0),U(!1),$(!1),R(!1)):(j(!A),z&&C(!1),S&&N(!1))},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:A||H?{background:`linear-gradient(to bottom, ${W(q,.2)}, ${W(q,.1)})`}:void 0,children:l.jsx(E.Episodes,{className:`${ee.icon} text-white/70 group-hover:text-white transition-colors`,style:A||H?{color:q}:void 0})})}),l.jsx("div",{className:"relative",children:l.jsx("button",{ref:G,onClick:()=>{Q?($(!0),Y(!1),U(!1),R(!1)):(D(!L),A&&j(!1),z&&C(!1),S&&N(!1))},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:L||Z?{background:`linear-gradient(to bottom, ${W(q,.2)}, ${W(q,.1)})`}:void 0,children:l.jsx(E.List,{className:`${ee.icon} text-white/70 group-hover:text-white transition-colors`,style:L||Z?{color:q}:void 0})})}),l.jsx("div",{className:"relative",children:l.jsx("button",{ref:K,onClick:()=>{Q?(U(!0),Y(!1),$(!1),R(!1)):(C(!z),A&&j(!1),S&&N(!1))},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:z||F?{background:`linear-gradient(to bottom, ${W(q,.2)}, ${W(q,.1)})`}:void 0,children:l.jsx(E.Server,{className:`${ee.icon} text-white/70 group-hover:text-white transition-colors`,style:z||F?{color:q}:void 0})})}),l.jsx("div",{className:"relative",children:l.jsx("button",{ref:T,onClick:()=>{Q?(R(!0),Y(!1),U(!1),$(!1)):(N(!S),A&&j(!1),z&&C(!1))},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:S||J?{background:`linear-gradient(to bottom, ${W(q,.2)}, ${W(q,.1)})`}:void 0,children:l.jsx(E.Settings,{className:`${ee.icon} text-white/70 group-hover:text-white transition-colors`,style:S||J?{color:q}:void 0})})}),l.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),c()},onTouchStart:e=>{e.preventDefault(),e.stopPropagation(),c()},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:n?{background:`linear-gradient(to bottom, ${W(q,.2)}, ${W(q,.1)})`}:void 0,children:n?l.jsx(E.Minimize,{className:`${ee.icon} transition-all`,style:{color:n?q:"white"},strokeWidth:2.5}):l.jsx(E.Maximize,{className:`${ee.icon} transition-all`,style:{color:n?q:"white"},strokeWidth:2.5})})]})]}),l.jsx("div",{className:"absolute bottom-full right-1 md:right-0 mb-1 sm:mb-2 md:mb-3 -translate-x-4 sm:-translate-x-6 md:-translate-x-8",children:l.jsx("div",{className:"flex flex-col items-end space-y-3",children:l.jsxs(M,{children:[z&&l.jsx(B.div,{variants:Ut,initial:"initial",animate:"animate",exit:"exit",className:"mb-12 sm:mb-16 md:mb-4",children:l.jsx(wt,{menuRef:ne,servers:u,currentServer:d,onServerClick:(e,t)=>{e!==d?(window&&window.handleServerChangeDirectly?window.handleServerChangeDirectly(e,t):f(e),C(!1)):C(!1)},onServerTest:m})}),A&&l.jsx(B.div,{variants:Ut,initial:"initial",animate:"animate",exit:"exit",className:"mb-12 sm:mb-16 md:mb-4",children:l.jsx(Ct,{menuRef:re,tmdbId:v||"",currentSeason:w||"",currentEpisode:y||"",showName:b||""})}),S&&l.jsx(B.div,{variants:Ut,initial:"initial",animate:"animate",exit:"exit",className:"mb-12 sm:mb-16 md:mb-4",children:l.jsx(ve,{menuRef:se,qualities:h,currentQuality:x,onQualityChange:e=>{g(e),N(!1)}})}),L&&l.jsx(B.div,{variants:Ut,initial:"initial",animate:"animate",exit:"exit",className:"mb-12 sm:mb-16 md:mb-4",children:l.jsx(Nt,{menuRef:ie,tmdbId:v||"",season:w,episode:y,currentSubtitle:k,onSubtitleSelect:I})})]})})})]})}),"tv"===p&&v&&w&&y&&b&&l.jsx(Dt,{isOpen:H,onClose:()=>Y(!1),tmdbId:v,currentSeason:w,currentEpisode:y,showName:b,overlayStyles:Ft(V)}),l.jsx(It,{isOpen:F,onClose:()=>U(!1),servers:u,currentServer:d,onServerClick:(e,t)=>{e!==d?(window&&window.handleServerChangeDirectly?window.handleServerChangeDirectly(e,t):f(e),U(!1)):U(!1)},onServerTest:m,overlayStyles:Ft(V)}),v&&l.jsx(Kt,{isOpen:Z,onClose:()=>$(!1),tmdbId:v,season:w,episode:y,currentSubtitle:k,onSubtitleSelect:I,overlayStyles:Ft(V)}),l.jsx(Wt,{isOpen:J,onClose:()=>R(!1),qualities:h||[],currentQuality:x,onQualityChange:e=>{g(e),R(!1)},overlayStyles:Ft(V),onSettingsChange:()=>{}})]})});Zt.displayName="VideoControls";const $t=({server:e,themeColor:t,isActive:n,onSelect:r})=>l.jsx(B.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full text-left p-3 rounded-xl transition-all duration-200 \n        "+(n?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-[#101010]"),style:n?{borderColor:W(t,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${W(t,.2)}`}:void 0,onClick:()=>r(e.name),children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:W(t,.1),borderColor:W(t,.2),borderWidth:"1px"},children:l.jsx(E.Server,{className:"w-5 h-5",style:{color:t}})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-sm font-medium text-white truncate",children:e.name}),n&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:W(t,.2),color:t},children:"Current"})]}),l.jsx("p",{className:"text-xs text-white/50",children:e.isAvailable?"Available":"Unavailable"})]})]})}),Jt=({containerRef:e,error:t,mediaInfo:n,menuState:r,videoState:s,videoHandlers:i,themeColor:a,subtitles:c,mediaType:u,tmdbId:d,seasonId:m,episodeId:h})=>{const[x,f]=o.useState([]);o.useEffect(()=>{const e=[...s.source.availableServers.filter(e=>e.isAvailable&&e.name!==s.source.currentServer)].sort((e,t)=>{const n=["vidcloud","upcloud","vidsrc"],r=n.some(t=>e.name.toLowerCase().includes(t)),s=n.some(e=>t.name.toLowerCase().includes(e));return r&&!s?-1:!r&&s?1:0});f(e.slice(0,5))},[s.source.availableServers,s.source.currentServer]);const g=async e=>{await i.handleServerChange(e),s.status.setError(null)};return l.jsx("div",{ref:e,className:"relative w-full h-full bg-black",children:l.jsx("div",{className:"fixed inset-0 group",children:l.jsx(je,{hideDelay:5e3,isAnyMenuOpen:r.isAnyMenuOpen,isPaused:!s.playback.isPlaying,children:e=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx(M,{children:l.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.16,1,.3,1]},className:"w-full max-w-md p-5 rounded-2xl mx-4 bg-[#0A0A0A]/90 backdrop-blur-xl border border-white/[0.08]",style:{boxShadow:`0 25px 50px -12px ${W(a,.15)}`},children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-14 h-14 rounded-xl mb-4 mx-auto flex items-center justify-center",style:{backgroundColor:W(a,.1),borderColor:W(a,.2),borderWidth:"1px"},children:l.jsx(E.Close,{className:"w-7 h-7",style:{color:a}})}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Playback Error"}),l.jsx("p",{className:"text-white/70",children:t})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-sm font-medium text-white/90",children:"Recommended Servers"}),l.jsxs("span",{className:"text-xs text-white/40",children:[x.length," available"]})]}),l.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar",children:[l.jsx($t,{server:{name:s.source.currentServer||"Current Server",source:null,isAvailable:!1,originalName:s.source.currentServer||"Current Server"},themeColor:a,isActive:!0,onSelect:()=>{}}),x.map(e=>l.jsx($t,{server:e,themeColor:a,isActive:!1,onSelect:g},e.name)),0===x.length&&l.jsx("div",{className:"text-center p-4 text-white/50 text-sm",children:"No alternative servers available"})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{className:"flex-1 py-2.5 rounded-xl text-white/90 font-medium border border-white/10 hover:bg-white/5 transition-colors",onClick:()=>s.status.setError(null),children:"Try Again"}),l.jsx("button",{className:"flex-1 py-2.5 rounded-xl font-medium",onClick:()=>r.setIsServerMenuOpen(!0),style:{backgroundColor:a},children:"Show All Servers"})]})]},"error-panel")})}),e&&l.jsx("div",{className:"absolute inset-x-0 bottom-0 pb-2 px-4 bg-gradient-to-t from-black/80 via-black/50 to-transparent",children:l.jsx(Zt,{isPlaying:s.playback.isPlaying,volume:s.playback.volume,isFullscreen:s.playback.isFullscreen,onPlayPause:i.togglePlay,onVolumeChange:i.handleVolumeChange,onSkipBackward:()=>i.skip(-10),onSkipForward:()=>i.skip(10),onFullscreenToggle:i.toggleFullscreen,servers:s.source.availableServers,currentServer:s.source.currentServer,onServerChange:i.handleServerChange,qualities:s.source.qualities,currentQuality:s.source.currentQuality,onQualityChange:i.handleQualityChange,mediaType:u,tmdbId:d,currentSeason:m,currentEpisode:h,showName:n&&"show_name"in n?n.show_name:void 0,setIsServerMenuOpen:r.setIsServerMenuOpen,isServerMenuOpen:r.isServerMenuOpen,setIsEpisodeMenuOpen:r.setIsEpisodeMenuOpen,isEpisodeMenuOpen:r.isEpisodeMenuOpen,setIsSettingsMenuOpen:r.setIsSettingsMenuOpen,isSettingsMenuOpen:r.isSettingsMenuOpen,setIsSubtitleMenuOpen:r.setIsSubtitleMenuOpen,isSubtitleMenuOpen:r.isSubtitleMenuOpen,currentSubtitle:c.currentSubtitle,onSubtitleSelect:c.handleSubtitleSelect})})]})})})})},Rt=({isVisible:e,mediaInfo:t,backUrl:n,logoUrl:r,handleBackClick:s,videoState:i})=>t&&e?l.jsx("div",{className:"absolute top-0 left-0 right-0 p-3 sm:p-4 md:p-6 bg-gradient-to-b from-black/90 via-black/60 to-transparent",children:l.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-4",children:[l.jsx("div",{className:"flex items-center",children:n&&l.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),s()},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},className:"flex items-center justify-center w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-full bg-black/40 hover:bg-black/60 transition-colors z-50","aria-label":"Go back",children:l.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-6 md:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),l.jsxs("div",{className:"flex-1 min-w-0 text-center",children:["title"in t?l.jsx("h1",{className:"text-base sm:text-lg md:text-[28px] font-bold text-white tracking-tight drop-shadow-lg truncate leading-normal py-0.5",children:t.title}):null,"show_name"in t?l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("h1",{className:"text-base sm:text-lg md:text-[28px] font-bold text-white tracking-tight drop-shadow-lg truncate leading-normal py-0.5",children:t.show_name}),l.jsxs("div",{className:"flex items-center justify-center space-x-1.5 sm:space-x-2 py-0.5",children:[l.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium text-white/90 leading-normal",children:`S${t.season_number}`}),l.jsx("span",{className:"text-xs sm:text-sm md:text-base text-white/40",children:"•"}),l.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium text-white/90 leading-normal",children:`E${t.episode_number}`}),l.jsx("span",{className:"text-xs sm:text-sm md:text-base text-white/40",children:"•"}),l.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium text-white/90 truncate leading-normal",children:t.name})]})]}):null]}),l.jsx("div",{className:"flex items-center",children:r&&!i.status.isLogoError&&l.jsx("div",{className:"flex items-center",children:l.jsx("img",{src:r,alt:"Logo",className:"h-5 sm:h-6 md:h-8 w-auto object-contain max-w-[60px] sm:max-w-[80px] md:max-w-[100px] drop-shadow-lg",onError:()=>i.status.setIsLogoError(!0)})})})]})}):null,Vt=({isLoading:e,themeColor:t})=>e?l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm pointer-events-none z-50",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-full animate-spin",style:{borderWidth:"4px",borderStyle:"solid",borderColor:`${W(t,.3)}`,borderTopColor:t,animation:"spin 1s linear infinite"}}),l.jsx("span",{className:"mt-4 text-white/90 text-sm font-medium",children:"Loading..."})]})}):null;function Xt(e,t){const n=_t();return Xt=function(t,r){let s=n[t-=206];if(void 0===Xt.AEoiFV){Xt.dZmPvu=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Xt.AEoiFV=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Xt.dZmPvu(s),e[i]=s),s},Xt(e,t)}!function(){const e=Xt,t=_t();for(;;)try{if(266499===-parseInt(e(207))/1+parseInt(e(216))/2*(-parseInt(e(210))/3)+-parseInt(e(219))/4*(parseInt(e(211))/5)+-parseInt(e(208))/6+-parseInt(e(209))/7+parseInt(e(212))/8+parseInt(e(213))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Qt=e=>{const t=Xt,n={iUJrb:function(e,t){return e/t},Mxnwh:function(e,t){return e%t},unaYX:function(e,t){return e>t},riLBV:function(e,t){return e(t)},ZnVYf:function(e,t){return e(t)},WQxJy:function(e,t){return e(t)}},r=Math.floor(n[t(221)](e,3600)),s=Math[t(215)](n[t(222)](e,3600)/60),i=Math.floor(e%60);return n[t(218)](r,0)?r+":"+n.riLBV(String,s)[t(206)+t(214)](2,"0")+":"+n.riLBV(String,i)[t(206)+"art"](2,"0"):n[t(220)](String,s)["padSt"+t(214)](2,"0")+":"+n[t(217)](String,i)[t(206)+t(214)](2,"0")};function _t(){const e=["AvvkCMi","txHUD2G","CgfKu3q","mtGXmtm0sw1Hsu1e","nJC2nJGWDg1Tv2vo","mZqWmda4mNHzwvHbsa","nMn6CKHOsG","nvHjDLnlrW","nZy4nJi0qvrNEfPn","mtyYndq3odruD2T4Ehy","yxj0","zMXVB3i","mZC4mte0tKfUzwH0","v1f4sNK","Dw5HwvG","mtKWnZiWnfDVD1vVAa","wM5wwwy"];return(_t=function(){return e})()}const en=o.memo(({src:e="",currentTime:t,className:n=""})=>{const r=o.useRef(null),s=o.useRef(null),[i,a]=o.useState(!0),[c,u]=o.useState(null);return o.useEffect(()=>{const n=r.current;if(!n||!e)return void a(!1);Ke()&&(n.playsInline=!0,n.setAttribute("playsinline",""),n.setAttribute("webkit-playsinline",""),n.preload="metadata");return(async()=>{try{a(!0),u(null);if(Ie(e))try{n.src=e,n.currentTime=t,Ke()&&n.load();const r=()=>{u(null),a(!1),n.removeEventListener("canplay",r),n.removeEventListener("error",s)},s=()=>{u("Failed to load video preview"),a(!1),n.removeEventListener("canplay",r),n.removeEventListener("error",s)};return n.addEventListener("canplay",r),n.addEventListener("error",s),()=>{n.removeEventListener("canplay",r),n.removeEventListener("error",s)}}catch(r){u("Failed to load MP4 preview"),a(!1)}else if(D.isSupported()&&!Ke()){s.current&&s.current.destroy();const r=new D({enableWorker:!0,lowLatencyMode:!0,backBufferLength:0,maxBufferLength:2,maxMaxBufferLength:2,maxBufferSize:2e6,maxBufferHole:.1,highBufferWatchdogPeriod:1,nudgeMaxRetry:1,startPosition:t,liveSyncDurationCount:1,manifestLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:1e4,timeoutRetry:{maxNumRetry:3,retryDelayMs:500,maxRetryDelayMs:2e3},errorRetry:{maxNumRetry:3,retryDelayMs:500,maxRetryDelayMs:2e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:1e4,timeoutRetry:{maxNumRetry:3,retryDelayMs:500,maxRetryDelayMs:2e3},errorRetry:{maxNumRetry:3,retryDelayMs:500,maxRetryDelayMs:2e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:1e4,timeoutRetry:{maxNumRetry:3,retryDelayMs:500,maxRetryDelayMs:2e3},errorRetry:{maxNumRetry:3,retryDelayMs:500,maxRetryDelayMs:2e3}}}});r.on(D.Events.MEDIA_ATTACHED,()=>{r.loadSource(e)}),r.on(D.Events.MANIFEST_PARSED,()=>{r.levels.length>1&&(r.currentLevel=0),n.currentTime=t}),r.on(D.Events.ERROR,(e,t)=>{t.fatal&&(u("Failed to load video preview"),a(!1))}),r.on(D.Events.FRAG_LOADED,()=>{u(null),a(!1)}),r.attachMedia(n),s.current=r}else{if(n.canPlayType("application/vnd.apple.mpegurl")||Ke()){n.src=e,n.currentTime=t,Ke()&&n.load();const r=()=>{u(null),a(!1),n.removeEventListener("canplay",r),n.removeEventListener("error",s)},s=()=>{u("Failed to load video preview"),a(!1),n.removeEventListener("canplay",r),n.removeEventListener("error",s)};return n.addEventListener("canplay",r),n.addEventListener("error",s),()=>{n.removeEventListener("canplay",r),n.removeEventListener("error",s)}}u("HLS playback not supported in this browser"),a(!1)}}catch(r){u("Failed to initialize video preview"),a(!1)}})(),()=>{s.current&&(s.current.destroy(),s.current=null)}},[e,t]),o.useEffect(()=>{const n=r.current;if(n&&!i&&!c&&e)try{if(s.current){const e=Math.floor(t/(s.current.config.maxFragLookUpTolerance||.1));e!==Math.floor(n.currentTime/(s.current.config.maxFragLookUpTolerance||.1))&&(n.currentTime=t)}else n.currentTime=t}catch(a){u("Failed to seek video preview")}},[t,i,c,e]),l.jsx("div",{className:"relative",children:e?l.jsxs(l.Fragment,{children:[l.jsx("video",{ref:r,className:`w-[200px] aspect-video object-cover rounded-lg ${n} ${i||c?"opacity-0":"opacity-100"}`,preload:"auto",muted:!0,playsInline:!0,crossOrigin:"anonymous"}),i&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded-lg",children:l.jsx("div",{className:"w-5 h-5 border-2 border-white/40 border-t-white/90 rounded-full animate-spin"})}),c&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded-lg",children:l.jsx("div",{className:"text-xs text-white/90 text-center px-4",children:c})})]}):l.jsx("div",{className:"w-[200px] aspect-video bg-black/60 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"text-xs text-white/90 text-center px-4",children:"No preview available"})})})});en.displayName="PreviewPlayer";const tn=o.memo(({currentTime:e,duration:t,onSeek:n,bufferProgress:r=0,src:s,mainHls:i,spacing:a={bottom:72,px:3}})=>{const c=O(),[u,d]=o.useState(!1),[m,h]=o.useState(e),[x,f]=o.useState(null),[g,p]=o.useState(null),v=o.useRef(null),w=o.useRef(null),y=o.useRef(!1);o.useEffect(()=>{void 0===e||Number.isNaN(e)||h(e)},[e]);const b=o.useCallback(e=>{const n=w.current;if(!n)return null;const r=n.getBoundingClientRect(),s="touches"in e?e.touches[0].clientX:e.clientX;if(s<r.left||s>r.right)return null;return Math.min(Math.max(s-r.left,0),r.width)/r.width*t},[t]),C=o.useCallback(e=>{const t=w.current;if(!t)return;const r=t.getBoundingClientRect(),s=parseInt(getComputedStyle(t.querySelector(".progress-bar-track")||t).height),i=r.top+(r.height-s)/2;if(e.clientY<i||e.clientY>i+s)return void(y.current||(f(null),p(null)));const a=b(e);null!==a&&(f(a),y.current&&n(a),p({x:e.clientX,width:r.width,boundingLeft:r.left}))},[b,n]),j=o.useCallback(e=>{const t=w.current;if(!t)return;const r=t.getBoundingClientRect(),s=parseInt(getComputedStyle(t.querySelector(".progress-bar-track")||t).height),i=r.top+(r.height-s)/2;if(e.clientY<i||e.clientY>i+s)return;e.preventDefault(),y.current=!0,d(!0);const a=b(e);null!==a&&n(a)},[b,n]),N=o.useCallback(e=>{if(y.current){e.preventDefault(),y.current=!1,d(!1);const t=b(e);null!==t&&n(t)}},[b,n]),z=o.useCallback(e=>{const t=w.current;if(!t)return;const r=t.getBoundingClientRect(),s=e.touches[0],i=parseInt(getComputedStyle(t.querySelector(".progress-bar-track")||t).height),a=r.top+(r.height-i)/2;if(s.clientY<a||s.clientY>a+i)return;e.stopPropagation(),y.current=!0,d(!0);const o=b(e);null!==o&&n(o)},[b,n]),A=o.useCallback(e=>{if(e.stopPropagation(),y.current){const t=w.current;if(!t)return;const r=t.getBoundingClientRect(),s=e.touches[0];if(s.clientX<r.left||s.clientX>r.right)return;const i=b(e);null!==i&&n(i)}},[b,n]),S=o.useCallback(e=>{e.stopPropagation(),y.current=!1,d(!1)},[]);o.useEffect(()=>{const e=()=>{y.current&&(y.current=!1,d(!1))};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}},[]);const L=o.useCallback(()=>{y.current||(f(null),p(null))},[]);return o.useEffect(()=>{const e=w.current?.querySelector(".progress-bar-track");if(!e)return;const t=()=>{const t=e.querySelector(".progress-thumb");t&&t.classList.add("opacity-100")},n=()=>{const t=e.querySelector(".progress-thumb");t&&!y.current&&t.classList.remove("opacity-100")};return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),()=>{e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",n)}},[]),l.jsx(B.div,{className:"absolute left-0 right-0",style:{bottom:a.bottom},initial:{opacity:1,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:[.32,0,.67,0]},children:l.jsx("div",{className:"max-w-[96%] md:max-w-[98%] mx-auto",children:l.jsxs("div",{ref:v,className:"relative flex items-center",style:{padding:`0 ${4*a.px}px`},children:[l.jsx("div",{className:"flex-shrink-0 mr-2 sm:mr-3 md:mr-4",children:l.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium text-white/80 tabular-nums tracking-wide",children:Qt(m)})}),l.jsxs("div",{ref:w,className:"relative flex-1 cursor-pointer z-50",onMouseMove:C,onMouseLeave:L,onMouseDown:j,onMouseUp:N,onTouchStart:z,onTouchMove:A,onTouchEnd:S,style:{touchAction:"none",WebkitTouchCallout:"none",WebkitUserSelect:"none",WebkitTapHighlightColor:"transparent"},children:[l.jsx("div",{className:"absolute inset-0 -top-6 -bottom-6 pointer-events-none"}),l.jsx("div",{className:"relative h-8 sm:h-10 flex items-center",children:l.jsxs("div",{className:"absolute inset-x-0 h-1 sm:h-1.5 md:h-2 hover:h-1.5 sm:hover:h-2 md:hover:h-2.5 transition-all duration-150 progress-bar-track cursor-pointer",children:[l.jsx("div",{className:"absolute inset-0 rounded-full bg-white/10"}),l.jsx("div",{className:"absolute left-0 top-0 h-full rounded-full bg-white/20 transition-all duration-300 ease-out",style:{width:`${r}%`}}),l.jsx("div",{className:"absolute left-0 top-0 h-full rounded-full transition-all duration-150",style:{width:e/t*100+"%",background:`linear-gradient(to right, ${c}, ${W(c,.8)})`}}),l.jsx("div",{className:"progress-thumb absolute top-1/2 -translate-y-1/2 h-3.5 w-3.5 md:h-4 md:w-4 -ml-2 rounded-full transition-all duration-150\n                    "+(u?"opacity-100 scale-125":"opacity-0"),style:{left:e/t*100+"%",backgroundColor:c,boxShadow:`0 2px 4px ${W(c,.3)}`},children:l.jsx("div",{className:"absolute inset-1 rounded-full bg-white"})})]})}),null!==x&&null!==g&&!u&&l.jsx("div",{className:"fixed opacity-100 pointer-events-none z-50",style:(()=>{if(!g||!v.current)return{};const e=200,t=window.innerWidth;let n=g.x-100;return n<20?n=20:n+e>t-20&&(n=t-20-e),{position:"fixed",left:`${n}px`,bottom:"100px",width:"200px",transform:"translateY(0)",zIndex:100}})(),children:l.jsxs("div",{className:"relative overflow-hidden bg-black/90 backdrop-blur-md p-2 rounded-xl shadow-xl border border-white/20",children:[l.jsx(en,{src:s,currentTime:x,className:"shadow-lg transition-opacity duration-200",mainHls:i}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent pointer-events-none",children:l.jsx("div",{className:"absolute bottom-3 inset-x-0 text-sm font-medium text-white/90 tracking-wide tabular-nums text-center",children:Qt(x)})})]})})]}),l.jsx("div",{className:"flex-shrink-0 ml-2 sm:ml-3 md:ml-4",children:l.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium text-white/80 tabular-nums tracking-wide",children:Qt(t)})})]})})})});tn.displayName="VideoProgress";const nn=()=>{const e=window.innerWidth<=768,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e||t},rn=()=>window.innerWidth>window.innerHeight,sn=o.memo(({videoState:e,videoHandlers:t,menuState:n,mediaInfo:r,mediaType:s,tmdbId:i,seasonId:a,episodeId:c,subtitles:u})=>{const d=Tt(),m=parseInt(d.button.match(/\d+/)?.[0]||"16"),[h,x]=o.useState(nn()),[f,g]=o.useState(rn());o.useEffect(()=>{const e=()=>{x(nn()),g(rn())};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),o.useEffect(()=>{},[e.source.qualities,e.source.currentQuality]);const p=o.useMemo(()=>h?f?{bottom:m+38,px:4}:{bottom:m+42,px:3}:{bottom:m+52,px:3},[m,h,f]),v=o.useCallback(n=>{const r=e.source.availableServers.find(e=>e.name===n);return window&&window.handleServerChangeDirectly?r&&r.source?window.handleServerChangeDirectly(n,r.source):window.handleServerChangeDirectly(n):t.handleServerChange(n)},[t,e.source.availableServers]),w=o.useCallback(async e=>window&&window.testServerAvailability?window.testServerAvailability(e):!!t.handleServerTest&&t.handleServerTest(e),[t]);return l.jsx("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent",children:l.jsxs("div",{className:"relative",children:[l.jsx(tn,{currentTime:e.playback.currentTime,duration:e.playback.duration,onSeek:t.handleSeek,bufferProgress:e.playback.bufferProgress,src:e.source.currentQuality?.url||"",mainHls:e.source.hlsRef.current,spacing:p}),e.source.qualities.length>0&&null,l.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-4 pb-2",children:l.jsx(Zt,{isPlaying:e.playback.isPlaying,volume:e.playback.volume,isFullscreen:e.playback.isFullscreen,onPlayPause:t.togglePlay,onVolumeChange:t.handleVolumeChange,onSkipBackward:()=>t.skip(-10),onSkipForward:()=>t.skip(10),onFullscreenToggle:t.toggleFullscreen,servers:e.source.availableServers,currentServer:e.source.currentServer,onServerChange:v,onServerTest:w,qualities:e.source.qualities,currentQuality:e.source.currentQuality,onQualityChange:t.handleQualityChange,mediaType:s,tmdbId:i,currentSeason:a,currentEpisode:c,showName:r&&"show_name"in r?r.show_name:void 0,setIsServerMenuOpen:n.setIsServerMenuOpen,isServerMenuOpen:n.isServerMenuOpen,setIsEpisodeMenuOpen:n.setIsEpisodeMenuOpen,isEpisodeMenuOpen:n.isEpisodeMenuOpen,setIsSettingsMenuOpen:n.setIsSettingsMenuOpen,isSettingsMenuOpen:n.isSettingsMenuOpen,setIsSubtitleMenuOpen:n.setIsSubtitleMenuOpen,isSubtitleMenuOpen:n.isSubtitleMenuOpen,currentSubtitle:u.currentSubtitle,onSubtitleSelect:u.handleSubtitleSelect})})]})})}),an=()=>{const e=window.innerWidth,t=window.innerHeight,n=e/t;return!(Math.min(e,t)>=600&&n>=.6&&n<=1.6)},on=({onSeek:e,onPlayPause:t,onFullscreenToggle:n,themeColor:r})=>{const[s,i]=o.useState([]),a=o.useRef({left:0,right:0}),[c,u]=o.useState(an);o.useEffect(()=>{const e=()=>{u(an())};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]);const d=o.useCallback(t=>{const n="left"===t?-10:10;e(n);const r={key:"left"===t?"←":"→",type:"seek",value:n,position:"seek",timestamp:Date.now()};i(e=>[...e,r]),setTimeout(()=>{i(e=>e.filter(e=>e.timestamp!==r.timestamp))},1e3)},[e]),m=o.useCallback(e=>t=>{if(!c)return;if(t.touches[0].clientY>window.innerHeight-100)return;const n=Date.now();n-a.current[e]<300&&d(e),a.current[e]=n},[d,c]),h=o.useCallback(async e=>{if(!c)return;e.touches[0].clientY>window.innerHeight-100||t()},[c,t,n]);if(!c)return null;const x=e=>"seek"===e.type?l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-gradient-to-b from-white/10 to-white/5 rounded-full hover:from-white/15 hover:to-white/10 transition-all duration-200 backdrop-blur-sm group",children:e.value&&e.value<0?l.jsx("svg",{className:"w-8 h-8 transition-colors",style:{color:r},strokeWidth:2,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{d:"M19 20L5 12l14-8v16z"})}):l.jsx("svg",{className:"w-8 h-8 transition-colors",style:{color:r},strokeWidth:2,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{d:"M5 4l14 8-14 8V4z"})})}),l.jsxs("div",{className:"flex items-center space-x-1.5",children:[l.jsx("span",{className:"text-2xl font-medium text-white/90 tabular-nums",children:Math.abs(e.value||0)}),l.jsx("span",{className:"text-sm font-medium text-white/70",children:"sec"})]})]}):null;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute left-0 top-0 bottom-[140px] w-1/3",onTouchStart:m("left"),style:{touchAction:"none"}}),l.jsx("div",{className:"absolute left-1/3 top-0 bottom-[140px] w-1/3",onTouchStart:h,style:{touchAction:"none"}}),l.jsx("div",{className:"absolute right-0 top-0 bottom-[140px] w-1/3",onTouchStart:m("right"),style:{touchAction:"none"}}),s.map(e=>l.jsx("div",{"data-position":e.position,className:`absolute bg-gradient-to-b from-black/85 to-black/95 backdrop-blur-md rounded-xl px-6 py-5 text-white animate-shortcut-popup border border-white/10 shadow-2xl group z-40\n            ${"seek"===e.position?"left-1/2 bottom-32 -translate-x-1/2":""}\n          `,children:x(e)},e.timestamp))]})},ln=o.memo(({isVisible:e,isPaused:t,hasStartedPlaying:n,mediaInfo:r,currentTime:s,onPlayPause:i,isSeeking:a=!1,isIdleCheckVisible:c=!1})=>{const u=O(),[d,m]=o.useState(!1),[h,x]=o.useState(!1);if(o.useEffect(()=>{const e=()=>{m(ze()),x(Se())};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),!r||!n||s<3)return null;const f="show_name"in r,g=f?r.show_name:r.title,p=()=>d?h?"text-xl sm:text-4xl":"text-sm xs:text-base sm:text-4xl":"text-2xl sm:text-4xl md:text-5xl lg:text-6xl",v=()=>d?h?"text-xs sm:text-base":"text-[9px] xs:text-[10px] sm:text-base":"text-sm sm:text-base md:text-lg lg:text-xl";return l.jsx(M,{children:t&&e&&!a&&!c&&l.jsxs(l.Fragment,{children:[l.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/95 backdrop-blur-lg will-change-transform z-[90]"}),l.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 z-[100]",onClick:i,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-transparent"}),l.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute bottom-[20%] sm:top-8 sm:bottom-auto right-4 sm:right-8 flex items-center gap-3 z-[102]",children:[l.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-black/40 border border-white/10 backdrop-blur",children:[l.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:u}}),l.jsx("span",{className:"text-sm font-medium text-white/90",children:"Paused"})]}),l.jsx("div",{className:"text-xs text-white/50 hidden sm:block",children:"Click anywhere to resume"})]}),l.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 flex items-center z-[101]",children:l.jsx("div",{className:`relative w-full ${d?h?"max-w-[85%] px-4":"max-w-[94%] px-2":"max-w-[85%] lg:max-w-6xl px-4"} mx-auto sm:pl-8 md:pl-12 lg:pl-16 ${d?h?"-mt-12":"-mt-6":"-mt-16 md:-mt-20"}`,children:f?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"relative "+(d?"space-y-1.5 sm:space-y-4":"space-y-3 sm:space-y-4"),children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-1.5 sm:gap-3",children:[l.jsx("h2",{className:`${p()} font-bold tracking-tight leading-[1.15] sm:leading-[1.2] line-clamp-2 sm:line-clamp-none`,style:{background:`linear-gradient(to right, ${u}, ${W(u,.8)})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 2px 20px rgba(0,0,0,0.2)",paddingTop:"0.125rem"},children:r.show_name}),l.jsx("div",{className:`px-1.5 py-0.5 sm:px-3 sm:py-1.5 rounded-md sm:rounded-xl ${d?h?"text-xs":"text-[8px]":"text-[10px]"} sm:text-sm font-medium shadow-xl self-start sm:self-center flex-shrink-0`,style:{background:`linear-gradient(135deg, ${W(u,.3)}, ${W(u,.1)})`,border:`1px solid ${W(u,.3)}`,color:u,backdropFilter:"blur"},children:"TV Series"})]}),l.jsxs("div",{className:`flex flex-wrap items-center gap-1 sm:gap-2 ${d?h?"text-xs":"text-[9px]":"text-sm"} sm:text-base md:text-lg text-white/90`,children:[l.jsxs("span",{className:"font-semibold",children:["Season ",r.season_number]}),l.jsx("span",{className:"text-white/40",children:"•"}),l.jsxs("span",{className:"font-semibold",children:["Episode ",r.episode_number]}),l.jsx("span",{className:"text-white/40",children:"•"}),l.jsx("span",{className:"text-white/80 line-clamp-1",children:r.name})]}),l.jsx("div",{className:"relative "+(d?"mt-1 sm:mt-6":"mt-2 sm:mt-6"),children:l.jsx("p",{className:`${v()} text-white/80 leading-[1.4] sm:leading-relaxed max-w-full sm:max-w-[90%] md:max-w-2xl font-medium tracking-wide ${d&&h?"line-clamp-2":"line-clamp-3"}`,children:r.overview})})]})}):l.jsxs("div",{className:"relative "+(d?"space-y-1.5 sm:space-y-4":"space-y-3 sm:space-y-4"),children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-1.5 sm:gap-3",children:[l.jsx("h2",{className:`${p()} font-bold tracking-tight leading-[1.15] sm:leading-[1.2] line-clamp-2 sm:line-clamp-none`,style:{background:`linear-gradient(to right, ${u}, ${W(u,.8)})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 2px 20px rgba(0,0,0,0.2)",paddingTop:"0.125rem"},children:g}),l.jsx("div",{className:`px-1.5 py-0.5 sm:px-3 sm:py-1.5 rounded-md sm:rounded-xl ${d?h?"text-xs":"text-[8px]":"text-[10px]"} sm:text-sm font-medium shadow-xl self-start sm:self-center flex-shrink-0`,style:{background:`linear-gradient(135deg, ${W(u,.3)}, ${W(u,.1)})`,border:`1px solid ${W(u,.3)}`,color:u,backdropFilter:"blur"},children:"Movie"})]}),l.jsx("div",{className:"relative "+(d?"mt-1 sm:mt-6":"mt-2 sm:mt-6"),children:l.jsx("p",{className:`${v()} text-white/80 leading-[1.4] sm:leading-relaxed max-w-full sm:max-w-[90%] md:max-w-2xl font-medium tracking-wide ${d&&h?"line-clamp-2":"line-clamp-3"}`,children:r.overview})})]})})})]})]})})});ln.displayName="PauseScreen";const cn=({isVisible:e,onContinue:t,themeColor:n})=>{const r=o.useRef(null);return o.useEffect(()=>{if(!e)return;const n=()=>{t()},s=r.current;return s&&(s.addEventListener("mousemove",n),s.addEventListener("click",n),s.addEventListener("keydown",n)),()=>{s&&(s.removeEventListener("mousemove",n),s.removeEventListener("click",n),s.removeEventListener("keydown",n))}},[e,t]),e?l.jsx(B.div,{ref:r,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"absolute inset-0 bg-gradient-to-t from-black/95 via-black/90 to-black/95 backdrop-blur-sm flex items-center justify-center z-50",tabIndex:0,children:l.jsxs(B.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.4,ease:[.16,1,.3,1]},className:"text-center space-y-8 p-8 max-w-lg",children:[l.jsx("div",{className:"w-20 h-20 rounded-2xl mx-auto flex items-center justify-center mb-6",style:{background:`linear-gradient(135deg, ${W(n,.15)}, transparent)`,borderColor:W(n,.2),borderWidth:"1px"},children:l.jsx(E.Pause,{className:"w-8 h-8",style:{color:n}})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Are you still watching?"}),l.jsx("p",{className:"text-base sm:text-lg text-white/70",children:"Move your mouse or click anywhere to continue watching"})]}),l.jsx("div",{className:"pt-4",children:l.jsx("button",{onClick:t,className:"px-8 py-3 rounded-xl text-white font-medium transition-all duration-300 hover:opacity-90 active:scale-95 shadow-lg",style:{background:`linear-gradient(135deg, ${n}, ${W(n,.8)})`,boxShadow:`0 8px 24px -4px ${W(n,.3)}`},children:"Continue Watching"})}),l.jsx("div",{className:"text-sm text-white/40 pt-2",children:"Press any key or move your mouse to resume"})]})}):null},un=()=>{const e=window.innerWidth,t=window.innerHeight,n=e/t;return!(Math.min(e,t)>=600&&n>=.6&&n<=1.6)},dn={time:Date.now()},mn=({mediaType:e})=>{const t=o.useRef(null),n=o.useRef(null),r=o.useRef(null),s=o.useRef(!1),{tmdbId:a,seasonId:d,episodeId:m}=u(),h=c(),x=O(),[f,g]=o.useState(null),p=(()=>{const e=Be,t={Sdnak:function(e,t){return e(t)},rmkuF:e(370)+"ng qu"+e(366)+e(381)+e(376)+"e:",MlLiW:function(e,t){return e(t)},uypzb:function(e,t){return e>t},hPmBD:function(e,t){return e(t)},vjWvU:function(e,t){return e(t)},vLJwz:e(365),OAUgW:function(e,t){return e(t)},wqeSY:function(e,t){return e(t)},aUhJn:function(e,t){return e(t)},YNLVP:function(e,t){return e(t)}},[n,r]=o.useState(!1),[s,i]=o.useState(0),[a,l]=t[e(354)](o.useState,0),[c,u]=o.useState(1),[d,m]=t[e(367)](o.useState,!1),[h,x]=t.Sdnak(o.useState,0),[f,g]=o.useState(null),[p,v]=t[e(361)](o.useState,[]),[w,y]=t[e(375)](o.useState,null),[b,C]=t[e(361)](o.useState,[]),[j,N]=t[e(361)](o.useState,null),[z,A]=t[e(358)](o.useState,!0),[S,L]=t[e(353)](o.useState,null),[B,M]=t[e(358)](o.useState,!1),[D,k]=o.useState(!0),[I,q]=t.vjWvU(o.useState,0),[E,K]=o.useState(!1),[P,W]=t.YNLVP(o.useState,!1),[T,G]=t[e(353)](o.useState,!1),H=t.OAUgW(o.useRef,null);return{playback:{isPlaying:n,currentTime:s,duration:a,volume:c,isFullscreen:d,bufferProgress:h,isSeeking:P,setIsPlaying:e=>{!P&&t.Sdnak(r,e)},setCurrentTime:i,setDuration:l,setVolume:u,setIsFullscreen:m,setBufferProgress:x,setIsSeeking:W},source:{currentServer:f,qualities:p,currentQuality:w,availableServers:b,pendingTime:j,hlsRef:H,isHLS:T,setCurrentServer:g,setQualities:n=>{const r=e;t[r(384)](v,n),t[r(379)](n[r(382)+"h"],0)&&!w&&t[r(361)](y,n[0])},setCurrentQuality:n=>{const r=e;n&&n[r(383)]&&(t[r(354)](y,n),t[r(367)](G,n.url["toLow"+r(349)+"e"]()[r(351)+r(356)](t[r(380)])))},setAvailableServers:C,setPendingTime:N,setIsHLS:G},status:{isLoading:z,error:S,hasInteracted:B,isInitialLoad:D,totalEpisodes:I,isLogoError:E,setIsLoading:A,setError:L,setHasInteracted:M,setIsInitialLoad:k,setTotalEpisodes:q,setIsLogoError:K}}})(),v=(()=>{const e=pt,t={owthd:function(e,t){return e(t)},tAxxG:function(e,t){return e(t)},ZQZRd:function(e,t){return e(t)},GDugl:function(e,t){return e||t}},[n,r]=t[e(494)](o.useState,!1),[s,i]=t[e(494)](o.useState,!1),[a,l]=t[e(496)](o.useState,!1),[c,u]=t.ZQZRd(o.useState,!1);return{isServerMenuOpen:n,setIsServerMenuOpen:r,isEpisodeMenuOpen:s,setIsEpisodeMenuOpen:i,isSettingsMenuOpen:a,setIsSettingsMenuOpen:l,isSubtitleMenuOpen:c,setIsSubtitleMenuOpen:u,isAnyMenuOpen:t[e(501)](n,s)||a||c}})(),w=gt({videoRef:t,tmdbId:a,seasonId:d,episodeId:m}),[y]=o.useState(()=>ge({autoplay:!0,pauseScreen:!0})),b=(({videoRef:e,hlsRef:t,containerRef:n,playback:r,source:s,status:i})=>{const a=He,o={ONLTS:function(e){return e()},VfFYw:a(418)+"ils/i"+a(551)+a(549)+a(615),FEoPy:function(e,t,n){return e(t,n)},VudGR:function(e,t){return e(t)},NfZhx:a(420)+a(390)+"o:",AtGOa:function(e,t){return e+t},LqYun:function(e,t){return e(t)},kVZTg:a(746)+a(529)+"reen "+a(692)+"failed:",fqdCr:function(e,t){return e>t},lpyvI:function(e,t){return e-t},NijtG:function(e,t){return e*t},UWHcl:function(e,t){return e/t},AGaHD:function(e,t){return e&&t},hMTyx:function(e){return e()},PjkPc:function(e,t){return e(t)},jejeF:a(565)+" during lo"+a(447)+a(456),yVyTU:function(e,t,n){return e(t,n)},Shpen:"Video"+a(373)+a(606)+a(519)+a(755)+a(585)+" avai"+a(383),WfIak:a(587),ZbKaN:a(565)+" processin"+a(729)+a(704)+a(522),MEFdE:"canplay",sMydm:a(697)+a(495)+a(709)+a(484)+a(743)+a(278)+a(737),gAxXn:function(e,t){return e(t)},RWfth:function(e,t){return e(t)},yuZRc:function(e,t){return e(t)},hNVfz:function(e,t){return e>t},EOYcP:a(281)+a(610)+a(346)+a(307)+a(640)+a(632)+"tions:",Nupjp:function(e,t){return e===t},SCgiH:a(605)+a(369)+a(475)+a(306),cKiqw:a(461)+"ainin"+a(411)+a(429)+a(640)+a(371)+a(726),Pmkqh:a(435)+"tchin"+a(292)+a(659)+a(520)+a(677)+"ng highest"+a(686)+a(647),FgwiC:"Error"+a(586)+a(480)+a(729)+a(282)+a(348),mIBHB:"src",RZpyv:".m3u8",PvhDc:"playsinline",AXTby:a(517)+a(570)+a(413)+a(494),KVVCE:a(339)+a(751),vgcQu:a(605)+a(335)+a(668)+a(364)+"ource on iOS:",cuMAo:"Error"+a(503)+a(276)+a(323)+a(300)+"playb"+a(540),kOAHT:a(449)+a(625)+"load "+a(364)+"tream",crdBE:function(e,t){return e*t},EioiX:"Error"+a(414)+a(637)+a(539)+a(370)+":",ETxPZ:a(430)+a(318)+a(712)+"und i"+a(445)+a(599),FTGNz:"Error clea"+a(730)+"up vi"+a(759)+a(694)+"t:",rAUsf:function(e,t){return e*t},bivyM:a(449)+"d to "+a(330)+a(515)+" HLS "+a(756)+"r",UfzWz:function(e,t){return e!==t},clwXb:a(565)+a(537)+"oring"+a(443)+"back posit"+a(552),Cgqga:function(e,t){return e instanceof t},TBYcO:"Error"+a(684)+a(738)+"ideo "+a(322)+"e",dybsh:a(302)+a(303)+a(642)+"tate after"+a(555)+a(645)+"ted p"+a(283),gvAXJ:a(404)+a(394)+a(616)+a(538)+a(439)+a(614)+a(713)+"needed:",NYUkp:a(384)+"able serve"+a(618),RhOLn:a(757)+a(276)+a(305)+a(282)+a(294)+"befor"+a(353)+a(285)+"hange",QbFxV:"Error clea"+a(730)+a(671)+"S:",tRDDo:a(757)+"ing u"+a(317)+a(436)+a(325)+" before server "+a(422)+"e",djXxY:a(675)+a(574)+a(646)+a(299)+a(301)+"server:",XXHUg:function(e,t){return e(t)},vEbPQ:"Setti"+a(400)+a(398)+a(686)+a(592)+a(611)+a(635)+a(718)+"nge:",imNjU:function(e,t){return e<t},yxWSV:a(290)+a(387)+a(357)+a(602)+"ter server"+a(376)+"ge",nUQlK:a(338)+a(468)+a(314)+a(352)+a(638)+"ully",xRrmx:"Faile"+a(625)+a(334)+a(661)+a(648)+" norm"+a(424)+a(569)+a(438)+"th mu"+a(450),jgsnG:a(338)+a(468)+a(314)+a(567)+a(524)+a(631)+a(711)+"k",zbTFB:"Faile"+a(625)+a(334)+a(536)+a(636)+a(524)+a(419)+a(714)+"k:",DeAIP:a(499)+a(342)+a(402)+"resum"+a(661)+"yback"+a(731)+"r int"+a(417)+a(748)+a(446),mkecD:a(404)+"r cha"+a(608)+a(721)+"ted s"+a(288)+a(504)+"y",wlHOW:a(565)+a(603)+a(274)+a(543)+a(422)+"e:",IOLKC:a(404)+a(718)+a(728)+a(558)+":",IyVuF:a(449)+"d to chang"+a(353)+a(469),APfwv:a(287)+"ed iO"+a(426)+a(443)+"back",nvZrw:"iOS H"+a(275)+"nplay even"+a(667)+"ed",iBZUJ:a(518)+"LS canplay timeout reached, co"+a(701)+a(754)+a(545),wjSFx:function(e){return e()},qIcCb:function(e,t,n){return e(t,n)},WGgFU:a(486)+a(553)+a(713)+"requested:",EGZQy:function(e,t){return e===t},hlwAa:a(565)+a(589)+a(730)+a(509)+a(759)+a(694)+a(723)+"ing q"+a(458)+a(564)+a(705),flgRJ:a(442)+a(457)+a(277)+a(641)+"port for iOS",ZdMmj:"Attem"+a(385)+a(698)+"lay H"+a(691)+a(708),nFlPA:a(518)+a(727)+a(741)+a(663)+"ucces"+a(297),GwZBt:a(449)+a(625)+a(692)+a(311)+"n iOS:",ismoW:a(518)+a(523)+a(732)+" play successful",CoaTD:"iOS HLS se"+a(572)+a(584),saRwx:a(605)+a(335)+"rect "+a(322)+a(630)+a(686)+a(365)+a(455)+":",NcsLR:a(565)+" duri"+a(369)+a(362)+a(376)+"ge:"},l=()=>{const t=a;if(e.current){const n=e[t(617)+"nt"][t(689)+t(581)];if(o[t(707)](n.length,0)){const s=n[t(530)](o[t(588)](n.length,1)),i=e[t(617)+"nt"][t(500)+t(568)];r[t(452)+t(462)+t(427)+"ss"](o[t(687)](o[t(432)](s,i),100))}}},c=()=>o.ONLTS(Ke),u=async n=>{const l=a,u={BYNLh:function(e,t){return e(t)},jtyYv:function(e){return e()},nalSh:o[l(604)]};if(!e[l(617)+"nt"])return!1;try{if(i[l(473)+"Loading"](!0),n[l(322)+"es"]&&Array[l(595)+"ay"](n[l(322)+"es"])&&o.hNVfz(n[l(322)+"es"][l(444)+"h"],0)){const r=n.sources[l(345)](e=>{const t=l;if(!e||!e[t(359)])return null;const n=e[t(640)+"ty"]?.[t(491)](/(\d+)/),r=n?u[t(699)](parseInt,n[1]):1080,s=e.quality?.[t(328)+t(483)]("K")?e[t(640)+"ty"]:e.quality?.[t(628)+"ce"](/P$/,"p");return{url:e[t(359)],resolution:r,height:r,label:s||r+"p",quality:s||r+"p"}})[l(415)+"r"](Boolean);if(o[l(497)](r[l(444)+"h"],0)){const e=n[l(359)]||n[l(322)+"es"][0]?.[l(359)]||"";e&&r.push({url:e,resolution:1080,height:1080,label:o[l(296)],quality:o[l(296)]})}const a=r.sort((e,t)=>{const n=l,r=e[n(640)+"ty"][n(590)+n(392)+"e"]()["inclu"+n(483)]("4k"),s=t[n(640)+"ty"][n(590)+n(392)+"e"]()[n(328)+n(483)]("4k");return o[n(433)](r,!s)?-1:o[n(433)](!r,s)?1:o[n(588)](t.height,e[n(643)+"t"])});s[l(293)+"alities"](a);let f=a[0];if(s["curre"+l(598)+"lity"]){const e=a[l(526)](e=>e[l(640)+"ty"]["toLow"+l(392)+"e"]()===s.currentQuality?.[l(640)+"ty"][l(590)+"erCase"]()||e[l(643)+"t"]===s["curre"+l(598)+"lity"]?.[l(643)+"t"]);e&&(f=e)}s[l(337)+l(398)+l(486)+"ty"](f);const g=f.url;if(!g)throw new Error("No va"+l(318)+l(712)+l(665)+"n sou"+l(599));if(t[l(617)+"nt"])try{t.current.destroy(),t[l(617)+"nt"]=null}catch(d){}if(e[l(617)+"nt"])try{e[l(617)+"nt"].pause(),e[l(617)+"nt"]["removeAttr"+l(396)](o[l(391)]),e[l(617)+"nt"][l(639)]()}catch(m){}if(await new Promise(e=>setTimeout(e,50)),g.includes(o[l(479)])){if(s[l(473)+"HLS"](!0),c()){if(e[l(617)+"nt"]){e.current[l(571)+l(466)+"e"]=!1,e[l(617)+"nt"][l(742)+l(753)+l(396)](o.PvhDc),e[l(617)+"nt"][l(742)+l(753)+"ibute"](o.AXTby),e[l(617)+"nt"][l(513)+"ad"]=o[l(706)];try{e[l(617)+"nt"].src=g,await Promise[l(351)]([new Promise(t=>{const n=l,r={JtyWU:n(361)+"ay",PBaOa:function(e){return u[n(619)](e)}},s=()=>{const i=n;e[i(617)+"nt"]&&e[i(617)+"nt"][i(742)+i(683)+"tList"+i(749)](r.JtyWU,s),r[i(474)](t)};e.current&&e[n(617)+"nt"][n(546)+"entLi"+n(454)+"r"](u[n(389)],s)})])}catch(h){throw i[l(407)+l(623)](o[l(313)]),h}}}else if(D[l(662)+l(550)+"d"]())try{const n=new D({enableWorker:!0,maxBufferSize:o[l(578)](o[l(687)](30,1e3),1e3),maxBufferLength:30,startLevel:-1,startFragPrefetch:!0,xhrSetup:function(e){const t=l;e["withC"+t(535)+t(664)]=!1}});t[l(617)+"nt"]=n,n["attac"+l(395)+"a"](e[l(617)+"nt"]),n[l(633)+l(646)](g)}catch(x){throw i[l(407)+l(623)](l(449)+"d to "+l(330)+l(515)+l(300)+l(756)+"r"),x}}else s[l(473)+l(620)](!1),e[l(617)+"nt"]&&(e[l(617)+"nt"][l(360)]=g)}else{const a=n[l(359)]||n[l(702)]||n[l(322)+"es"]&&n[l(322)+"es"][0]?.[l(359)]||n[l(322)+"es"]&&n[l(322)+"es"][0]?.[l(702)]||"";if(!a)throw new Error(o[l(388)]);if(t.current)try{t[l(617)+"nt"][l(408)+"oy"](),t.current=null}catch(f){}if(e[l(617)+"nt"])try{e[l(617)+"nt"].pause(),e[l(617)+"nt"][l(742)+l(753)+l(396)](o.mIBHB),e[l(617)+"nt"][l(639)]()}catch(g){}const c={url:a,resolution:n[l(363)+l(744)]||1080,height:n[l(363)+l(744)]||1080,label:(n[l(363)+l(744)]||1080)+"p",quality:(n[l(363)+l(744)]||1080)+"p"},u=[c];if(s["setQu"+l(475)+"es"](u),s[l(337)+l(398)+l(486)+"ty"](c),await new Promise(e=>setTimeout(e,50)),a[l(328)+l(483)](o.RZpyv)){const n=[{url:a,resolution:0,height:0,label:l(587),quality:o[l(296)]}];if(s[l(293)+l(475)+"es"](n),s[l(473)+"HLS"](!0),D[l(662)+l(550)+"d"]())try{const n=new D({enableWorker:!0,maxBufferSize:1e3*o.rAUsf(30,1e3),maxBufferLength:30,startLevel:-1,startFragPrefetch:!0,xhrSetup:function(e){const t=l;e[t(397)+t(535)+t(664)]=!1}});t[l(617)+"nt"]=n,await Promise[l(351)]([new Promise((r,i)=>{const c=l,u={bPRlf:function(e){return o[He(761)](e)},pzHMK:function(e,t){return o.PjkPc(e,t)},lgrGm:o[c(649)],ffHfK:function(e,t,n){return o[c(654)](e,t,n)},LYVYi:o[c(453)],CZYoQ:function(e){return e()},peSqi:o.WfIak,hlQJM:o[c(490)]};let d=!1,m=!1,h=0;const x=()=>{const n=c,r=(n(465)+n(674)+"0").split("|");let s=0;for(;;){switch(r[s++]){case"0":try{t[n(617)+"nt"][n(633)+n(646)](a)}catch(o){u.ffHfK(setTimeout,()=>{const e=n;h<3?u.bPRlf(x):u[e(463)](i,o)},1e3)}continue;case"1":h++;continue;case"2":if(h>=3)return void u[n(463)](i,new Error(n(449)+"d to "+n(382)+n(364)+n(703)+n(629)+"r multiple attempts"));continue;case"3":m=!0;continue;case"4":continue;case"5":if(!e[n(617)+"nt"]||!t[n(617)+"nt"])return void i(new Error(u[n(724)]));continue}break}};n.on(D[c(679)+"s"][c(493)+c(421)+c(562)],()=>{u[c(416)](x)}),n.on(D.Events[c(409)+c(393)+c(333)+"G"],()=>{m=!0}),n.on(D.Events["MANIF"+c(393)+c(440)],()=>{}),n.on(D[c(679)+"s"][c(409)+c(700)+c(651)],(e,t)=>{const n=c;d=!0,m=!1;try{const e=t[n(609)+"s"]||[],i=[];i[n(332)]({url:a,resolution:0,height:0,label:u[n(739)],quality:u[n(739)]}),e.forEach(e=>{const t=n,r=e[t(643)+"t"]||0;r>0&&i[t(332)]({url:a,resolution:r,height:r,label:r+"p",quality:r+"p"})});const o=i[n(415)+"r"]((e,t,r)=>t===r[n(496)+"ndex"](t=>t.height===e[n(643)+"t"]))[n(304)]((e,t)=>t[n(643)+"t"]-e[n(643)+"t"]);s["setQu"+n(475)+"es"](o),r()}catch(o){u[n(463)](i,o)}})})]),n[l(566)+"hMedia"](e[l(617)+"nt"])}catch(p){throw i[l(407)+"ror"](o.bivyM),p}}else s[l(473)+l(620)](!1),e[l(617)+"nt"]&&(e[l(617)+"nt"][l(360)]=a);if(o[l(347)](s["pendi"+l(716)+"e"],null)&&e[l(617)+"nt"])try{e[l(617)+"nt"][l(617)+l(673)+"e"]=s[l(401)+l(716)+"e"],r["setCu"+l(398)+l(481)](s[l(401)+l(716)+"e"]),s[l(308)+l(451)+l(481)](null)}catch(v){}}return!0}catch(w){throw i[l(407)+l(623)](o.Cgqga(w,Error)?w[l(576)+"ge"]:o.TBYcO),w}finally{i[l(473)+l(437)+"ng"](!1)}};return{togglePlay:async()=>{const t=a,n=e[t(617)+"nt"];if(n)try{if(i[t(319)+t(653)+t(405)+"d"](!0),i[t(473)+t(434)+"alLoad"](!1),n[t(327)+"d"])if(o[t(295)](Ke)){const{configureVideoForIOSNative:e}=await import(o[t(372)]);if(e(n),n[t(517)+t(621)+t(340)+t(583)+"n"])try{n[t(517)+t(621)+"rFull"+t(583)+"n"]()}catch(s){}await n[t(482)](),r["setIs"+t(734)+"ng"](!0)}else try{n.muted=!1,await n[t(482)](),r[t(473)+"Playing"](!0)}catch(l){n.muted=!0;try{await n[t(482)](),r[t(473)+"Playing"](!0),o.FEoPy(setTimeout,()=>{!n[t(327)+"d"]&&(n.muted=!1)},100)}catch(c){return void r[t(473)+t(734)+"ng"](!1)}}else n[t(327)](),r[t(473)+t(734)+"ng"](!1)}catch(u){r[t(473)+t(734)+"ng"](!1)}},handleTimeUpdate:()=>{const t=a;e[t(617)+"nt"]&&r[t(337)+"rrent"+t(481)](e[t(617)+"nt"][t(617)+"ntTime"])},handleLoadedMetadata:()=>{const t=a;e.current&&r[t(544)+"ration"](e.current["durat"+t(568)])},handleSeek:t=>{const n=a;if(e[n(617)+"nt"]){const i=!e.current[n(327)+"d"];e[n(617)+"nt"][n(617)+n(673)+"e"]=t,r[n(337)+n(398)+n(481)](t),s[n(617)+n(598)+n(356)]?.url&&o.VudGR(Ie,s[n(617)+n(598)+"lity"][n(359)])&&o[n(295)](l),i&&e.current[n(482)]()[n(680)](()=>{})}},handleVolumeChange:t=>{const n=a;e[n(617)+"nt"]&&(e[n(617)+"nt"].volume=t,r[n(669)+n(448)](t))},skip:t=>{const n=a;if(e[n(617)+"nt"]){const s=!e[n(617)+"nt"].paused,i=o[n(380)](e[n(617)+"nt"]["curre"+n(673)+"e"],t);e.current[n(617)+n(673)+"e"]=Math.max(0,Math.min(i,r[n(500)+n(568)])),s&&requestAnimationFrame(()=>{const t=n;e[t(617)+"nt"]&&e[t(617)+"nt"][t(482)]()[t(680)](()=>{})})}},toggleFullscreen:async()=>{const t=a,s=e.current;if(Ke()&&s){i[t(319)+t(653)+t(405)+"d"](!0);const{configureVideoForIOSNative:e}=await import(o[t(372)]);if(o[t(573)](e,s),s[t(517)+t(621)+t(340)+t(583)+"n"])try{s["webki"+t(621)+"rFullscreen"]()}catch(l){}if(s[t(327)+"d"])try{await s[t(482)](),r[t(473)+t(734)+"ng"](!0)}catch(c){}}else document[t(710)+t(740)+t(733)+"nt"]?(document[t(379)+t(529)+t(329)](),r[t(473)+t(507)+t(740)](!1)):(n[t(617)+"nt"]?.[t(431)+t(541)+t(478)+"en"](),r[t(473)+t(507)+t(740)](!0))},handleProgress:l,handleServerChange:async n=>{const l=a;try{if(o[l(497)](n,s["curre"+l(559)+"ver"]))return!0;i["setIs"+l(437)+"ng"](!0),i[l(407)+l(623)](null);const a=s[l(508)+l(650)+l(660)+"s"].find(e=>e.name["toLow"+l(392)+"e"]()===n[l(590)+l(392)+"e"]());if(!a)return i.setError('Server "'+n+(l(310)+l(516))+"d"),!1;if(!a[l(322)+"e"])return i["setEr"+l(623)](l(404)+l(758)+n+(l(354)+l(563)+l(646)+l(471))),!1;const x=e[l(617)+"nt"]?.[l(617)+l(673)+"e"]||0,f=e.current&&!e.current[l(327)+"d"],g=e.current?.[l(556)+"e"]||1,p=e.current?.[l(732)]||!1;if(s.setCurrentServer(a[l(350)]),t.current)try{t[l(617)+"nt"][l(408)+"oy"](),t.current=null}catch(c){}e[l(617)+"nt"]&&(e[l(617)+"nt"][l(327)](),e[l(617)+"nt"][l(742)+l(753)+"ibute"](o[l(391)]),e[l(617)+"nt"][l(639)]()),await new Promise(e=>setTimeout(e,100));try{if(await o[l(624)](u,a[l(322)+"e"]),e[l(617)+"nt"]){if(e[l(617)+"nt"][l(556)+"e"]=g,e[l(617)+"nt"].muted=p,o[l(375)](s[l(640)+l(489)][l(444)+"h"],0)){const e=s[l(617)+l(598)+l(356)];e&&s[l(337)+l(398)+l(486)+"ty"](e)}if(o[l(707)](x,0)&&o[l(577)](x,e[l(617)+"nt"][l(500)+l(568)])&&(e.current[l(617)+"ntTime"]=x,r[l(337)+l(398)+l(481)](x)),f){let t=!1;try{await e[l(617)+"nt"].play(),r[l(473)+"Playing"](!0),t=!0}catch(d){try{e[l(617)+"nt"][l(732)]=!0,await e[l(617)+"nt"][l(482)](),r[l(473)+l(734)+"ng"](!0),t=!0,o[l(591)](setTimeout,()=>{const t=l;e[t(617)+"nt"]&&!e[t(617)+"nt"][t(327)+"d"]&&(e.current[t(732)]=p)},500)}catch(m){r.setIsPlaying(!1)}}!t&&r[l(473)+"Playing"](!1)}else r[l(473)+l(734)+"ng"](!1)}return!0}catch(h){return i[l(407)+l(623)](l(449)+l(625)+l(382)+l(322)+"e fro"+l(736)+'ver "'+a[l(350)]+'"'),!1}}catch(x){return i[l(407)+l(623)](o.Cgqga(x,Error)?x[l(576)+"ge"]:o[l(644)]),!1}finally{i[l(473)+l(437)+"ng"](!1)}},handleQualityChange:async n=>{const l=a,u={fzFas:o[l(666)],bXuem:o.MEFdE,LOIhI:o[l(343)],CjLMO:function(e){return o[l(324)](e)},mzDnV:function(e,t,n){return o[l(344)](e,t,n)}};if(!e[l(617)+"nt"])return;if(!n?.[l(359)])return;if(s[l(337)+"rrent"+l(486)+"ty"](n),s.isHLS&&s[l(309)+"f"].current&&(o[l(321)](n[l(359)],e[l(617)+"nt"][l(360)])||n[l(359)][l(441)+l(498)](e[l(617)+"nt"][l(360)][l(381)]("?")[0]))){const e=s.hlsRef.current;if(o[l(321)](n[l(423)],o.WfIak)||n[l(640)+"ty"]===o.WfIak)return void(e[l(617)+l(298)+"el"]=-1);if(e[l(609)+"s"]&&e.levels[l(444)+"h"]>0){const t=e[l(609)+"s"][l(496)+"ndex"](e=>e[l(643)+"t"]===n[l(643)+"t"]);if(-1!==t)return void(e[l(617)+"ntLevel"]=t)}}const d=e[l(617)+"nt"].currentTime,m=!e[l(617)+"nt"][l(327)+"d"];if(i["setIs"+l(437)+"ng"](!0),t[l(617)+"nt"])try{t[l(617)+"nt"][l(408)+"oy"](),t[l(617)+"nt"]=null}catch(h){}if(e.current)try{e.current[l(327)](),e.current[l(742)+"eAttribute"](o[l(391)]),e[l(617)+"nt"].load()}catch(x){}try{if(n[l(359)][l(328)+"des"](o.RZpyv)){if(o[l(761)](c)){try{if(e[l(617)+"nt"].playsInline=!1,e.current[l(742)+l(753)+l(396)](l(571)+l(557)+"e"),e[l(617)+"nt"][l(742)+"eAttr"+l(396)](o[l(289)]),e[l(617)+"nt"].preload=o.KVVCE,e.current[l(360)]=n.url,await new Promise(t=>{const n=l,r={kfyEF:u[n(695)],MCJVT:function(e){return u.CjLMO(e)}},s=()=>{const r=n;e[r(617)+"nt"]&&e[r(617)+"nt"][r(742)+r(683)+r(685)+r(749)](u[r(492)],s),t()};e[n(617)+"nt"]&&e[n(617)+"nt"]["addEventLi"+n(454)+"r"](u[n(492)],s),u[n(596)](setTimeout,()=>{const i=n;e[i(617)+"nt"]&&e[i(617)+"nt"]["remov"+i(683)+i(685)+"ener"](i(361)+"ay",s),r[i(548)](t)},3e3)}),o[l(707)](d,0)&&(e[l(617)+"nt"][l(617)+"ntTime"]=d),m&&i["hasInterac"+l(760)])try{e[l(617)+"nt"][l(732)]=!0,await e[l(617)+"nt"][l(482)](),o[l(344)](setTimeout,()=>{const t=l;e.current&&!e.current[t(327)+"d"]&&(e[t(617)+"nt"].muted=!1)},100),r["setIs"+l(734)+"ng"](!0)}catch(f){try{e[l(617)+"nt"][l(732)]=!1,await e[l(617)+"nt"][l(482)](),r.setIsPlaying(!0)}catch(g){}}s[l(473)+l(620)](!0)}catch(p){}finally{i["setIs"+l(437)+"ng"](!1)}return}if(D["isSup"+l(550)+"d"]()){s[l(309)+"f"].current&&s[l(309)+"f"][l(617)+"nt"].destroy();const t=new D({startLevel:-1,capLevelToPlayerSize:!0,autoStartLoad:!0,xhrSetup:function(e){const t=l;e[t(397)+t(535)+t(664)]=!1}});return s[l(309)+"f"][l(617)+"nt"]=t,t[l(566)+l(395)+"a"](e[l(617)+"nt"]),t[l(633)+l(646)](n[l(359)]),o[l(375)](d,0)&&(e.current[l(617)+"ntTime"]=d),m&&(e[l(617)+"nt"][l(482)]().catch(console[l(627)]),r[l(473)+l(734)+"ng"](!0)),s[l(473)+"HLS"](!0),void i[l(473)+l(437)+"ng"](!1)}}else{const t="0|1|3|2|4"[l(381)]("|");let i=0;for(;;){switch(t[i++]){case"0":continue;case"1":e[l(617)+"nt"][l(360)]=n[l(359)];continue;case"2":o.fqdCr(d,0)&&(e[l(617)+"nt"][l(617)+"ntTime"]=d);continue;case"3":s["setIs"+l(620)](!1);continue;case"4":m&&(e.current[l(482)]().catch(console[l(627)]),r.setIsPlaying(!0));continue}break}}}catch(v){}finally{i["setIs"+l(437)+"ng"](!1)}},handleSourceChange:u}})({videoRef:t,hlsRef:r,containerRef:n,playback:p.playback,source:p.source,status:p.status});Ze({videoRef:t,hlsRef:r,mediaInfo:f,mediaType:e,tmdbId:a,autoplayParam:"true",playback:p.playback,source:p.source,status:p.status});const[C,j]=o.useState(un),[N,z]=o.useState(!1),[A,S]=o.useState(!1),L=o.useRef(null),k=o.useRef(!0),[I,q]=o.useState(!1),E=o.useRef(null),K=o.useRef(Date.now()),P=o.useRef(!1),[W,T]=o.useState(!1),G=o.useRef(0),H=o.useRef(null),Z=o.useRef({spacePressed:!1,kPressed:!1});o.useEffect(()=>{const e=()=>{j(un())};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),o.useEffect(()=>{const e=t.current;if(!e||!Ke())return;let r=(async()=>{const{setupIOSFullscreenListeners:t,restoreCustomPlayerForIOS:r}=await i(async()=>{const{setupIOSFullscreenListeners:e,restoreCustomPlayerForIOS:t}=await Promise.resolve().then(()=>Ge);return{setupIOSFullscreenListeners:e,restoreCustomPlayerForIOS:t}},[]);return t(e,()=>{e&&(r(e),p.playback.setIsFullscreen(!1),setTimeout(()=>{n.current&&n.current.focus()},150))})})();return()=>{r.then(e=>e&&e())}},[p.playback]),o.useEffect(()=>(("movie"===e&&a||"tv"===e&&a&&d&&m)&&(async()=>{try{if(s.current)return;if(s.current=!0,p.status.setIsLoading(!0),p.status.setError(null),!a)throw new Error("TMDB ID is required");let r;if("movie"===e)try{r=await(async e=>{const t=F,n={SKJbK:function(e,t){return e===t}},r=U[t(379)+t(347)]+(t(322)+"e/")+e+"?language="+t(367),s=await fetch(r);if(!s.ok){if(n[t(356)](s[t(321)+"s"],404))throw new Error("404: "+t(312)+t(382)+t(341));throw new Error(t(305)+t(342)+t(366)+t(309)+t(336)+t(304)+" "+s[t(321)+"s"]+" "+s.statusText)}const i=await s[t(337)]();return{id:i.id,title:i[t(302)],overview:i.overview,backdrop_path:i[t(328)+t(307)+t(388)],poster_path:i[t(361)+t(389)+"h"],release_date:i["relea"+t(384)+"te"]}})(a)}catch(n){if(n instanceof Error&&n.message.includes("404"))throw new Error("Movie not found. Please check if the ID is correct.");throw n}else{if(!d||!m)throw new Error("Season ID and Episode ID are required for TV shows");try{r=await(async(e,t,n)=>{const r=F,s={fAPDY:function(e,t){return e(t)},CxWux:function(e,t){return e===t},ljLdF:function(e,t){return e(t)}},i=U["BASE_"+r(347)]+r(327)+e+(r(324)+"uage=")+r(367),a=await s[r(372)](fetch,i);if(!a.ok){if(s.CxWux(a[r(321)+"s"],404))throw new Error(r(349)+"TV sh"+r(377)+r(323)+"nd");throw new Error("Faile"+r(342)+r(366)+" TV s"+r(391)+"etails: "+a.status+" "+a.statusText)}const o=await a[r(337)](),l=U[r(379)+r(347)]+r(327)+e+"/seas"+r(359)+t+(r(365)+r(311))+n+r(324)+"uage="+r(367),c=await s[r(315)](fetch,l);if(!c.ok){if(404===c[r(321)+"s"])throw new Error(r(349)+r(339)+"de not found");throw new Error(r(305)+"d to "+r(366)+r(371)+r(332)+r(331)+r(390)+c[r(321)+"s"]+" "+c[r(321)+r(354)])}const u=await c[r(337)]();return{id:u.id,name:u[r(381)],overview:u.overview,still_path:u[r(333)+r(306)],episode_number:u["episo"+r(380)+"mber"],season_number:u["seaso"+r(345)+"ber"],show_name:o.name}})(a,d,m)}catch(n){if(n instanceof Error&&n.message.includes("404"))throw new Error("TV Show not found. Please check if the ID is correct.");throw n}}g(r);try{if(!a)throw new Error("TMDB ID is required to fetch sources");let n;if("movie"===e)n=await async function(e){const t=Q,n={RdZTe:function(e,t,n){return e(t,n)},HlVpr:function(e,t,n){return e(t,n)},ufjLG:t(427),ItXiK:function(e,t,n){return e(t,n)},mcnIZ:function(e,t){return e(t)},iXrCt:t(134)+" gett"+t(169)+"ovie "+t(233)+t(181)};try{const s=await n[t(349)](oe,"movie",e),i={},a=(new Date)[t(330)+"me"]();let o=!1;for(const l of te){if(o)break;try{const r=await n.HlVpr(le,l,{mediaType:n[t(261)],tmdbId:e,title:s[t(299)],year:s[t(277)],imdbId:s[t(417)+"d"],_t:a[t(397)+t(333)]()}),c=await n[t(348)](de,r,e),u=n[t(419)](me,c,l);Object[t(269)+"n"](i,u[t(233)+"es"]),o=!0}catch(r){}}return{sources:i,tmdb_id:n[t(229)](parseInt,e),total_scraping_time:0,type:n[t(261)]}}catch(s){throw s}}(a);else{if(!d||!m)throw new Error("Season ID and Episode ID are required for TV sources");n=await async function(e,t,n){const r=Q,s={pTiCS:function(e,t,n){return e(t,n)},EDTYp:r(134)+" gett"+r(367)+r(291)+r(176)};try{const a=await s[r(282)](oe,"tv",e),o={},l=(new Date)[r(330)+"me"]();let c=!1;for(const u of te){if(c)break;try{const i=await le(u,{mediaType:"tv",tmdbId:e,seasonId:t,episodeId:n,title:a[r(299)],year:a[r(277)],imdbId:a[r(417)+"d"],_t:l["toStr"+r(333)]()}),d=await s[r(282)](de,i,e),m=s[r(282)](me,d,u);Object[r(269)+"n"](o,m.sources),c=!0}catch(i){}}return{sources:o,tmdb_id:parseInt(e),total_scraping_time:0,type:"tv"}}catch(a){throw a}}(a,d,m)}if(!n.sources||0===Object.keys(n.sources).length)throw new Error("No sources available for this content. Please try again later.");const r=(e=>{const t=Q,n={WSTaL:function(e,t){return e||t},HvONU:t(245)+"t"};if(!e||typeof e!==n[t(447)])return[];const r=Object[t(234)+"s"](ee)[t(301)](e=>e[t(138)])[t(301)](r=>{const s=t,i=e[r];return{name:r,source:n[s(172)](i,null),isAvailable:!!i||null,originalName:r,isLoading:!1}});return r[t(396)]((e,n)=>te[t(130)+"Of"](e[t(138)])-te.indexOf(n[t(138)])),r})(n.sources);if(0===r.length)throw new Error("No available servers found. Please try again later.");p.source.setAvailableServers(r);let s=null;for(const e of r)if(e.source){s=e;break}if(!s)throw new Error("No valid sources found. Please try another server or check back later.");const i=t.current&&!t.current.paused,o=t.current?.currentTime||0;p.source.setCurrentServer(s.name),await b.handleSourceChange(s.source),t.current&&(t.current.currentTime=o,i&&t.current.play().catch(console.error)),p.source.currentQuality&&b.handleQualityChange&&await b.handleQualityChange(p.source.currentQuality)}catch(n){p.status.setError(n instanceof Error?n.message:"Failed to load video sources")}}catch(n){p.status.setError(n instanceof Error?n.message:"Failed to load media information")}finally{p.status.setIsLoading(!1)}})(),()=>{s.current=!1}),[e,a,d,m]),o.useEffect(()=>{f?.id&&(async()=>{if("tv"===e&&f&&"id"in f&&("number"==typeof f.id||"string"==typeof f.id))try{const e=await $(String(f.id));if(e&&Array.isArray(e)){const t=e.reduce((e,t)=>e+(t?.episode_count||0),0);p.status.setTotalEpisodes(t)}else p.status.setTotalEpisodes(0)}catch(t){p.status.setTotalEpisodes(0)}})()},[e,f?.id]),o.useEffect(()=>{const e=t.current;if(!e)return;const n=()=>{A||(p.status.setHasInteracted(!0),p.playback.setIsPlaying(!0),z(!1))},r=()=>{A||(p.playback.setIsPlaying(!1),z(!0))};return e.addEventListener("play",n),e.addEventListener("pause",r),()=>{e.removeEventListener("play",n),e.removeEventListener("pause",r)}},[A]);const J=()=>{if(!a)return;h(`/${e}/${a}`)},R=e=>{t.current&&(S(!0),k.current=!t.current.paused,b.skip(e),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{S(!1),k.current&&t.current&&t.current.play().catch(()=>{})},300))},V=o.useCallback(async()=>{const e=t.current;if(e)if(p.status.setHasInteracted(!0),e.paused)if(Ke()){const{triggerIOSNativePlay:t}=await i(async()=>{const{triggerIOSNativePlay:e}=await Promise.resolve().then(()=>Ge);return{triggerIOSNativePlay:e}},void 0);await t(e,p.playback.setIsPlaying,z)}else try{await e.play(),p.playback.setIsPlaying(!0),z(!1)}catch(n){e.muted=!0;try{await e.play(),p.playback.setIsPlaying(!0),z(!1),setTimeout(()=>{e&&!e.paused&&(e.muted=!1)},100)}catch(r){p.playback.setIsPlaying(!1),z(!0)}}else if(Ke()){const{handlePause:t}=await i(async()=>{const{handlePause:e}=await Promise.resolve().then(()=>Ge);return{handlePause:e}},void 0);t(e,p.playback.setIsPlaying,z)}else e.pause(),p.playback.setIsPlaying(!1),z(!0)},[t,p.playback,p.status,Ke,z]),X=o.useCallback(async()=>{const e=t.current;if(e)if(p.status.setHasInteracted(!0),Ke()){const{triggerIOSNativeFullscreen:t}=await i(async()=>{const{triggerIOSNativeFullscreen:e}=await Promise.resolve().then(()=>Ge);return{triggerIOSNativeFullscreen:e}},void 0);await t(e,p.playback.setIsPlaying,z)}else document.fullscreenElement?(document.exitFullscreen(),p.playback.setIsFullscreen(!1)):(n.current?.requestFullscreen(),p.playback.setIsFullscreen(!0))},[t,p.playback,p.status,Ke,z,n]),_=e=>{if(A)return;const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width;C?n>.33&&n<.66&&V():V()};o.useEffect(()=>()=>{L.current&&clearTimeout(L.current)},[]);const ne=()=>{const e=ge();e.idleCheck&&(dn.time=Date.now(),K.current=dn.time,E.current&&clearTimeout(E.current),E.current=setTimeout(()=>{t.current&&!t.current.paused&&(P.current=!0,t.current.pause(),q(!0))},60*e.idleCheck*1e3))},re=()=>{q(!1),P.current&&t.current&&(t.current.play().catch(()=>{}),P.current=!1),ne()};return o.useEffect(()=>{const e=new URLSearchParams(window.location.search).get("idlecheck");if(e){const t=parseInt(e);if(!isNaN(t)&&t>0){const e=ge();if(!e.idleCheck){const n={...e,idleCheck:t};pe(n)}}}},[]),o.useEffect(()=>{const e=ge();if(!e.idleCheck)return;K.current=dn.time;Date.now()-K.current>=1e3*e.idleCheck&&t.current&&!t.current.paused?(P.current=!0,t.current.pause(),q(!0)):ne();const n=()=>{const e=Date.now();e-K.current>1e3&&(dn.time=e,ne())};return window.addEventListener("mousemove",n),window.addEventListener("keydown",n),window.addEventListener("click",n),window.addEventListener("touchstart",n),()=>{window.removeEventListener("mousemove",n),window.removeEventListener("keydown",n),window.removeEventListener("click",n),window.removeEventListener("touchstart",n),E.current&&clearTimeout(E.current)}},[]),o.useEffect(()=>{if(p.source.currentQuality&&b.handleQualityChange&&!p.status.isLoading){const e=p.source.currentQuality,n=Ie(e.url),r=t.current&&t.current.src===e.url;n&&r||b.handleQualityChange(p.source.currentQuality)}},[p.source.currentQuality]),o.useEffect(()=>{},[p.source.qualities,p.source.currentQuality]),o.useEffect(()=>{p.source.qualities.length>0&&!p.source.currentQuality&&p.source.setCurrentQuality(p.source.qualities[0])},[p.source.qualities,p.source.currentQuality]),o.useEffect(()=>{if(p.source.qualities.length>0&&p.source.currentQuality&&Ie(p.source.currentQuality.url)&&t.current){const e=t.current.src,n=p.source.currentQuality.url;e!==n&&(t.current.src=n)}},[p.source.qualities,p.source.currentQuality]),o.useEffect(()=>()=>{(()=>{const e=De,t={Rsksh:e(566)+e(391)+e(673)+"L:",vJDUy:e(380)+e(620),SrBvH:function(e,t){return e!==t},pkSOm:e(689)+e(393)+e(729)+e(684)+"diaSource "+e(478)+e(339)+e(376)+e(463)+"s:"};try{ke.forEach(n=>{const r=e;try{URL[r(637)+r(724)+"ctURL"](n),typeof window!==t[r(353)]&&window[r(483)+"iaSourceOb"+r(481)]&&delete window[r(483)+"iaSou"+r(593)+r(481)][n]}catch(s){}}),ke.clear(),t[e(621)](typeof window,t[e(353)])&&(window[e(483)+e(329)+e(593)+"jects"]={})}catch(n){}})(),r.current&&(r.current.destroy(),r.current=null)},[]),o.useEffect(()=>{const e=t.current;if(!e)return;const n=setInterval(()=>{if(e&&!e.paused){const t=p.playback.bufferProgress;if(e.currentTime>=e.duration-.5)return void T(!1);const n=e.buffered.length>0?e.buffered.end(e.buffered.length-1):0,r=e.currentTime>n-1,s=t===G.current;r&&s?W||H.current||(H.current=setTimeout(()=>{T(!0),H.current=null},500)):(H.current&&(clearTimeout(H.current),H.current=null),T(!1)),G.current=t}},1e3),r=()=>{e.readyState<3&&!e.paused&&!A&&T(!0)},s=()=>{T(!1),H.current&&(clearTimeout(H.current),H.current=null)};return e.addEventListener("waiting",r),e.addEventListener("playing",s),e.addEventListener("stalled",r),()=>{e.removeEventListener("waiting",r),e.removeEventListener("playing",s),e.removeEventListener("stalled",r),clearInterval(n),H.current&&(clearTimeout(H.current),H.current=null)}},[p.playback.bufferProgress,A]),o.useEffect(()=>(window.handleServerChangeDirectly=async(n,r)=>{try{p.status.setIsLoading(!0),p.status.setError(null);const r=t.current?.currentTime||0,i=t.current&&!t.current.paused;p.source.setPendingTime(r);if(!p.source.availableServers.find(e=>e.name===n))return p.status.setError(`Server ${n} not found`),p.status.setIsLoading(!1),!1;p.source.setCurrentServer(n);try{if(!a)throw new Error("TMDB ID is required");const t=[...p.source.availableServers],r=t.findIndex(e=>e.name===n);-1!==r&&(t[r]={...t[r],isLoading:!0},p.source.setAvailableServers(t)),p.source.setQualities([]),p.source.setCurrentQuality(null);const s=await he(n,e,a,"tv"===e?d:void 0,"tv"===e?m:void 0);if(!s)throw new Error(`No sources available for server ${n}`);const i=[...p.source.availableServers];-1!==r&&(i[r]={...i[r],source:s,isAvailable:!0,isLoading:!1},p.source.setAvailableServers(i)),await b.handleSourceChange(s)}catch(s){const e=[...p.source.availableServers],t=e.findIndex(e=>e.name===n);return-1!==t&&(e[t]={...e[t],isLoading:!1,isAvailable:!1},p.source.setAvailableServers(e)),p.status.setError(s instanceof Error?s.message:`Failed to load video sources from ${n}`),p.status.setIsLoading(!1),!1}return p.source.currentQuality&&b.handleQualityChange&&await b.handleQualityChange(p.source.currentQuality),p.status.setIsLoading(!1),t.current&&(t.current.currentTime=r,p.playback.setCurrentTime(r),i&&t.current.play().catch(console.error)),!0}catch(s){return p.status.setError(s instanceof Error?s.message:"Failed to change server"),p.status.setIsLoading(!1),!1}},window.testServerAvailability=async n=>{if(a)try{const s=t.current?.currentTime||0,i=t.current&&!t.current.paused;p.source.setPendingTime(s);const o=p.source.availableServers.findIndex(e=>e.name===n);if(-1===o)return;const l=[...p.source.availableServers];l[o]={...l[o],isLoading:!0},p.source.setAvailableServers(l);const c=await he(n,e,a,"tv"===e?d:void 0,"tv"===e?m:void 0),u=[...p.source.availableServers];if(u[o]={...u[o],isLoading:!1,isAvailable:null!==c,source:c},p.source.setAvailableServers(u),c&&(p.source.setCurrentServer(n),await b.handleSourceChange(c),t.current&&(s>0&&(t.current.currentTime=s,p.playback.setCurrentTime(s)),i)))try{await t.current.play(),p.playback.setIsPlaying(!0)}catch(r){}return null!==c}catch(r){const e=p.source.availableServers.findIndex(e=>e.name===n);if(-1!==e){const t=[...p.source.availableServers];t[e]={...t[e],isLoading:!1,isAvailable:!1,source:null},p.source.setAvailableServers(t)}return!1}},window.availableServers=p.source.availableServers,()=>{delete window.handleServerChangeDirectly,delete window.testServerAvailability,delete window.availableServers}),[p.source.availableServers,e,a,d,m]),o.useEffect(()=>{const e=e=>{if(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement)return;const n=e.key.toLowerCase();if(" "!==n||Z.current.spacePressed){if("k"===n&&!Z.current.kPressed&&(e.preventDefault(),e.stopPropagation(),Z.current.kPressed=!0,t.current)){const e=t.current;e.paused?V():(e.pause(),p.playback.setIsPlaying(!1),z(!0))}}else if(e.preventDefault(),e.stopPropagation(),Z.current.spacePressed=!0,t.current){const e=t.current;e.paused?V():(e.pause(),p.playback.setIsPlaying(!1),z(!0))}},n=e=>{const t=e.key.toLowerCase();" "===t?Z.current.spacePressed=!1:"k"===t&&(Z.current.kPressed=!1)};return window.addEventListener("keydown",e,!0),window.addEventListener("keyup",n,!0),()=>{window.removeEventListener("keydown",e,!0),window.removeEventListener("keyup",n,!0)}},[t,p.playback,z]),o.useEffect(()=>{if(!p.status.isLoading&&0===p.source.qualities.length&&p.source.currentServer){const e=p.source.availableServers.find(e=>e.name===p.source.currentServer);e?.source&&b.handleSourceChange(e.source).then(()=>{}).catch(e=>{})}},[p.status.isLoading,p.source.qualities.length,p.source.currentServer]),l.jsx("div",{ref:n,className:"relative w-full h-full bg-black",children:l.jsx(ye,{children:l.jsx("div",{className:"fixed inset-0 bg-black group",children:p.status.error?l.jsx(Jt,{containerRef:n,error:p.status.error,mediaInfo:f,menuState:v,videoState:p,videoHandlers:b,backUrl:null,logoUrl:null,themeColor:x,subtitles:w,mediaType:e,tmdbId:a,seasonId:d,episodeId:m}):l.jsx(je,{hideDelay:5e3,isAnyMenuOpen:v.isAnyMenuOpen,isPaused:!p.playback.isPlaying,isIdleCheckVisible:I,children:n=>l.jsxs(l.Fragment,{children:[l.jsx(M,{children:n&&l.jsx(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.16,1,.3,1]},children:l.jsx(Rt,{isVisible:n,mediaInfo:f,backUrl:"/",logoUrl:null,handleBackClick:J,videoState:p})},"header")}),l.jsx(ln,{isVisible:n&&!A&&y.pauseScreen&&!t.current?.classList.contains("ended"),isPaused:!p.playback.isPlaying&&p.status.hasInteracted&&N,hasStartedPlaying:p.status.hasInteracted,mediaInfo:f,currentTime:p.playback.currentTime,onPlayPause:V,isIdleCheckVisible:I}),l.jsx("video",{ref:t,className:"w-full h-full",crossOrigin:"anonymous",playsInline:!0,preload:"auto",onClick:_,onTimeUpdate:b.handleTimeUpdate,onLoadedMetadata:()=>{b.handleLoadedMetadata()},onProgress:b.handleProgress,onSeeking:()=>{S(!0),t.current&&(k.current=!t.current.paused)},onEnded:()=>{p.playback.setIsPlaying(!1),z(!0)},onError:()=>{p.status.setError("Video playback error"),p.status.setIsLoading(!1)},onVolumeChange:()=>{t.current&&p.playback.setVolume(t.current.volume)},onRateChange:()=>{},onPlay:()=>{A||(p.status.setHasInteracted(!0),p.playback.setIsPlaying(!0),z(!1),Ke()&&t.current&&t.current.muted&&setTimeout(()=>{t.current&&!t.current.paused&&(t.current.muted=!1)},100))},onPause:()=>{A||(p.playback.setIsPlaying(!1),z(!0))}}),C&&l.jsx(on,{onSeek:R,onPlayPause:V,onFullscreenToggle:X,themeColor:x}),l.jsx(Vt,{isLoading:p.status.isLoading,themeColor:x}),l.jsx(Y,{onVolumeChange:b.handleVolumeChange,currentVolume:p.playback.volume,isPlaying:p.playback.isPlaying,onPlayPause:V,onFullscreenToggle:X,onSeek:R}),l.jsx(M,{children:n&&l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4,ease:[.16,1,.3,1]},children:l.jsx(sn,{videoState:p,videoHandlers:{...b,togglePlay:V,toggleFullscreen:X,handleServerChange:async e=>(p.source.setCurrentServer(e),b.handleServerChange(e)),handleServerTest:async e=>window.testServerAvailability(e)},menuState:v,mediaInfo:f,mediaType:e,tmdbId:a,seasonId:d,episodeId:m,subtitles:w})},"controls")}),!1,"tv"===e&&a&&d&&m&&f&&"tv"===e&&f.show_name&&l.jsx(Le,{tmdbId:a,currentSeason:d,currentEpisode:m,currentTime:p.playback.currentTime,duration:p.playback.duration,showName:f.show_name,controlsVisible:n}),l.jsx(M,{children:I&&l.jsx(cn,{isVisible:I,onContinue:re,themeColor:x})})]})})})})})};export{mn as VideoPlayer};
