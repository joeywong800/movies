const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/D5hE9N-OAIHL4BIK.js","assets/js/D-s6PRqiKBLBeb70.js","assets/js/DRKqkMc30zo_0ikY.js","assets/js/CW___00ulSquyL62.js","assets/js/BfZ2chxSRdnyRXRh.js","assets/js/Dzd9VM057lnHWOrh.js","assets/js/DuhNfJysh32dzoQX.js","assets/js/rok5ZiflEFTZ0mAl.js","assets/js/CxGgxkmD02DlAHB9.js","assets/js/CdjEVO9ucAe6ofNA.js","assets/js/BOmSRhSE5z7Kpxtd.js","assets/js/Dud8YmOKJJ5dkhIL.js","assets/js/BeLtu-UYPkietiDK.js","assets/js/LM2JspYDBI8LNjlT.js","assets/js/3aNFxleMQdjaFZtw.js","assets/js/DZoN2sFbwskeIicV.js","assets/js/DpIj8wd6VUmqXzzl.js","assets/js/BDEOJ3om1uRt4ddv.js","assets/js/Cfjqk5hMR98XEzMb.js","assets/js/DEw7soNDm96o2_xx.js","assets/js/DQtKvrlHVY6ttbBi.js","assets/js/UODYOgg5YuOv_VW2.js","assets/js/DHhpSf5wJ3sBFEr8.js","assets/js/BjRG7GEEiJeTUZgg.js","assets/js/B-4N2_WDClcrmfIj.js","assets/js/BvM7xlF9LBAP7fYW.js","assets/js/Czi9jgsMpQDidLhg.js","assets/js/B-1prO_VwKJw-PuO.js","assets/js/R3_D4R4XEg1aerEa.js","assets/js/BrxKryfLFW6Trsae.js","assets/js/BQN4GL9TIiLnyRs4.js","assets/js/DH-2oQr6aBoAkLol.js","assets/js/C7-lj47fWIiooCuf.js"])))=>i.map(i=>d[i]);
import{R as e,r as t,j as s,L as r,u as a,b as n,c as o,B as i,d as l,e as d,N as c,f as u}from"./D-s6PRqiKBLBeb70.js";import{u as m,Q as x,a as h}from"./BfZ2chxSRdnyRXRh.js";import{V as g,R as f,A as b,C as p,T as v,D as j,P as y,a as w,b as N}from"./BOmSRhSE5z7Kpxtd.js";import{c as z}from"./Dud8YmOKJJ5dkhIL.js";import{c as k}from"./BeLtu-UYPkietiDK.js";import{t as C}from"./LM2JspYDBI8LNjlT.js";import{X as D,M as L,H as M,L as S,C as _,F as A,T as B,a as q,S as T,B as I,b as E,c as W,I as K,U as O,d as P,e as Y,f as H,P as R,A as F,g as Z,h as G,R as V,Z as U,i as J,G as $,j as X,k as Q,l as ee,m as te,n as se,o as re,p as ae,q as ne}from"./DuhNfJysh32dzoQX.js";import{j as oe}from"./3aNFxleMQdjaFZtw.js";import{$ as ie}from"./DZoN2sFbwskeIicV.js";import{a as le}from"./DpIj8wd6VUmqXzzl.js";import{m as de}from"./rok5ZiflEFTZ0mAl.js";import{g as ce}from"./BDEOJ3om1uRt4ddv.js";import"./DRKqkMc30zo_0ikY.js";import"./CW___00ulSquyL62.js";import"./Dzd9VM057lnHWOrh.js";import"./CxGgxkmD02DlAHB9.js";import"./CdjEVO9ucAe6ofNA.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const ue={},me=function(e,t,s){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),s=e?.nonce||e?.getAttribute("nonce");r=Promise.allSettled(t.map(e=>{if((e=function(e){return"https://fmovies.now/"+e}(e))in ue)return;ue[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,s&&a.setAttribute("nonce",s),document.head.appendChild(a),t?new Promise((t,s)=>{a.addEventListener("load",t),a.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})},xe=he;function he(e,t){const s=ze();return he=function(t,r){let a=s[t-=117];if(void 0===he.OByxxu){he.aRlzZb=function(e){let t="",s="";for(let r,a,n=0,o=0;a=e.charAt(o++);~a&&(r=n%4?64*r+a:a,n++%4)?t+=String.fromCharCode(255&r>>(-2*n&6)):0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)s+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(s)},e=arguments,he.OByxxu=!0}const n=t+s[0],o=e[n];return o?a=o:(a=he.aRlzZb(a),e[n]=a),a},he(e,t)}!function(){const e=he,t=ze();for(;;)try{if(581608===parseInt(e(147))/1*(parseInt(e(153))/2)+parseInt(e(123))/3*(parseInt(e(127))/4)+parseInt(e(151))/5+parseInt(e(161))/6*(-parseInt(e(126))/7)+parseInt(e(140))/8*(-parseInt(e(142))/9)+-parseInt(e(138))/10*(-parseInt(e(148))/11)+-parseInt(e(120))/12)break;t.push(t.shift())}catch(s){t.push(t.shift())}}();xe(144),xe(152),xe(162),xe(117),xe(149),xe(141),xe(122),xe(117);let ge=0;function fe(){const e=xe;return t=ge+1,s=Number["MAX_S"+e(150)+e(118)+"R"],ge=t%s,ge[e(124)+"ing"]();var t,s}const be=new Map,pe=e=>{const t=xe,s={lTtkB:function(e,t){return e(t)},MMCDa:t(122)+t(117)+"ST",uLDPB:function(e,t,s){return e(t,s)}};if(be[t(157)](e))return;const r=s[t(139)](setTimeout,()=>{const r=t;be[r(133)+"e"](e),s[r(145)](we,{type:s[r(129)],toastId:e})},1e6);be[t(146)](e,r)},ve=(e,t)=>{const s=xe,r={DGTms:function(e,t){return e(t)},dKYWa:"ADD_TOAST",ctAAq:s(162)+s(117)+"ST",Ocaaq:s(149)+s(141)+"AST",AvHcn:function(e,t){return e(t)},SvioP:s(122)+s(117)+"ST"};switch(t.type){case r[s(121)]:return{...e,toasts:[t[s(154)],...e[s(154)+"s"]][s(155)](0,1)};case r[s(135)]:return{...e,toasts:e[s(154)+"s"][s(137)](e=>e.id===t[s(154)].id?{...e,...t[s(154)]}:e)};case r[s(136)]:{const{toastId:a}=t;return a?r[s(119)](pe,a):e[s(154)+"s"][s(160)+"ch"](e=>{r[s(125)](pe,e.id)}),{...e,toasts:e[s(154)+"s"].map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case r[s(130)]:return void 0===t[s(154)+"Id"]?{...e,toasts:[]}:{...e,toasts:e[s(154)+"s"][s(128)+"r"](e=>e.id!==t[s(154)+"Id"])}}},je=[];let ye={toasts:[]};function we(e){const t={aXsvH:function(e,t){return e(t)},pWUvx:function(e,t,s){return e(t,s)}};ye=t.pWUvx(ve,ye,e),je.forEach(e=>{t[he(131)](e,ye)})}function Ne({...e}){const t=xe,s={HsBkY:function(e){return e()},YuerP:function(e){return e()},BhGJQ:function(e,t){return e(t)}},r=s[t(143)](fe),a=()=>we({type:"DISMI"+t(141)+t(134),toastId:r});return s.BhGJQ(we,{type:t(144)+"OAST",toast:{...e,id:r,open:!0,onOpenChange:e=>{e||s.HsBkY(a)}}}),{id:r,dismiss:a,update:e=>we({type:t(162)+t(117)+"ST",toast:{...e,id:r}})}}function ze(){const e=["C2XPy2u","yxrL","AgfZ","zMvJDa","Aw5KzxG","zM9Yrwe","mZmYnfj4zLrgAq","vvbeqvq","rv9ut0e","tLrfr0u","qxziy24","mtiYode5odHjtNrzEeq","zeTzv2e","uKvnt1y","ndG3nJi5zuPHshvg","Dg9tDhi","reDuBxm","ndyZnfjzDKzUyW","mtz1seTOCe4","zMLSDgu","tu1drge","u3zPB1a","yvHZDKG","DKPdsgO","zgvSzxq","qvnu","y3rbqxe","t2nHyxe","BwfW","mtmWsujZwK5Z","DuXeuei","ntqXnZzIC2fpq0y","u1nFve8","mZy5qKztq1D2","wxvLCLa","qurex1q","Bfr0A0i","C2v0","mtGYnJi3sMTbvLfH","mtK1mZCXsfb1zwrR","reLttuK","quzfx0K","ndeWmJGWnu54sLb4yq","t0ftva","nKzorwPxEG","Dg9HC3q"];return(ze=function(){return e})()}function ke(e,t){var s=Ce();return ke=function(t,r){var a=s[t-=319];if(void 0===ke.WKRMcZ){ke.aYJTpC=function(e){for(var t,s,r="",a="",n=0,o=0;s=e.charAt(o++);~s&&(t=n%4?64*t+s:s,n++%4)?r+=String.fromCharCode(255&t>>(-2*n&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(var i=0,l=r.length;i<l;i++)a+="%"+("00"+r.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(a)},e=arguments,ke.WKRMcZ=!0}var n=t+s[0],o=e[n];return o?a=o:(a=ke.aYJTpC(a),e[n]=a),a},ke(e,t)}function Ce(){var e=["mtqYnJHzCwHhChe","oty5m3HiuMrqvW","mtm3nZmXofHmtNPwva","mNLbEvLjCG","mJmYntq5D0H0B3DW","mJuZodC3mLzUChbmvW","nuriz1LUvq","mteXndCZne9sAvz0sq","mJyWsvz1q2jX","ndG5otaYng1NvwTpta","n1fJweLkrG","mJi5oxjttxrtAa"];return(Ce=function(){return e})()}function De(...e){return C(k(e))}!function(){for(var e=ke,t=Ce();;)try{if(333338===parseInt(e(330))/1*(parseInt(e(329))/2)+-parseInt(e(321))/3+-parseInt(e(319))/4*(-parseInt(e(320))/5)+parseInt(e(328))/6*(parseInt(e(324))/7)+-parseInt(e(323))/8+-parseInt(e(327))/9*(parseInt(e(322))/10)+parseInt(e(325))/11*(parseInt(e(326))/12))break;t.push(t.shift())}catch(s){t.push(t.shift())}}();const Le=y,Me=t.forwardRef(({className:e,...t},r)=>s.jsx(g,{ref:r,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Me.displayName=g.displayName;const Se=z("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_e=t.forwardRef(({className:e,variant:t,...r},a)=>s.jsx(f,{ref:a,className:De(Se({variant:t}),e),...r}));_e.displayName=f.displayName;t.forwardRef(({className:e,...t},r)=>s.jsx(b,{ref:r,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t})).displayName=b.displayName;const Ae=t.forwardRef(({className:e,...t},r)=>s.jsx(p,{ref:r,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(D,{className:"h-4 w-4"})}));Ae.displayName=p.displayName;const Be=t.forwardRef(({className:e,...t},r)=>s.jsx(v,{ref:r,className:De("text-sm font-semibold",e),...t}));Be.displayName=v.displayName;const qe=t.forwardRef(({className:e,...t},r)=>s.jsx(j,{ref:r,className:De("text-sm opacity-90",e),...t}));function Te(){const{toasts:t}=function(){const t=xe,s=function(e,t){return e>t},[r,a]=e["useSt"+t(156)](ye);return e["useEf"+t(158)](()=>{const e={vJCHj:function(e,t){return s(e,t)}};return je.push(a),()=>{const t=he,s=je[t(159)+"Of"](a);e[t(132)](s,-1)&&je.splice(s,1)}},[r]),{...r,toast:Ne,dismiss:e=>we({type:t(149)+"SS_TOAST",toastId:e})}}();return s.jsxs(Le,{children:[t.map(function({id:e,title:t,description:r,action:a,...n}){return s.jsxs(_e,{...n,children:[s.jsxs("div",{className:"grid gap-1",children:[t&&s.jsx(Be,{children:t}),r&&s.jsx(qe,{children:r})]}),a,s.jsx(Ae,{})]},e)}),s.jsx(Me,{})]})}qe.displayName=j.displayName;const Ie=({...e})=>{const{theme:t="system"}=oe();return s.jsx(ie,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},Ee=N;t.forwardRef(({className:e,sideOffset:t=4,...r},a)=>s.jsx(w,{ref:a,sideOffset:t,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})).displayName=w.displayName;const We=()=>s.jsx("footer",{className:"w-full bg-background/90 backdrop-blur-md border-t border-border/30 shadow-lg py-8 mt-auto",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[s.jsx(r,{to:"/home",className:"flex items-center space-x-2 group",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-brand to-brand/60 rounded-lg blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"}),s.jsx("div",{className:"relative px-3 py-1.5 bg-background/90 backdrop-blur-md rounded-lg ring-1 ring-border/40",children:s.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-brand to-brand/60 bg-clip-text text-transparent",children:"FMOVIES+"})})]})}),s.jsx("div",{className:"max-w-2xl text-center",children:s.jsx("p",{className:"text-sm text-foreground/70 leading-relaxed backdrop-blur-sm bg-secondary/20 rounded-xl p-4 border border-brand/5 shadow-lg shadow-brand/5",children:"This site does not store any files on our server, we only linked to the media which is hosted on 3rd party services."})}),s.jsx("div",{className:"flex items-center space-x-2 text-foreground/60",children:s.jsxs("a",{href:"mailto:contact@fmovies0.cc",className:"flex items-center space-x-2 px-4 py-2 rounded-xl bg-secondary/30 hover:bg-brand/10 hover:text-brand border border-brand/5 transition-all duration-200 group",children:[s.jsx(L,{size:16,className:"group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-sm",children:"contact@fmovies0.cc"})]})})]})})}),Ke=Ye;!function(){const e=Ye,t=Re();for(;;)try{if(196244===parseInt(e(451))/1+-parseInt(e(542))/2*(parseInt(e(450))/3)+parseInt(e(548))/4+parseInt(e(527))/5+parseInt(e(610))/6+parseInt(e(554))/7*(-parseInt(e(460))/8)+-parseInt(e(523))/9*(parseInt(e(578))/10))break;t.push(t.shift())}catch(s){t.push(t.shift())}}();const Oe=Ke(428)+"://ba"+Ke(481)+Ke(536)+Ke(434)+"d/api";class Pe{["setTo"+Ke(435)](e){const t=Ke,s={LNpbS:t(560)};localStorage.setItem(s.LNpbS,e),this[t(449)+"erAut"+t(556)+"eChange"]()}[Ke(517)+Ke(435)](){const e=Ke,t={kaIrO:e(560)};return localStorage[e(561)+"em"](t[e(455)])}[Ke(514)+"er"](e){const t=Ke;localStorage[t(586)+"em"]("user",JSON[t(487)+t(485)](e)),this[t(449)+"erAut"+t(556)+"eChange"]()}[Ke(449)+"erAut"+Ke(556)+"eChange"](){const e=Ke,t={vgJyl:e(511)+e(440)+e(488)+"ge"};window[e(423)+e(543)+e(593)](new CustomEvent(t[e(568)]))}async["regis"+Ke(570)](e,t){const s=Ke;return(await le[s(490)](Oe+(s(425)+s(566)+"ster"),{username:e,password:t}))[s(599)]}async[Ke(530)](e,t){const s=Ke,r={OjfZb:s(525)+s(498),pgIlJ:function(e){return e()}},a=await le[s(490)](Oe+(s(425)+"/login"),{username:e,password:t});return this[s(546)+s(435)](a[s(599)][s(560)]),this[s(514)+"er"](a[s(599)][s(539)]),localStorage[s(587)+s(528)](r.OjfZb),localStorage["remov"+s(528)]("watch"+s(504)),await r[s(589)](it),await r[s(589)](ot),a[s(599)]}[Ke(592)+"t"](){const e=Ke,t={tBjQi:e(571)+e(524),jUqxi:e(560),yjkSo:e(525)+e(498),GURHd:e(539),rDuRp:e(582)+e(504)},s=t[e(551)][e(472)]("|");let r=0;for(;;){switch(s[r++]){case"0":this["trigg"+e(541)+e(556)+e(430)+"ge"]();continue;case"1":localStorage[e(587)+e(528)](t[e(509)]);continue;case"2":localStorage[e(587)+e(528)](t.yjkSo);continue;case"3":localStorage["remov"+e(528)](t.GURHd);continue;case"4":localStorage[e(587)+e(528)](t[e(448)]);continue}break}}[Ke(493)+Ke(600)+Ke(486)](){const e=Ke,t=localStorage[e(561)+"em"]({TBZdz:"user"}[e(597)]);return t?JSON[e(500)](t):null}async[Ke(572)+Ke(567)+Ke(563)](e){const t=Ke,s=this[t(517)+t(435)]();if(!s)throw new Error(t(588)+t(482)+t(608)+"ed");const r=await le[t(506)](Oe+(t(425)+t(559)+t(563)),{avatarUrl:e},{headers:{Authorization:"Bearer "+s}});return this[t(514)+"er"](r[t(599)]),r[t(599)]}async[Ke(438)+Ke(483)](){const e=Ke,t={ejaFG:e(588)+e(482)+"ticated"},s=this.getToken();if(!s)throw new Error(t[e(475)]);return(await le[e(468)](Oe+(e(425)+e(559)+"ile"),{headers:{Authorization:"Bearer "+s}}))[e(599)][e(539)]}async["updat"+Ke(605)+"e"](e){const t=Ke,s=this[t(517)+"ken"]();if(!s)throw new Error("Not a"+t(482)+t(608)+"ed");try{const r=await le.patch(Oe+(t(425)+t(441)+"e"),{theme:e},{headers:{Authorization:t(564)+"r "+s}});return this[t(514)+"er"](r[t(599)][t(539)]),r[t(599)]}catch(r){throw r}}[Ke(510)+Ke(585)+Ke(471)+Ke(583)](){const e=Ke,t={QJdrP:"favor"+e(498)},s=localStorage[e(561)+"em"](t[e(519)]);return s?JSON[e(500)](s):[]}[Ke(510)+Ke(456)+"atchL"+Ke(476)](){const e=Ke,t={LcpJE:e(582)+"Later"},s=localStorage[e(561)+"em"](t[e(439)]);return s?JSON[e(500)](s):[]}[Ke(510)+"oredT"+Ke(569)](){const e=Ke,t=this[e(493)+e(600)+e(486)]();return t?.theme||null}async["getFa"+Ke(427)+"es"](){const e=Ke,t={MISVq:function(e,t,s){return e(t,s)},imFXA:e(584)+e(465)+e(604)+e(525)+"ites:"};if(!this[e(459)+"henti"+e(452)]())return this[e(510)+e(585)+e(471)+"tes"]();try{const s=await t[e(473)](fetch,Oe+(e(425)+e(547)+"rites"),{headers:{Authorization:e(564)+"r "+this[e(517)+"ken"]()}});if(!s.ok)throw new Error("Faile"+e(420)+e(558)+" favo"+e(602));return(await s.json())[e(525)+"ites"]}catch(s){return[]}}async[Ke(443)+Ke(466)+"ites"](e){const t=Ke,s={UdGSc:t(458),QBvFn:t(489)+t(420)+t(503)+t(516)+t(521)+"s",LqmZa:"Error"+t(453)+t(595)+" favo"+t(602)+":"};if(!this[t(459)+t(515)+"cated"]())return this[t(443)+t(574)+"Favor"+t(498)](e);try{const r=await fetch(Oe+"/auth/favo"+t(602),{method:s[t(557)],headers:{Authorization:"Bearer "+this[t(517)+t(435)](),"Content-Type":"application/json"},body:JSON[t(487)+"gify"](e)});if(!r.ok)throw new Error(s[t(535)]);return(await r.json())[t(525)+"ites"]}catch(r){return[]}}async["remov"+Ke(513)+Ke(466)+Ke(498)](e,t){const s=Ke,r={McuZT:function(e,t,s){return e(t,s)},dbvmg:s(529)+"E",MmxjF:"applicatio"+s(469)+"n",xjiPC:s(489)+s(420)+s(587)+"e from fav"+s(521)+"s",owWol:s(584)+s(477)+s(484)+s(531)+"favor"+s(462)};if(!this[s(459)+s(515)+s(452)]())return this[s(587)+s(513)+s(574)+s(466)+s(498)](e,t);try{const a=await r[s(577)](fetch,Oe+(s(425)+s(547)+s(602)),{method:r[s(601)],headers:{Authorization:s(564)+"r "+this[s(517)+"ken"](),"Content-Type":r[s(431)]},body:JSON[s(487)+s(485)]({id:e,mediaType:t})});if(!a.ok)throw new Error(r.xjiPC);return(await a[s(562)]())["favor"+s(498)]}catch(a){return[]}}async[Ke(445)+Ke(534)+"ter"](){const e=Ke,t={nTWZH:function(e,t,s){return e(t,s)},ymmwr:"Faile"+e(420)+e(558)+e(474)+"h later",qHHXF:e(584)+" fetching "+e(582)+e(573)+"r:"};if(!this[e(459)+e(515)+e(452)]())return this[e(510)+e(456)+"atchL"+e(476)]();try{const s=await t[e(590)](fetch,Oe+(e(425)+e(467)+"h-later"),{headers:{Authorization:e(564)+"r "+this[e(517)+e(435)]()}});if(!s.ok)throw new Error(t[e(532)]);return(await s[e(562)]())[e(582)+e(504)]}catch(s){return[]}}async[Ke(443)+Ke(591)+Ke(504)](e){const t=Ke,s={KsyIf:t(458),SzbtP:t(555)+t(502)+"n/json",YYzqp:"Faile"+t(420)+"add t"+t(520)+"ch la"+t(570),KquEW:"Error"+t(453)+t(595)+t(474)+t(480)+t(540)};if(!this[t(459)+t(515)+t(452)]())return this[t(443)+t(574)+t(591)+t(504)](e);try{const r=await fetch(Oe+"/auth/watc"+t(512)+"er",{method:s[t(553)],headers:{Authorization:t(564)+"r "+this["getTo"+t(435)](),"Content-Type":s.SzbtP},body:JSON[t(487)+"gify"](e)});if(!r.ok)throw new Error(s[t(454)]);return(await r[t(562)]())[t(582)+t(504)]}catch(r){return[]}}async[Ke(587)+"eFromWatch"+Ke(504)](e,t){const s=Ke,r={OoMvr:function(e,t,s){return e(t,s)},SnUgb:"DELETE",dUJIl:s(555)+"cation/json",AqYal:"Failed to "+s(587)+s(603)+"m watch la"+s(570),CRtDW:s(584)+" remo"+s(484)+s(531)+s(582)+s(573)+"r:"};if(!this[s(459)+s(515)+s(452)]())return this[s(587)+s(513)+"LocalWatchLater"](e,t);try{const a=await r[s(426)](fetch,Oe+(s(425)+"/watch-later"),{method:r.SnUgb,headers:{Authorization:s(564)+"r "+this[s(517)+s(435)](),"Content-Type":r[s(596)]},body:JSON[s(487)+s(485)]({id:e,mediaType:t})});if(!a.ok)throw new Error(r[s(495)]);return(await a[s(562)]()).watchLater}catch(a){return[]}}["addTo"+Ke(574)+"Favor"+Ke(498)](e){const t=Ke,s={eDHLb:t(525)+t(498)},r=this[t(510)+"oredFavori"+t(583)](),a={...e,addedAt:Date[t(538)]()};return!r[t(549)](s=>s.id===e.id&&s["media"+t(496)]===e["media"+t(496)])&&(r.push(a),localStorage.setItem(s[t(537)],JSON[t(487)+t(485)](r))),r}[Ke(587)+"eFrom"+Ke(574)+Ke(466)+Ke(498)](e,t){const s=Ke,r={KYSwX:s(525)+s(498)},a=this[s(510)+s(585)+s(471)+"tes"]()[s(598)+"r"](r=>!(r.id===e&&r[s(492)+s(496)]===t));return localStorage[s(586)+"em"](r.KYSwX,JSON[s(487)+s(485)](a)),a}["addTo"+Ke(574)+Ke(591)+Ke(504)](e){const t=Ke,s={WVRuH:t(582)+t(504)},r=this[t(510)+"oredW"+t(446)+t(476)](),a={...e,addedAt:Date.now()};return!r.some(s=>s.id===e.id&&s["media"+t(496)]===e["media"+t(496)])&&(r.push(a),localStorage[t(586)+"em"](s[t(470)],JSON[t(487)+t(485)](r))),r}[Ke(587)+Ke(513)+"Local"+Ke(591)+Ke(504)](e,t){const s=Ke,r={WvPRa:s(582)+s(504)},a=this["getSt"+s(456)+s(446)+s(476)]()[s(598)+"r"](r=>!(r.id===e&&r[s(492)+s(496)]===t));return localStorage[s(586)+"em"](r[s(609)],JSON[s(487)+s(485)](a)),a}["isAut"+Ke(515)+Ke(452)](){const e=Ke;return{wayaq:function(e,t){return e!==t}}[e(533)](this[e(517)+e(435)](),null)}async[Ke(606)+Ke(550)+"ts"](){const e=Ke,t={JtdAF:function(e){return e()},JPiEF:e(584)+e(465)+e(604)+e(479)+e(433),RvnJr:e(584)+" fetc"+e(604)+e(581)+e(424)+":"};try{const r=await t[e(444)](dt),a=this[e(517)+e(435)]();if(!a)return{moviesWatched:r["moviesStar"+e(522)]||0,tvEpisodesWatched:r[e(437)+e(607)+"tched"]||0,totalWatchTime:r["total"+e(591)+e(478)]||0,favoriteMovies:0,favoriteTvShows:0,streak:{current:0,max:0,lastWatched:null}};try{const t=await le[e(468)](Oe+(e(425)+e(461)+"s"),{headers:{Authorization:e(564)+"r "+a}});return{...t.data,moviesWatched:r["movie"+e(507)+e(522)]||t[e(599)][e(442)+e(429)+"hed"]||0,tvEpisodesWatched:r["episodesWa"+e(505)]||t[e(599)][e(497)+e(447)+"Watched"]||0,totalWatchTime:r[e(526)+e(591)+"Time"]||t[e(599)][e(526)+e(591)+"Time"]||0,favoriteMovies:t[e(599)][e(525)+e(575)+e(545)]||0,favoriteTvShows:t[e(599)]["favor"+e(457)+e(508)]||0,streak:t[e(599)].streak||{current:0,max:0,lastWatched:null}}}catch(s){return{moviesWatched:r[e(442)+"sStar"+e(522)]||0,tvEpisodesWatched:r[e(437)+e(607)+e(505)]||0,totalWatchTime:r["total"+e(591)+e(478)]||0,favoriteMovies:0,favoriteTvShows:0,streak:{current:0,max:0,lastWatched:null}}}}catch(r){return{moviesWatched:0,tvEpisodesWatched:0,totalWatchTime:0,favoriteMovies:0,favoriteTvShows:0,streak:{current:0,max:0,lastWatched:null}}}}async["delet"+Ke(463)+Ke(552)](){const e=Ke,t={vepoM:e(588)+"uthen"+e(608)+"ed"},s=this["getTo"+e(435)]();if(!s)throw new Error(t[e(518)]);try{await le[e(499)+"e"](Oe+(e(425)+e(544)+e(552)),{headers:{Authorization:e(564)+"r "+s}}),localStorage.clear(),this[e(449)+e(541)+e(556)+e(430)+"ge"]()}catch(r){throw r}}}function Ye(e,t){const s=Re();return Ye=function(t,r){let a=s[t-=420];if(void 0===Ye.ouoBBj){Ye.ZDkJRm=function(e){let t="",s="";for(let r,a,n=0,o=0;a=e.charAt(o++);~a&&(r=n%4?64*r+a:a,n++%4)?t+=String.fromCharCode(255&r>>(-2*n&6)):0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)s+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(s)},e=arguments,Ye.ouoBBj=!0}const n=t+s[0],o=e[n];return o?a=o:(a=Ye.ZDkJRm(a),e[n]=a),a},Ye(e,t)}const He=new Pe;function Re(){const e=["A2fjCK8","B3jLzfC","AxrLvhy","ue9tva","AxnbDxq","mtzqswjoDvq","l3n0yxq","AxrLCZO","zufJy28","DgHLBwu","igzLDgm","rMf2B3i","l3DHDgm","z2v0","BI9QC28","v1zsDuG","yxzVCMK","C3bSAxq","tuLtvNe","ihDHDgm","zwPHrKC","yxrLCG","ihjLBw8","vgLTzq","qvbjihm","AcbSyxq","y2TLBMq","DxrOzw4","B2zPBgu","DMLUzYa","z2LMEq","vxnLCG","C3rYAw4","lwnOyw4","rMfPBgu","Cg9ZDa","ywnJB3u","BwvKAwe","z2v0q3u","s3f1rvC","qxfzywW","vhLWzq","DhzfCgK","AxrLCW","zgvSzxq","CgfYC2u","CuHiwey","y2f0Aw8","ywrKihq","tgf0zxi","DgnOzwq","Cgf0y2G","C1n0yxi","u2HVD3m","ALvXEgK","z2v0u3q","yxv0Ac0","Ac1Syxq","zuzYB20","C2v0vxm","AgvUDgK","BYbMyxy","z2v0vg8","DMvWB00","uuPKCLa","BYb3yxq","B3jPDgu","DgvK","mtHlEhvwA24","Fdr8ma","zMf2B3i","Dg90ywW","mtGZnJC5nwPcq0PJvq","zuL0zw0","revmrvq","Bg9NAw4","zNjVBsa","Ew1TD3i","D2f5yxe","DgnOtge","uuj2rM4","lMzTB3y","zuritgi","BM93","DxnLCG","zxi6","zxjbDxq","nJu0odbIz1fru3m","DgnOrxy","l2fJy28","DMLLCW","C2v0vg8","l2zHDM8","mteYnZq0nfHWD1fmsG","C29Tzq","zxjtDge","DejQuwK","Dw50","s3n5swy","odG5ntC0s1Plwvvf","yxbWBgK","Afn0yxq","vwrhu2m","zMv0y2G","l3bYB2y","Dg9Rzw4","z2v0sxq","ANnVBG","AwXL","qMvHCMu","igrLBgu","l3jLz2K","zvbYB2y","DMDkEwW","AgvTzq","DgvY","mxWZFdi","DxbKyxq","igXHDgu","tg9JywW","AxrLtw8","zxjYB3i","twn1wLq","ntC4odeWse5NANLw","BNq6","sLbPruy","DxnLCIa","D2f0y2G","DgvZ","rxjYB3i","B3jLzey","C2v0sxq","CMvTB3y","tM90ige","CgDjBeO","BLrxwKG","v2f0y2G","Bg9NB3u","zw50","B3DxB2W","BMCGDg8","zfvkswW","vejAzhO","zMLSDgu","zgf0yq","CNjLBNq","zgj2BwC","CML0zxm","zsbMCM8","AgLUzYa","zvrOzw0","z2v0vxm","zgvZv2e","DgLJyxq","v3zquMe","oti0nZm4BvfVzLjo","zcb0BYa","thfTwMe","DgLUzYa","zgLZCge","C3rHDhm","l2f1DgG","t29nDNi","DM9YAxq","Ahr0Chm","C1DHDgm","zunOyw4","tw14AKy","Aw1gwee","Dgf0CZO","AwvZlMC","A2vU","q1j0rfC","zxbPC28","z2v0uhi","tgnWsKu","C3rHDgu","l3rOzw0","Bw92Awu","ywrKvg8","sNrKquy","z2v0v2e","yxrJAeW","C29Kzxm","CKr1uNa","DhjPz2C","mZnyrxnTq2e","mtiYoty3rwzztLzb","y2f0zwq","igfKzgK","wvL6Cxa"];return(Re=function(){return e})()}const Fe=nt;!function(){const e=nt,t=Xe();for(;;)try{if(493627===parseInt(e(200))/1*(parseInt(e(296))/2)+-parseInt(e(127))/3*(-parseInt(e(244))/4)+-parseInt(e(225))/5*(-parseInt(e(193))/6)+parseInt(e(338))/7*(-parseInt(e(259))/8)+parseInt(e(211))/9*(parseInt(e(252))/10)+parseInt(e(331))/11+-parseInt(e(320))/12)break;t.push(t.shift())}catch(s){t.push(t.shift())}}();const Ze=(Fe(410),Fe(418),Fe(337),Fe(213),"https"+Fe(410)+"ckend"+Fe(337)+Fe(213)+"d//"),Ge=le.create({baseURL:Ze,withCredentials:!0});Ge["inter"+Fe(340)+"rs"][Fe(334)+"st"][Fe(158)](e=>{const t=Fe,s={ScDXx:t(209)},r=localStorage.getItem(s[t(350)]);return r&&(e.headers[t(257)+t(290)+t(237)]=t(381)+"r "+r),e});const Ve=Fe(194)+Fe(300)+Fe(169),Ue=()=>{const e=Fe;e(135),e(365),e(299),e(176),e(194),e(382);try{const t=localStorage[e(234)+"em"](Ve);return t?JSON[e(250)](t):{}}catch(t){return{}}},Je=e=>{const t=Fe;t(196),t(285),t(146),t(415),t(376);try{localStorage[t(256)+"em"](Ve,JSON[t(279)+t(325)](e))}catch(s){}},$e=async()=>{const e=Fe,t={KzCks:function(e,t,s){return e(t,s)},IvPHt:e(394)+"progr"+e(297),lQgkW:function(e,t){return e(t)},oLBGC:function(e,t){return e===t},vNgaG:"Datab"+e(145)+"etch timed"+e(308)+e(348)+"g local data",ygPfU:function(e){return e()},XQetH:"Error"+e(399)+e(229)+e(415)+e(220)+e(226)+"B:",xnoYJ:function(e){return e()}};try{if(!He["getCu"+e(245)+"User"]())return{};const r=new AbortController,a=t.KzCks(setTimeout,()=>r[e(287)](),5e3);try{const s=await Ge[e(352)](t.IvPHt,{timeout:5e3,signal:r[e(172)+"l"]});return t[e(395)](clearTimeout,a),s[e(210)]||{}}catch(s){if(t[e(242)](s[e(341)],"Abort"+e(135))||s.code===e(324)+e(129)+"ED")return t[e(161)](Ue);throw s}}catch(r){return t[e(254)](Ue)}};function Xe(){const e=["tM8GChi","DgnOAw4","Dhvwsxq","DgvK","BfbpEKC","BMqGzge","DxnL","zxrLza","zgvSzxq","EwDqzLu","Du1SvgC","ihbYB2m","y2fSiha","DhLWzq","BMCGD2e","igrLBgu","tuvesue","CMvZCW","twvKAwe","qvrhDu4","C2LNBMe","BgfZDf8","B250Aw4","ihbHCNm","B2nHBca","v3LKyxi","C2HVD18","BwvZC2e","CgrHDgu","q2veB0i","yMPLy3q","C2HVD3m","yxzLihq","C0zPBMK","EK1xz0m","CYb0BYa","yxrJAgu","lI4U","ieLeigu","s3nsALG","CM9NCMu","mtiZmdGYofPswKrzDG","D2f0y2G","igLUks4","BMCGBg8","EunZuu4","yxrLzca","BMCGDg8","mZi0odG5yu9sEKnu","zg9wAMe","ig91DcK","C3LUyW","wMnpB0y","t0jwu04","ChvZAa","BgfZDfC","C2XPy2u","Dg9Rzw4","zgf0yq","ouzUAuTisW","DMfSDwu","AwvZlMC","zYbWCM8","zc4UlG","yxnLihm","BhKGC3K","C3rVCMe","zgnHC3q","zxnZigy","B2DYzxm","DfLYwvK","DMrAC0u","mcbTAw4","mtvVwwvTshu","CM9Tieq","y0j6BuW","rgf0ywi","AgLUzYa","CgvYDuS","zgvFD2e","r3vqs2K","AMPABvG","z2v0sxq","thrYzKi","r1zitLO","Aw9U","zxbPC28","DgfIyxm","uhnsqNm","zw1ZoG","B0Xcr0m","zM9Yrwe","ntqWmhzYuNnAAG","CNjLBNq","y3LVvxK","BM93","zeL0zw0","ywrKrxy","CgfYC2u","zYb1Cgq","mJyWmJaYmgTAy05Msa","zMXVB3i","Eg5VwuO","sM12D1C","C2v0sxq","qxv0Ag8","yu1mEeG","mZjUze9dvue","BgfZDfu","zxnZywC","BNvTyMu","zhrzwwS","Ag5Nwgq","qM9YuMG","z2v0q3u","ysbHDMe","uu5Yuhi","zgvZv2e","y29TCgW","zw4GBg8","Cg9ZDe0","B2DNzwq","uhjVz3i","BgvUz3q","lY9SB2m","igrHDge","sKPeuLC","C3rYAw4","vxnLCG","vgnbtvq","BNvLihC","DgnOzwq","uMrYt2S","y2fSihC","zcbWCM8","ywjVCNq","ig1PBNu","DhKGC3q","CML6yxq","D1HZwMS","A21trhG","u3rVCMu","u3HVrNi","C3mGDg8","ngHPAuDPtW","zxnZ","CM91BMq","Aw5NigW","x3bYB2C","ywXOB3m","zhvYyxq","AwXHyMW","ueveEKm","BMnLzca","Ahr0CdO","y2fSBgu","ig91DcW","Bg9N","Bxm6","u2f2Aw4","s2XcBxy","igv4Axm","BLjKq1G","DK5NyuC","uLH4r3a","uNLXAvi","Aw5NihC","DerWEfe","mJqWodC4mdrlBMHlBfq","Eu9VCLy","zvbYB2C","D2fYBG","runptK4","z2LMEq","yMv5sfq","ignHBgm","BMCGAxq","zxjYB3i","y29Kzq","otu4nZK1mNzJsMrcva","y2HLza","y2fSige","CMvXDwu","zxnZlW","AcbTzwq","lMzTB3y","mtiYota2Au1AyKD6","sg9yBMC","y2vWDg8","BMfTzq","q2DpEK4","zxnZig8","zYbPDgu","yxnLiha","B3v0lca","wu5drLO","ihvZAw4","DgL0Bgu","u2newhG","Aw5Nigm","z2v0","uuj1wwW","C29Tzq","zw50CMK","C2L6zq","DgLUzYa","DK90zM4","zw50tgK","ywnRzw4","qNrPqwe","qwLJELa","Dg9Yzwq","DxrLCW","ihjLywq","C29YDa","CM9TigW","Dg90ywW","Dg9tDhi","tgHiB2O","z2uGkgW","yMv0D2u","igDLDhq","sevJsfe","DwXHDgK","zxnZoG","txvHtuC","EgHny0K","ihn5BMm","zgDuveW","qMvHCMu","CMvZCZO","tgL3uLq","DdO1mda","zMLSDgu","zsb0BYa","tM8GBg8","qwjVCNq","EgLZDhm","Bw92Awu","ihnHDMK","yxrJAgK","BurlC3m","l2fWAs8","BffNA1C","CM9Tigi","DxbKyxq","wffLDeG","igzLDgm","CMvKDwm","Cg9ZAxq","wLjQAKO","vgPzDe8","rg9ItfO","CgfYzw4","rufNru8","r0DdyNG","A2v5CW","ihbYB2C","oI8VyMe","BujpD3G","C2vHC28","rgvSzxq","Cg9ZDa","ChjVz3i","tK5ntfe","rei6","y2TLBMq","BKrzCve","BL93yxq","C1n0yxi","whPfq1a","rNzzEu8","zgf0ywi","mZG3yLvPCNfM","DxzqtK0","qujpuLq","CMvZCYa","BwfW","B2jQzwm","y3rPDMK","z2Tbyu8","rxjYB3i","sgnXtM0","C3m6","C3nMDwW","tvrNwwm","Aw5Nihm","Dhm6","vgvOuhC","Aw1Lzca","igLUiha","yxnLigy","yxrJAca","y29UDgK","zcb3Axq","Aw5Nigy","u3vJy2u","AM9PBG"];return(Xe=function(){return e})()}const Qe=async()=>{const e=Fe,t={HoXng:function(e){return e()},KlBmv:e(135)+e(399)+e(229)+e(126)+e(345)+e(192)+e(137),EAgEO:e(135)+e(373)+e(318)+e(146)+"progress:"};try{if(!He[e(266)+"rrent"+e(280)]())return t[e(339)](Ue);try{return await t[e(339)]($e)}catch(s){return{}}}catch(r){return{}}},et=async e=>{const t=Fe,s={tYrYY:function(e,t){return e(t)},jVFkd:t(135)+t(391)+t(199)+t(277)+"base:"};try{if(!He[t(266)+t(245)+t(280)]())return void s[t(222)](Je,e);try{await(async e=>{const t=Fe,s={nRdCX:t(394)+t(415)+t(297),peruK:function(e,t){return e(t)},mBOwx:function(e,t){return e===t},kkfwH:t(228)+t(216)+t(184)+t(143)+t(346)+"saved to l"+t(176)+"storage"};try{if(!He["getCurrent"+t(280)]())return;const a=new AbortController,n=setTimeout(()=>a[t(287)](),5e3);try{await Ge[t(414)](s[t(314)],e,{timeout:5e3,signal:a.signal}),s[t(230)](clearTimeout,n)}catch(r){if(s.mBOwx(r[t(341)],t(388)+t(135))||s[t(411)](r[t(330)],t(324)+"ABORTED"))return void Je(e);throw r}}catch(a){throw a}})(e)}catch(r){throw r}}catch(a){throw a}},tt=e=>{const t=Fe,s={TyJtf:function(e,t){return e!==t},DobLZ:t(168)+"_DATA",QjGBn:"Error broa"+t(219)+"ing p"+t(192)+t(137)};try{s.TyJtf(window[t(405)+"t"],window)&&window[t(405)+"t"][t(272)+t(261)+"e"]({type:s[t(404)],data:e},"*")}catch(r){}},st=async(e,t,s,r)=>{const a=Fe,n={doVja:function(e){return e()},XzECP:function(e,t){return e*t},OjOAe:function(e,t){return e/t},TehPw:function(e,t){return e>=t},BtiAa:a(390),jjZmX:function(e,t){return e(t)}},o=await n[a(201)](Qe),i=Date[a(247)](),l=r?n[a(124)](n.OjOAe(s,r),100):0,d=n[a(142)](l,90),c={id:e,type:n[a(361)],title:t,progress:{watched:s,duration:r,percent:l,completed:d,last_watched:i},last_updated:i};o[e]=c,await et(o),n[a(233)](tt,c)},rt=async(e,t,s,r,a,n,o)=>{const i=Fe,l={ULDTt:function(e){return e()},SDKWK:function(e,t){return e*t},gkAaO:function(e,t){return e>=t},Hluxj:function(e,t){return e>t},dtYYk:function(e,t){return e*t},PIvyL:function(e,t){return e/t},Wmpmv:function(e,t){return e===t},IyKPy:function(e,t){return e(t)},xhMcI:function(e,t){return e(t)}},d=await l.ULDTt(Qe),c="s"+s+"e"+r,u=Date[i(247)](),m=n?l.SDKWK(a/n,100):0,x=l[i(134)](m,90),h=d[e]||{id:e,type:"tv",title:t,progress:{watched:0,total:o,percent:0,completed:!1,last_watched:u},show_progress:{},last_updated:u};!h["show_"+i(415)+i(297)]&&(h[i(178)+i(415)+i(297)]={}),h["show_"+i(415)+i(297)][c]={season:s,episode:r,progress:{watched:a,duration:n,completed:x,last_watched:u},last_updated:u},h["last_"+i(397)+"ed"]=u,h[i(173)+i(412)+i(122)+i(332)]=s,h[i(173)+i(238)+i(231)+i(283)]=r;const g=Object[i(212)+"s"](h[i(178)+i(415)+i(297)])[i(385)+"r"](e=>e["progr"+i(297)][i(194)+"ed"]>.9*e[i(415)+i(297)][i(302)+i(237)])[i(275)+"h"];h[i(415)+i(297)]={watched:g,total:o,percent:l.Hluxj(o,0)?l[i(263)](l.PIvyL(g,o),100):0,completed:l.Wmpmv(g,o),last_watched:u},d[e]=h,await l.IyKPy(et,d),l[i(378)](tt,h)},at=async(e,t,s,r)=>{const a=Fe,n={MTgYc:function(e){return e()},LhHoj:function(e,t){return e===t},KIFNx:"movie",cBzmL:function(e,t){return e===t},ZcOoF:a(262)+"r",tdzTZ:"Error"+a(373)+a(140)+a(363)+a(409)+a(382)};try{const o=await n[a(139)](Qe),i=t?.[a(369)+"ing"]();if(!i)return null;if(n[a(370)](e,n.KIFNx)){const e=o[i];return e?.[a(415)+a(297)]?.[a(194)+"ed"]&&e["progr"+a(297)][a(302)+a(237)]?e[a(415)+a(297)][a(194)+"ed"]:null}if(n.LhHoj(e,"tv")&&n[a(227)](typeof s,n.ZcOoF)&&n[a(370)](typeof r,n[a(204)])){const e=o[i],t="s"+s+"e"+r;if(e?.[a(178)+a(415)+a(297)]?.[t]){const s=e["show_"+a(415)+"ess"][t][a(415)+a(297)];if(s.watched&&s["durat"+a(237)])return s[a(194)+"ed"]}return null}return null}catch(o){return null}};function nt(e,t){const s=Xe();return nt=function(t,r){let a=s[t-=121];if(void 0===nt.nPfcsr){nt.SLxyTT=function(e){let t="",s="";for(let r,a,n=0,o=0;a=e.charAt(o++);~a&&(r=n%4?64*r+a:a,n++%4)?t+=String.fromCharCode(255&r>>(-2*n&6)):0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)s+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(s)},e=arguments,nt.nPfcsr=!0}const n=t+s[0],o=e[n];return o?a=o:(a=nt.SLxyTT(a),e[n]=a),a},nt(e,t)}const ot=async()=>{const e=Fe,t={CeDoB:function(e,t){return e>t},vdZsE:function(e,t){return e===t},Wydar:function(e,t){return e*t},aMLxH:function(e,t){return e/t},JmvwW:function(e){return e()},GVHNZ:e(152)+e(221)+"s dat"+e(267)+e(303)+e(386)+e(203),TjYtO:function(e,t){return e(t)},lRqbC:e(135)+e(379)+"ing p"+e(192)+"ss:"};try{if(!!!He[e(266)+e(245)+"User"]())return;const s=t[e(255)](Ue);if(0===Object.keys(s)[e(275)+"h"])return;const r=await $e(),a={},n=new Set([...Object[e(408)](s),...Object[e(408)](r)]);if(t[e(223)](n[e(356)],0))return;n[e(243)+"ch"](n=>{const o=e,i=s[n],l=r[n];if(i)if(l){if(a[n]=t[o(181)](i[o(173)+"updated"],l[o(173)+o(397)+"ed"])?i:l,t[o(223)](i[o(165)],"tv")&&"tv"===l[o(165)]){const e=new Set([...Object[o(408)](i[o(178)+o(415)+"ess"]||{}),...Object.keys(l["show_"+o(415)+o(297)]||{})]);a[n][o(178)+"progr"+o(297)]=a[n][o(178)+o(415)+o(297)]||{},e[o(243)+"ch"](e=>{const t=o,s=i[t(178)+t(415)+t(297)]?.[e],r=l["show_progr"+t(297)]?.[e];s?r?a[n]["show_"+t(415)+t(297)][e]=s[t(173)+t(397)+"ed"]>r[t(173)+"updated"]?s:r:a[n][t(178)+"progr"+t(297)][e]=s:a[n][t(178)+t(415)+t(297)][e]=r});const s=Object[o(212)+"s"](a[n]["show_"+o(415)+o(297)])[o(385)+"r"](e=>e[o(415)+o(297)][o(194)+"ed"]>.98*e[o(415)+o(297)].duration).length,r=a[n][o(415)+o(297)]?.[o(368)]||0;a[n]["progr"+o(297)]={...a[n][o(415)+o(297)],watched:s,percent:r>0?t[o(177)](t[o(258)](s,r),100):0}}}else a[n]=i;else a[n]=l}),await t[e(403)](et,a)}catch(s){}},it=async()=>{const e=Fe,t={YNCFZ:function(e){return e()},wXsZk:function(e){return e()}};if(He[e(266)+e(245)+e(280)]()){(()=>{const e=Fe,t={uMlTg:function(e,t){return e===t},GGCbx:"MEDIA_DATA",cyoUy:function(e){return e()},RXxGp:e(390),FvYyO:function(e,t){return e(t)},dgTTL:e(135)+e(163)+"essin"+e(214)+"gress"+e(379)+":",IzoZH:e(179)+"ge"};window[e(249)+e(359)+"stener"](t.IzoZH,async s=>{const r=e;try{if(t.uMlTg(s[r(210)]?.type,t[r(407)])){const e=s[r(210)][r(210)],a=await t[r(246)](Qe);e.id&&(t[r(162)](e[r(165)],t[r(316)])||"tv"===e[r(165)])&&(a[e.id]={...a[e.id],...e,type:e[r(165)],last_updated:Date[r(247)]()},await t[r(125)](et,a))}}catch(a){}})})();const s=t[e(347)](Ue);Object[e(408)](s)[e(275)+"h"]>0&&await t[e(291)](ot)}},lt=e=>{const t=Fe,s={beyHT:function(e,t){return e===t}};let r=0;return Object.values(e)[t(243)+"ch"](e=>{const a=t;s.beyHT(e[a(165)],a(390))&&e["progr"+a(297)]?.[a(194)+"ed"]?r+=e["progr"+a(297)][a(194)+"ed"]/60:s[a(326)](e[a(165)],"tv")&&e[a(178)+a(415)+"ess"]&&Object[a(212)+"s"](e["show_"+a(415)+a(297)])[a(243)+"ch"](e=>{const t=a;e[t(415)+"ess"]?.[t(194)+"ed"]&&(r+=e[t(415)+"ess"].watched/60)})}),Math[t(298)](r)},dt=async()=>{const e=Fe,t={RdrOk:function(e,t){return e>t},hngXd:function(e,t){return e*t},QNrPr:function(e,t){return e===t},tDpxQ:e(390),yCsQN:function(e,t){return e(t)},oHlUl:e(135)+e(327)+e(375)+e(166)+"tch a"+e(133)+e(289)+"ats:"};try{const s=await Qe(),r={totalWatchTime:t[e(197)](lt,s),moviesStarted:0,moviesFinished:0,showsStarted:0,episodesWatched:0,lastWatchedItems:[]};return Object[e(355)+"es"](s)[e(243)+"ch"](([s,a])=>{const n=e,o={uvPNM:function(e,s){return t.RdrOk(e,s)},yOorV:function(e,s){return t[nt(264)](e,s)}};if(r[n(207)+n(188)+"dItems"][n(206)]({id:s,type:a.type,title:a[n(349)],lastWatched:a[n(173)+n(397)+"ed"]}),t[n(268)](a[n(165)],t[n(319)]))a[n(415)+n(297)][n(302)+n(237)]&&a[n(415)+n(297)][n(194)+"ed"]>t[n(264)](a[n(415)+n(297)][n(302)+"ion"],.05)&&(r[n(390)+n(123)+n(155)]+=1,t[n(284)](a[n(415)+n(297)][n(194)+"ed"],.9*a[n(415)+n(297)][n(302)+"ion"])&&(r[n(390)+n(185)+"shed"]+=1));else if("tv"===a[n(165)]&&a[n(178)+n(415)+"ess"]){Object[n(212)+"s"](a[n(178)+n(415)+n(297)])[n(354)](e=>e[n(415)+n(297)][n(302)+n(237)]&&e[n(415)+n(297)][n(194)+"ed"]>.05*e.progress[n(302)+"ion"])&&(r[n(183)+"Started"]+=1,Object[n(212)+"s"](a[n(178)+n(415)+"ess"]).forEach(e=>{const t=n;e[t(415)+"ess"][t(302)+t(237)]&&o[t(128)](e[t(415)+"ess"][t(194)+"ed"],o[t(321)](e["progr"+t(297)][t(302)+"ion"],.9))&&(r[t(238)+t(269)+t(283)]+=1)}))}}),r[e(207)+e(188)+e(248)+"s"]=r[e(207)+e(188)+"dItems"][e(366)]((t,s)=>s[e(207)+"atched"]-t[e(207)+e(188)+"d"])[e(208)](0,5),r}catch(s){return{totalWatchTime:0,moviesStarted:0,moviesFinished:0,showsStarted:0,episodesWatched:0,lastWatchedItems:[]}}},ct=async e=>{const t=Fe,s={hjJzg:t(209),JNhDr:"Token exis"+t(141),ZRjjJ:t(413)+"ing f"+t(396)+t(360)+t(215),CgOzN:function(e){return e()},PsRBs:t(413)+t(149)+t(367)+"ocal "+t(218)+t(371)+t(273)+t(195)+"..",TcAMT:function(e,t){return e(t)},jNklk:"Delet"+t(149)+t(367)+"ocal "+t(218)+t(371)+t(273)+t(202)+t(189),LtrfB:t(274)+t(343)+t(182)+":",RyqiR:t(170)+t(190)+t(389)+t(144)+t(192)+t(137),oPflN:t(132)+"t",MuaMG:t(311)+t(251)+t(198)+t(415)+"ess:",lPOzG:t(135)+t(167)+t(357)+t(415)+t(376)};try{if(localStorage[t(234)+"em"](s.hjJzg)){await Ge[t(160)+"e"](t(394)+t(415)+t(335)+e);const r=s[t(342)](Ue);if(r&&r[e]){const a={...r};delete a[e],s[t(281)](Je,a)}}else{const a=localStorage[t(234)+"em"](Ve);if(a)try{const r=JSON[t(250)](a);if(r&&typeof r===s.oPflN&&r[e]){const s={...r};delete s[e],localStorage.setItem(Ve,JSON[t(279)+t(325)](s))}}catch(r){}}}catch(a){throw a}},ut=t.createContext({isAuthenticated:!1,setIsAuthenticated:()=>{}}),mt=()=>t.useContext(ut),xt=({children:e})=>{const[r,a]=t.useState(!1);return t.useEffect(()=>{(async()=>{const e=!!localStorage.getItem("token");if(a(e),e)try{await it()}catch(t){}})();const e=()=>{const e=localStorage.getItem("token");a(!!e)};return window.addEventListener("auth-state-change",e),()=>window.removeEventListener("auth-state-change",e)},[]),s.jsx(ut.Provider,{value:{isAuthenticated:r,setIsAuthenticated:a},children:e})},ht=({size:e=24,strokeWidth:t=1.5,...r})=>s.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:[s.jsx("path",{d:"M13.5 9L13.5 13M13.5 15L13.5 13M13.5 13L14.8706 11.4336M17 9L14.8706 11.4336M14.8706 11.4336L17 15",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M9.5 9L6.5 13.5L10 13.5L10 15",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"}),s.jsx("path",{d:"M2 18.4V5.6C2 5.26863 2.26863 5 2.6 5H21.4C21.7314 5 22 5.26863 22 5.6V18.4C22 18.7314 21.7314 19 21.4 19H2.6C2.26863 19 2 18.7314 2 18.4Z",stroke:"currentColor",strokeWidth:t})]}),gt=()=>{const[e,n]=t.useState(!1),[o,i]=t.useState(!1),[l,d]=t.useState(!1),[c,u]=t.useState(!1),[m,x]=t.useState(()=>"false"!==sessionStorage.getItem("adsEnabled")),[h,g]=t.useState(""),[f,b]=t.useState(null),{isAuthenticated:p}=mt(),v=a(),j=t.useRef(null),y=t.useRef(null),w=t.useRef(null);t.useEffect(()=>{if(p){const e=He.getCurrentUser();b(e)}else b(null)},[p]),t.useEffect(()=>{const e=e=>{j.current&&!j.current.contains(e.target)&&i(!1),y.current&&!y.current.contains(e.target)&&d(!1),w.current&&!w.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),t.useEffect(()=>()=>{document.body.style.overflow=""},[]);const N=e=>{e.preventDefault(),h.trim()&&(v(`/search?q=${encodeURIComponent(h.trim())}`),g(""))},z=()=>{const e=!m;x(e),sessionStorage.setItem("adsEnabled",e.toString()),window.location.reload()},k=()=>{He.logout(),i(!1),v("/")},C=e=>`https://api.dicebear.com/7.x/avataaars/svg?seed=${e}`;return s.jsxs("nav",{className:"fixed top-0 left-0 right-0 z-40 bg-background/90 backdrop-blur-md border-b border-border/30 shadow-lg pt-safe",children:[s.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(r,{to:"/home",className:"flex items-center space-x-2 group",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-brand to-brand/60 rounded-lg blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"}),s.jsx("div",{className:"relative px-3 py-1.5 bg-background/90 backdrop-blur-md rounded-lg ring-1 ring-border/40",children:s.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-brand to-brand/60 bg-clip-text text-transparent",children:"FMOVIES+"})})]})}),s.jsxs(r,{to:"/home",className:"flex ml-10 items-center text-foreground/80 hover:text-brand transition-colors group hidden md:flex",children:[s.jsx(M,{size:18,className:"mr-2 group-hover:scale-110 transition-transform"}),s.jsx("span",{children:"Home"})]}),s.jsxs("div",{className:"hidden md:flex ml-10 space-x-8",children:[s.jsxs("div",{className:"relative",ref:y,children:[s.jsxs("button",{onClick:()=>{d(!l)},className:"flex items-center text-foreground hover:text-brand transition-colors group",children:[s.jsx(S,{size:18,className:"mr-2 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"group-hover:bg-gradient-to-r from-brand to-brand/70 group-hover:bg-clip-text group-hover:text-transparent transition-all duration-300",children:"Browse"}),s.jsx(_,{size:16,className:"ml-1 transition-transform duration-200 "+(l?"rotate-180":"")})]}),l&&s.jsxs("div",{className:"absolute top-full left-0 mt-7 w-80 rounded-xl bg-background/90 backdrop-blur-md border border-brand/10 shadow-lg shadow-brand/5 py-3 animate-fade-in-down overflow-hidden",children:[s.jsx("div",{className:"px-4 py-2 mb-2",children:s.jsx("h3",{className:"text-sm font-medium text-foreground/60",children:"Browse Content"})}),s.jsxs("div",{className:"grid grid-cols-2 gap-2.5 px-3",children:[s.jsxs(r,{to:"/movies",className:"flex flex-col p-3 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group",onClick:()=>d(!1),children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors",children:s.jsx(A,{size:20,className:"text-brand"})}),s.jsx("div",{children:s.jsx("span",{className:"block font-medium",children:"Movies"})})]}),s.jsxs(r,{to:"/tv-series",className:"flex flex-col p-3 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group",onClick:()=>d(!1),children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors",children:s.jsx(B,{size:20,className:"text-brand"})}),s.jsx("div",{children:s.jsx("span",{className:"block font-medium",children:"TV Series"})})]}),s.jsxs(r,{to:"/genres",className:"flex flex-col p-3 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group",onClick:()=>d(!1),children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors",children:s.jsx(q,{size:20,className:"text-brand"})}),s.jsx("div",{children:s.jsx("span",{className:"block font-medium",children:"Genres"})})]}),s.jsxs(r,{to:"/top-imdb",className:"flex flex-col p-3 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group",onClick:()=>d(!1),children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors",children:s.jsx(T,{size:20,className:"text-brand"})}),s.jsx("div",{children:s.jsx("span",{className:"block font-medium",children:"Top IMDb"})})]}),s.jsxs(r,{to:"/collections",className:"flex flex-col p-3 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group",onClick:()=>d(!1),children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors",children:s.jsx(S,{size:20,className:"text-brand"})}),s.jsx("div",{children:s.jsx("span",{className:"block font-medium",children:"Collections"})})]}),s.jsxs(r,{to:"/4k",className:"flex flex-col p-3 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group",onClick:()=>d(!1),children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors",children:s.jsx(ht,{size:20,className:"text-brand"})}),s.jsx("div",{children:s.jsx("span",{className:"block font-medium",children:"4K"})})]})]})]})]}),s.jsxs(r,{to:"/mycorner?tab=watchlater",className:"flex items-center text-foreground hover:text-brand transition-colors group",children:[s.jsx(I,{size:18,className:"mr-2 group-hover:scale-110 transition-transform"}),s.jsx("span",{className:"group-hover:bg-gradient-to-r from-brand to-brand/70 group-hover:bg-clip-text group-hover:text-transparent transition-all duration-300",children:"My Corner"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("form",{onSubmit:N,className:"relative hidden md:block",children:[s.jsx("input",{type:"text",className:"bg-secondary/40 border border-brand/10 rounded-full py-2 px-4 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-brand/30 focus:border-transparent w-64 transition-all duration-200",placeholder:"Search movies, TV shows...",value:h,onChange:e=>g(e.target.value)}),s.jsx("button",{type:"submit",className:"absolute right-3 top-2.5 text-muted-foreground hover:text-brand transition-colors",children:s.jsx(E,{size:16})})]}),s.jsxs("div",{className:"relative hidden md:block",ref:w,children:[s.jsx("button",{onClick:()=>{u(!c)},className:"flex items-center space-x-2 bg-secondary/40 hover:bg-secondary/60 rounded-full p-2 transition-colors ring-1 ring-brand/10",title:"Settings",children:s.jsx(W,{size:18,className:"text-foreground/80"})}),c&&s.jsxs("div",{className:"absolute right-0 mt-7 w-80 rounded-xl bg-background/90 backdrop-blur-md border border-brand/10 shadow-lg shadow-brand/5 py-3 animate-fade-in-down overflow-hidden",children:[s.jsx("div",{className:"px-4 py-2 mb-2",children:s.jsx("h3",{className:"text-sm font-medium text-foreground/60",children:"Settings"})}),s.jsx("div",{className:"px-3",children:s.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-brand/5 rounded-xl transition-colors",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-foreground",children:"Advertisements"}),s.jsx("span",{className:"text-sm text-foreground/60",children:"Toggle website advertisements"})]}),s.jsx("button",{onClick:z,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors "+(m?"bg-brand/80":"bg-secondary/40"),children:s.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(m?"translate-x-6":"translate-x-1")})})]})})]})]}),p?s.jsxs("div",{className:"relative hidden md:block",ref:j,children:[s.jsxs("button",{onClick:()=>{i(!o)},className:"flex items-center space-x-2 bg-secondary/40 hover:bg-secondary/60 rounded-full pr-3 pl-1 py-1 transition-colors ring-1 ring-brand/10",children:[s.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden border border-brand/20 shadow-sm shadow-brand/10",children:f?.avatarUrl?s.jsx("img",{src:f.avatarUrl??C(f?.username),alt:f?.username,className:"h-full w-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-secondary/40",children:s.jsx(K,{size:16,className:"text-foreground/40"})})}),s.jsx("span",{className:"text-sm font-medium hidden sm:block text-foreground",children:f?.username}),s.jsx(_,{size:16,className:"text-foreground/60 transition-transform "+(o?"rotate-180":"")})]}),o&&s.jsxs("div",{className:"absolute right-0 mt-7 w-80 rounded-xl bg-background/90 backdrop-blur-md border border-brand/10 shadow-lg shadow-brand/5 py-3 animate-fade-in-down overflow-hidden",children:[s.jsx("div",{className:"px-4 py-2 mb-2",children:s.jsx("h3",{className:"text-sm font-medium text-foreground/60",children:"Account"})}),s.jsxs("div",{className:"px-3",children:[s.jsxs("div",{className:"flex items-center p-3 mb-2 bg-secondary/30 rounded-xl border border-brand/5",children:[s.jsx("div",{className:"h-10 w-10 rounded-xl overflow-hidden border border-brand/20 mr-3 shadow-sm shadow-brand/10",children:f?.avatarUrl?s.jsx("img",{src:f.avatarUrl??C(f?.username),alt:f?.username,className:"h-full w-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-secondary/40",children:s.jsx(K,{size:20,className:"text-foreground/40"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:f?.username}),s.jsx("p",{className:"text-xs text-foreground/60",children:f?.isAdmin?"Administrator":"Member"})]})]}),s.jsxs(r,{to:"/profile",className:"flex items-center p-3 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group",onClick:()=>i(!1),children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/40 flex items-center justify-center mr-3 group-hover:bg-brand/10 transition-colors",children:s.jsx(O,{size:20,className:"text-brand"})}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium",children:"Your Profile"}),s.jsx("span",{className:"text-xs text-foreground/60",children:"View and edit your profile"})]})]}),s.jsxs(r,{to:"/mycorner?tab=watchlater",className:"flex items-center p-3 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group",onClick:()=>i(!1),children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-secondary/40 flex items-center justify-center mr-3 group-hover:bg-brand/10 transition-colors",children:s.jsx(I,{size:20,className:"text-brand"})}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium",children:"My Corner"}),s.jsx("span",{className:"text-xs text-foreground/60",children:"Your personalized space"})]})]})]}),s.jsx("div",{className:"mt-3 px-3",children:s.jsxs("button",{onClick:k,className:"flex items-center p-3 text-red-500 hover:bg-red-500/5 rounded-xl transition-all duration-200 group w-full",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-red-500/10 flex items-center justify-center mr-3 group-hover:bg-red-500/20 transition-colors",children:s.jsx(P,{size:20,className:"text-red-500"})}),s.jsxs("div",{children:[s.jsx("span",{className:"block font-medium",children:"Sign Out"}),s.jsx("span",{className:"text-xs text-red-500/60",children:"Log out of your account"})]})]})})]})]}):s.jsxs(r,{to:"/login",className:"hidden",children:[s.jsx(Y,{size:16}),s.jsx("span",{className:"text-sm",children:"Sign In"})]}),s.jsx("button",{className:"md:hidden text-foreground hover:text-brand transition-colors p-2",onClick:()=>{const t=!e;n(t),document.body.style.overflow=t?"hidden":""},children:e?s.jsx(D,{size:24}):s.jsx(H,{size:24})})]})]}),e&&s.jsx("div",{className:"md:hidden fixed inset-0 top-[69px] z-100000 bg-background/90 backdrop-blur-md animate-fade-in touch-none",children:s.jsxs("div",{className:"h-[calc(100vh-69px-env(safe-area-inset-bottom))] overflow-y-auto px-4 py-4 pb-button-safe bg-background/90 backdrop-blur-md overscroll-contain touch-auto",children:[s.jsx("form",{onSubmit:N,className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",className:"w-full bg-secondary/40 border border-brand/10 rounded-xl py-3 px-4 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-brand/30 focus:border-transparent transition-all duration-200",placeholder:"Search movies, TV shows...",value:h,onChange:e=>g(e.target.value)}),s.jsx("button",{type:"submit",className:"absolute right-3 top-3 text-muted-foreground hover:text-brand transition-colors",children:s.jsx(E,{size:18})})]})}),p&&s.jsxs("div",{className:"bg-secondary/30 backdrop-blur-md rounded-xl mb-6 overflow-hidden border border-brand/10 shadow-md",children:[s.jsxs(r,{to:"/profile",className:"flex items-center p-4 hover:bg-brand/5 transition-colors",onClick:()=>n(!1),children:[s.jsx("div",{className:"h-14 w-14 rounded-full overflow-hidden border-2 border-brand/40 mr-4 shadow-sm shadow-brand/10",children:f?.avatarUrl?s.jsx("img",{src:f.avatarUrl??C(f?.username),alt:f?.username,className:"h-full w-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-secondary/60",children:s.jsx(O,{size:24,className:"text-foreground/60"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-base font-medium text-foreground",children:f?.username}),s.jsx("p",{className:"text-xs text-muted-foreground",children:f?.isAdmin?"Administrator":"Member"})]})]}),s.jsxs("button",{onClick:()=>{k(),n(!1)},className:"w-full flex items-center p-3 text-destructive border-t border-border/30 hover:bg-destructive/10 transition-colors",children:[s.jsx(P,{size:18,className:"mr-2"}),s.jsx("span",{children:"Sign Out"})]})]}),s.jsx("div",{className:"bg-secondary/30 backdrop-blur-md rounded-xl mb-6 overflow-hidden border border-brand/10 shadow-md",children:s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-foreground",children:"Advertisements"}),s.jsx("span",{className:"text-sm text-foreground/60",children:"Toggle website advertisements"})]}),s.jsx("button",{onClick:z,className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors "+(m?"bg-brand/80":"bg-secondary/40"),children:s.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform "+(m?"translate-x-6":"translate-x-1")})})]})})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[s.jsxs(r,{to:"/home",className:"flex flex-col p-4 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group bg-secondary/30 backdrop-blur-md border border-brand/10 shadow-md",onClick:()=>n(!1),children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors mx-auto",children:s.jsx(M,{size:24,className:"text-brand"})}),s.jsx("span",{className:"text-center font-medium",children:"Home"})]}),s.jsxs(r,{to:"/movies",className:"flex flex-col p-4 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group bg-secondary/30 backdrop-blur-sm border border-brand/10 shadow-md",onClick:()=>n(!1),children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors mx-auto",children:s.jsx(A,{size:24,className:"text-brand"})}),s.jsx("span",{className:"text-center font-medium",children:"Movies"})]}),s.jsxs(r,{to:"/tv-series",className:"flex flex-col p-4 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group bg-secondary/30 backdrop-blur-md border border-brand/10 shadow-md",onClick:()=>n(!1),children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors mx-auto",children:s.jsx(B,{size:24,className:"text-brand"})}),s.jsx("span",{className:"text-center font-medium",children:"TV Series"})]}),s.jsxs(r,{to:"/top-imdb",className:"flex flex-col p-4 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group bg-secondary/30 backdrop-blur-md border border-brand/10 shadow-md",onClick:()=>n(!1),children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors mx-auto",children:s.jsx(T,{size:24,className:"text-brand"})}),s.jsx("span",{className:"text-center font-medium",children:"Top IMDb"})]}),s.jsxs(r,{to:"/genres",className:"flex flex-col p-4 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group bg-secondary/30 backdrop-blur-md border border-brand/10 shadow-md",onClick:()=>n(!1),children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors mx-auto",children:s.jsx(q,{size:24,className:"text-brand"})}),s.jsx("span",{className:"text-center font-medium",children:"Genres"})]}),s.jsxs(r,{to:"/4k",className:"flex flex-col p-4 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group bg-secondary/30 backdrop-blur-md border border-brand/10 shadow-md",onClick:()=>n(!1),children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors mx-auto",children:s.jsx(ht,{size:24,className:"text-brand"})}),s.jsx("span",{className:"text-center font-medium",children:"4K"})]}),s.jsxs(r,{to:"/collections",className:"flex flex-col p-4 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group bg-secondary/30 backdrop-blur-md border border-brand/10 shadow-md",onClick:()=>n(!1),children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors mx-auto",children:s.jsx(S,{size:24,className:"text-brand"})}),s.jsx("span",{className:"text-center font-medium",children:"Collections"})]}),s.jsxs(r,{to:"/mycorner?tab=watchlater",className:"flex flex-col p-4 text-foreground hover:bg-brand/5 hover:text-brand rounded-xl transition-all duration-200 group bg-secondary/30 backdrop-blur-md border border-brand/10 shadow-md",onClick:()=>n(!1),children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors mx-auto",children:s.jsx(I,{size:24,className:"text-brand"})}),s.jsx("span",{className:"text-center font-medium",children:"My Corner"})]}),!p&&s.jsxs(r,{to:"/login",className:"hidden",onClick:()=>n(!1),children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-secondary/40 flex items-center justify-center mb-2 group-hover:bg-brand/10 transition-colors mx-auto",children:s.jsx(Y,{size:24,className:"text-brand"})}),s.jsx("span",{className:"text-center font-medium",children:"Sign In"})]})]}),s.jsx("div",{className:"h-8"})]})})]})},ft=Ct;!function(){const e=Ct,t=Nt();for(;;)try{if(286426===-parseInt(e(460))/1+-parseInt(e(412))/2+parseInt(e(380))/3+parseInt(e(279))/4*(parseInt(e(389))/5)+parseInt(e(363))/6+-parseInt(e(357))/7*(-parseInt(e(283))/8)+-parseInt(e(345))/9*(parseInt(e(356))/10))break;t.push(t.shift())}catch(s){t.push(t.shift())}}();const bt=ft(414)+ft(294)+ft(304)+"by.ap"+ft(284),pt=ft(312)+ft(395)+ft(368)+ft(354)+"55e4d"+ft(417)+"85",vt="https"+ft(398)+ft(346)+ft(456)+ft(300)+"p",jt=ft(414)+ft(398)+"age.t"+ft(456)+ft(300)+"p/w500",yt=ft(414)+ft(398)+ft(346)+ft(456)+ft(300)+ft(317)+ft(442),wt=[10,86311,295,2980,645,87359,528,328,1241,1582,131296,573436,556,263,2602,2344,131635,33514,420,283579,8091,91361,124916,1709,126125,9485,10194];function Nt(){const e=["oI8VAw0","x3jLz2K","zgvZyW","vw5PDgu","yxbWBgu","DwXHCG","sejp","AwrLCNm","BgvHC2u","l3rYzw4","rLvosKW","DgvZ","t3npuMy","uvfly2e","mta4mZqYmNLfwNfWsa","zwDHDgu","Ahr0Chm","DgHTsha","D3m6","ndiWnJG","l3nLyxi","tM05q1C","DZDizKW","nJy2ks8","AgjV","z2rVBq","vgvuugm","C2v0rge","zwLcntC","ywXS","CL9Wyxq","zgLZBMu","l3r2l3a","y2GVy28","AfKYvxq","ifrwkW","ExDxzgm","D00UCg4","AgvTB3y","ztCUCg4","DgvK","B3bFCMe","z2vUCMu","zs9WB3a","z2LUywW","Aw5N","BhrP","Dg90ywW","z0O4vLG","y20UCg4","Bwf4","BgvUz3q","x2rHDgu","zcblAw4","mJqUCg4","C3rHDhu","BgXzzwe","B3jNl3q","BwrIlM8","A2v5pq","igzLDgm","CMvZDwW","mJa0nJeWru9fsxb4","Bw92Awu","z3nFDg8","zNjVBq","AvzYC3a","ywLYx2q","qxv0shK","sMfWyw4","rxriwwe","CNLFCMu","qMney2G","l3aVAdu","B3b1Bge","otK4nZzkB21HBva","sw5KAwe","l2rPC2m","qxbWBgu","ognJwNLstG","Cc8Z","neviDLi","D1jTqu0","z2v0rge","lteYltm","AgfZ","l2nVBgW","rM5ltvy","DgvYkg4","tfzyB2y","oI8Vzgi","s2TguxO","B29bvLu","D3DLBxO","BgfZDf8","x2nVBgW","CMCVDc8","ltaXlta","ChjPBwu","yxrO","lMnPBMu","vIbZAg8","mf9MAwW","u3bHAw4","zezyC1G","l21VDMK","zMLSDgu","zgLHlNq","ywqZmde","zwn0Aw8","igzYB20","qw1HEM8","x3bYB3y","Cc9VCMK","D2f0y2G","wuPgzKm","Cg9WDwW","DvbuCxe","Euj5rvy","D2vLAW","yxzLCMe","ldaWmcW","ohDIodi","l2DLBNi","qxvhvtC","B3zLCI8","qZjKreC","uwzps3G","rxjYB3i","BMv0zMW","AgLUzYa","zgLUzY8","swDgC3K","reTIywy","B05Sz00","l2XPC3q","sgPxBLG","x3bHz2u","sw5cyK8","BhrZ","Cg9ZDgu","mti2odeWDKrut3bc","ywDLlNq","oI8VBwu","BvnrDeW","z2uUzgu","y2GVBxu","t0Dcu3u","uwLMrfu","x3jLC3u","oti3m2u","u291DgG","mJuWuLjcCxbc","mZG4nZG3mgjWvgHkBG","r2vYBwe","CKjMCxy","AM9PBG","Cg1izui","CMvKig0","odKZnJr5tfvuEM4","qNjHEMK","s1D6AKS","l3r2lW","yxjPDhK","mMzMzte","qw8YBhy","rMfPBgu","CM9Wx3a","zxjYB3i","zMv0y2G","ywLOuxi","EKOUCg4","D2L0Af8","Bdjmn1C","nKPtDtm","DMfSDwu","mtyYmdeWmMrLwhruua","AwvKyI4","CMf0Aw4","zMLYC3q","shztyJC","Dg9tDhi","vtu4Dwq","yMvSB24","r0LZtxK","ntvPuerQAxK","neTbEtm","sxrHBhK","wxrRDxy","z2v0rNu","ChjPBwe","yJDJyZG","lMrLC2m","CK1oExK"];return(Nt=function(){return e})()}const zt=(e,t="w500")=>e?vt+"/"+t+e:"",kt=async(e,t={})=>{const s=ft,r={IgFsy:function(e,t){return e(t)}},a=new URLSearchParams({...t});try{const t=await r[s(336)](fetch,""+bt+e+"?"+a+"&api_"+s(457)+pt);if(!t.ok)throw new Error("Error: "+t[s(453)+"s"]);return await t.json()}catch(n){throw n}};function Ct(e,t){const s=Nt();return Ct=function(t,r){let a=s[t-=273];if(void 0===Ct.FZJINc){Ct.WLQOua=function(e){let t="",s="";for(let r,a,n=0,o=0;a=e.charAt(o++);~a&&(r=n%4?64*r+a:a,n++%4)?t+=String.fromCharCode(255&r>>(-2*n&6)):0)a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(a);for(let r=0,a=t.length;r<a;r++)s+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(s)},e=arguments,Ct.FZJINc=!0}const n=t+s[0],o=e[n];return o?a=o:(a=Ct.WLQOua(a),e[n]=a),a},Ct(e,t)}const Dt=async(e=ft(427),t=ft(323))=>{const s=ft;return(await kt(s(407)+s(335)+e+"/"+t))[s(459)+"ts"]},Lt=async(e=1)=>{const t=ft,s={OGBSu:function(e,t,s){return e(t,s)},mSQtL:t(309)+t(441)+"ular"};return(await s[t(351)](kt,s[t(348)],{page:e[t(385)+"ing"]()}))[t(459)+"ts"]},Mt=async(e=1)=>{const t=ft,s={TeTPc:function(e,t,s){return e(t,s)},lPuke:"/movie/top_rated"};return(await s[t(424)](kt,s.lPuke,{page:e[t(385)+"ing"]()}))[t(459)+"ts"]},St=async(e=1)=>{const t=ft,s={KtpkO:function(e,t,s){return e(t,s)},hXXEz:t(430)+t(278)+"r"};return(await s.KtpkO(kt,s.hXXEz,{page:e[t(385)+"ing"]()}))[t(459)+"ts"]},_t=async(e=1)=>{const t=ft,s={OsORf:function(e,t,s){return e(t,s)},AutHy:"/tv/t"+t(439)+t(438)};return(await s[t(410)](kt,s[t(466)],{page:e[t(385)+"ing"]()}))[t(459)+"ts"]},At=async e=>{const t=ft,s={QifDU:function(e,t,s){return e(t,s)},iVrsp:t(418)+t(350)+t(444)};return(await s[t(352)](kt,s[t(464)],{query:e}))[t(459)+"ts"]},Bt=async(e,t=ft(461),s=1)=>{const r=ft;return(await{yByEV:function(e,t,s){return e(t,s)}}[r(322)](kt,r(281)+r(329)+t,{with_genres:e["toStr"+r(443)](),page:s[r(385)+r(443)]()})).results},qt=async(e=ft(461))=>{const t=ft;return(await{InBbO:function(e,t){return e(t)}}[t(342)](kt,t(327)+"e/"+e+t(339)))[t(440)+"s"]},Tt=[{id:ft(333)+"ix",name:"Netflix",providerId:8,logoPath:ft(414)+"://me"+ft(311)+"hemov"+ft(381)+ft(455)+ft(277)+"0_fil"+ft(292)+ft(413)+ft(325)+ft(421)+ft(297)+ft(365)+ft(319)+ft(426)+"q3r4B"+ft(447)+"g"},{id:ft(302),name:ft(315)+"n Prime",providerId:9,logoPath:"https"+ft(347)+ft(311)+ft(436)+ft(381)+"org/t"+ft(277)+"0_filter(n"+ft(413)+ft(325)+ft(421)+ft(420)+ft(419)+ft(286)+ft(386)+ft(377)+ft(437)+"g"},{id:ft(429)+"y",name:"Disney+",providerId:337,logoPath:"https"+ft(347)+ft(311)+ft(436)+"iedb."+ft(455)+"/p/h5"+ft(306)+ft(292)+ft(413)+ft(325)+ft(421)+ft(446)+ft(378)+"ciXHu"+ft(330)+ft(369)+ft(435)+"g"},{id:ft(422),name:ft(404),providerId:3,logoPath:ft(414)+ft(347)+"db.themoviedb."+ft(455)+"/p/h5"+ft(306)+ft(292)+ft(413)+ft(325)+ft(421)+"tuomP"+ft(432)+ft(321)+ft(291)+ft(384)+ft(452)+"g"},{id:ft(402),name:ft(282)+ft(433),providerId:350,logoPath:ft(414)+ft(347)+ft(311)+ft(436)+"iedb."+ft(455)+ft(277)+ft(306)+"ter(n"+ft(413)+ft(325)+ft(421)+ft(390)+ft(285)+"M25Ih"+ft(326)+ft(328)+ft(375)+"g"}];ft(401),ft(409),ft(401),ft(451),ft(423),ft(273),ft(355),ft(358),ft(391),ft(307),ft(280),ft(364);const It=(e,t)=>{const s=ft,r={dFXsX:s(320)+s(367),EtHYa:s(320)+s(367)+s(396),thmHp:"vote_"+s(324)+s(349)+"sc",KkFQz:s(461),Ytkuv:s(383)+"_air_date."+s(400)};switch(e){case r[s(308)]:return r[s(274)];case s(382)+"g":return r[s(415)];case"date":return t===r[s(295)]?s(394)+s(275)+s(406)+s(450)+s(396):r[s(392)];default:return r.EtHYa}},Et=e=>{const t=Tt.find(t=>t.id===e);return t?t.providerId:null},Wt=async(e="popul"+ft(367),t=[2e3,(new Date)[ft(393)+ft(454)+"r"]()],s,r,a=1,n="US")=>{const o=ft,i={FUNJL:function(e,t,s){return e(t,s)},ywWdc:o(461),ooAVU:function(e,t){return e>t},BcDch:function(e,t){return e(t)},QfOKx:function(e,t,s){return e(t,s)},DKbaf:o(281)+o(329)+o(461),rBfqv:o(332)+o(458)+"hing filte"+o(362)+"ovies:"};try{const l=i[o(408)](It,e,i[o(434)]),d=t[0]+"-01-01",c={sort_by:l,"primary_release_date.gte":d,"primary_release_date.lte":t[1]+(o(288)+"1"),page:a[o(385)+"ing"](),"vote_count.gte":"50"};if(s&&i[o(296)](s.length,0)&&(c[o(376)+o(440)+"s"]=s[o(360)](",")),r){const e=i[o(276)](Et,r);e&&(c[o(376)+o(318)+o(316)+o(405)]=e["toStr"+o(443)](),c["watch"+o(399)+"on"]=n)}const u=await i[o(331)](kt,i[o(337)],c);return{results:u[o(459)+"ts"],total_pages:u[o(445)+"_pages"]||1,total_results:u[o(445)+o(353)+o(343)]||0}}catch(l){return{results:[],total_pages:1,total_results:0}}},Kt=async(e="popularity",t=[2e3,(new Date)["getFu"+ft(454)+"r"]()],s,r,a=1,n="US",o=!1)=>{const i=ft,l={ltiAU:function(e,t,s){return e(t,s)},EBSjK:function(e,t){return e(t)},HjWnX:function(e,t,s){return e(t,s)},oNlgM:i(281)+"over/tv",aihQr:function(e,t){return e-t},QQKca:i(332)+i(458)+i(334)+i(310)+"red T"+i(305)+i(416)};try{const d=l.ltiAU(It,e,"tv"),c=t[0]+(i(301)+"1"),u={sort_by:d,"first_air_date.gte":c,"first_air_date.lte":t[1]+(i(288)+"1"),page:a["toStr"+i(443)](),"vote_count.gte":"50"};if(s&&s.length>0&&(u[i(376)+"genres"]=s[i(360)](",")),r){const e=l.EBSjK(Et,r);e&&(u[i(376)+i(318)+i(316)+"iders"]=e.toString(),u[i(318)+"_region"]=n)}const m=await l[i(340)](kt,l[i(338)],u);let x=m[i(459)+"ts"];if(o){const e=new Date;e[i(425)+"te"](l[i(374)](e[i(287)+"te"](),14)),x=x[i(310)+"r"](t=>{const s=i;if(!t[s(298)+s(465)+"ate"])return!1;return new Date(t[s(298)+s(465)+"ate"])>=e})}return{results:x,total_pages:o?Math[i(448)](1,Math.ceil(x.length/20)):m[i(445)+i(341)+"s"]||1,total_results:o?x[i(449)+"h"]:m[i(445)+i(353)+i(343)]||0}}catch(d){return{results:[],total_pages:1,total_results:0}}},Ot=async(e,t=1)=>{const s=ft,r={GIsMy:function(e,t,s){return e(t,s)},VpsmA:s(418)+s(431)+"llection"},a=await r[s(388)](kt,r.VpsmA,{query:e,page:t[s(385)+s(443)]()});return{results:a[s(459)+"ts"],total_pages:a[s(445)+s(341)+"s"],total_results:a[s(445)+s(353)+"lts"]}},Pt=async e=>{const t=ft;return await(s=kt,r=t(290)+"ection/"+e,s(r));var s,r},Yt=()=>{const[e,r]=t.useState(""),[n,o]=t.useState([]),[i,l]=t.useState(""),d=a();t.useEffect(()=>{(async()=>{try{const e=await Dt("all","week");if(e&&e.length>0){o(e);const t=e.filter(e=>e.backdrop_path);if(t.length>0){const e=t[Math.floor(Math.random()*Math.min(5,t.length))];l(`${yt}${e.backdrop_path}`)}}}catch(e){}})()},[]);const c=()=>{d("/home")};return s.jsxs(s.Fragment,{children:[s.jsx(gt,{}),s.jsxs("div",{className:"min-h-screen bg-background pt-16",children:[s.jsxs("div",{className:"relative w-full overflow-hidden h-[80vh]",children:[i&&s.jsx("div",{className:"absolute inset-0 bg-cover bg-center z-0",style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center top"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/90 to-background/60 z-1"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background/90 to-transparent z-1"}),s.jsx("div",{className:"container mx-auto px-4 py-20 relative z-10 h-full flex items-center",children:s.jsxs("div",{className:"max-w-4xl text-left space-y-8",children:[s.jsxs("div",{className:"animate-fade-in",children:[s.jsx("h1",{className:"text-6xl md:text-8xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-brand to-brand/70",children:"Fmovies"}),s.jsx("p",{className:"text-xl md:text-3xl text-foreground/90 mb-4 font-semibold",children:"Your Ultimate Streaming Experience"}),s.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl",children:"Discover thousands of movies and TV shows, all in one place. Stream your favorite content in high quality, completely free."})]}),s.jsx("div",{className:"w-full max-w-2xl animate-slide-up",style:{animationDelay:"0.2s"},children:s.jsxs("form",{onSubmit:t=>{t.preventDefault(),e.trim()&&d(`/search?q=${encodeURIComponent(e.trim())}`)},className:"relative group",children:[s.jsx("input",{type:"text",className:"w-full bg-background/80 backdrop-blur-md border border-border/40 rounded-xl py-4 px-6 pr-12 text-foreground focus:outline-none focus:ring-2 focus:ring-brand/50 focus:border-transparent transition-all duration-300",placeholder:"Search for movies, TV shows...",value:e,onChange:e=>r(e.target.value)}),s.jsx("button",{type:"submit",className:"absolute right-4 top-1/2 -translate-y-1/2 text-brand hover:text-brand/80 transition-colors",children:s.jsx(E,{size:24})})]})}),s.jsx("div",{className:"animate-slide-up",style:{animationDelay:"0.4s"},children:s.jsxs("button",{onClick:c,className:"group inline-flex items-center gap-2 bg-brand hover:bg-brand/90 text-background font-bold py-3 px-8 rounded-full transition-all duration-300 hover:scale-105 shadow-lg shadow-brand/20",children:[s.jsx(R,{size:20,className:"group-hover:translate-x-1 transition-transform"}),"Start Exploring",s.jsx(F,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})})]})})]}),s.jsx("div",{className:"container mx-auto px-4 -mt-16 relative z-20",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 animate-fade-in",style:{animationDelay:"0.6s"},children:[s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-4 rounded-lg border border-border/40 shadow-xl hover:shadow-2xl transition-shadow",children:[s.jsxs("h3",{className:"text-brand font-bold text-lg flex items-center gap-2",children:[s.jsx(T,{className:"h-5 w-5"}),"HD Quality"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Crystal clear streaming"})]}),s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-4 rounded-lg border border-border/40 shadow-xl hover:shadow-2xl transition-shadow",children:[s.jsxs("h3",{className:"text-brand font-bold text-lg flex items-center gap-2",children:[s.jsx(Z,{className:"h-5 w-5"}),"No Ads"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Uninterrupted viewing"})]}),s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-4 rounded-lg border border-border/40 shadow-xl hover:shadow-2xl transition-shadow",children:[s.jsxs("h3",{className:"text-brand font-bold text-lg flex items-center gap-2",children:[s.jsx(G,{className:"h-5 w-5"}),"Free Access"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No subscription needed"})]}),s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-4 rounded-lg border border-border/40 shadow-xl hover:shadow-2xl transition-shadow",children:[s.jsxs("h3",{className:"text-brand font-bold text-lg flex items-center gap-2",children:[s.jsx(V,{className:"h-5 w-5"}),"Regular Updates"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Latest content added daily"})]})]})}),s.jsxs("div",{className:"container mx-auto px-4 py-16 mt-8",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("h2",{className:"text-3xl font-bold text-foreground/90 flex items-center justify-center mb-4",children:[s.jsx("span",{className:"w-1 h-6 bg-brand rounded-full mr-4"}),"Explore Our Content"]}),s.jsx("p",{className:"text-muted-foreground max-w-3xl mx-auto",children:"From latest blockbuster movies to trending TV shows, Fmovies offers a vast selection of entertainment options for every taste"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl group shadow-xl",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-black/20 z-10"}),n.length>0&&n[0].backdrop_path&&s.jsx("img",{src:`${yt}${n[0].backdrop_path}`,alt:"Movies",className:"w-full h-80 object-cover group-hover:scale-105 transition-transform duration-500"}),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-6 z-20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(A,{className:"h-6 w-6 text-brand"}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:"Movies"})]}),s.jsx("p",{className:"text-white/80 mb-4",children:"Discover the latest blockbusters and timeless classics"}),s.jsxs("button",{onClick:()=>d("/home"),className:"bg-brand/90 hover:bg-brand text-background py-2 px-4 rounded-lg inline-flex items-center gap-2 w-fit transition-colors",children:["Explore Movies ",s.jsx(F,{size:16})]})]})]}),s.jsxs("div",{className:"relative overflow-hidden rounded-2xl group shadow-xl",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-black/20 z-10"}),n.length>1&&n[1].backdrop_path&&s.jsx("img",{src:`${yt}${n[1].backdrop_path}`,alt:"TV Shows",className:"w-full h-80 object-cover group-hover:scale-105 transition-transform duration-500"}),s.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-6 z-20",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(B,{className:"h-6 w-6 text-brand"}),s.jsx("h3",{className:"text-2xl font-bold text-white",children:"TV Shows"})]}),s.jsx("p",{className:"text-white/80 mb-4",children:"Binge-watch your favorite series and discover new shows"}),s.jsxs("button",{onClick:()=>d("/home"),className:"bg-brand/90 hover:bg-brand text-background py-2 px-4 rounded-lg inline-flex items-center gap-2 w-fit transition-colors",children:["Explore TV Shows ",s.jsx(F,{size:16})]})]})]})]})]}),s.jsxs("div",{className:"container mx-auto px-4 py-16 space-y-12",children:[s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs("h2",{className:"text-3xl font-bold text-foreground/90 flex items-center justify-center mb-4",children:[s.jsx("span",{className:"w-1 h-6 bg-brand rounded-full mr-4"}),"Features of Fmovies"]}),s.jsx("p",{className:"text-muted-foreground max-w-3xl mx-auto",children:"Experience the best streaming service with these amazing features"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-6 rounded-xl border border-border/40 space-y-4 shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-brand/10 flex items-center justify-center",children:s.jsx(U,{className:"h-6 w-6 text-brand"})}),s.jsx("h4",{className:"text-xl font-semibold",children:"High Quality Content"}),s.jsx("p",{className:"text-muted-foreground",children:"Watch Movies online in high quality without any video lagging. All movies come with subtitles."})]}),s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-6 rounded-xl border border-border/40 space-y-4 shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-brand/10 flex items-center justify-center",children:s.jsx(J,{className:"h-6 w-6 text-brand"})}),s.jsx("h4",{className:"text-xl font-semibold",children:"All Devices Compatible"}),s.jsx("p",{className:"text-muted-foreground",children:"Use this website with all devices like TV, Smartphone, laptop or tablet. Find any Movies or TV show easily with our clean interface."})]}),s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-6 rounded-xl border border-border/40 space-y-4 shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-brand/10 flex items-center justify-center",children:s.jsx(V,{className:"h-6 w-6 text-brand"})}),s.jsx("h4",{className:"text-xl font-semibold",children:"Extensive Library"}),s.jsx("p",{className:"text-muted-foreground",children:"Fmovies has a vast collection of Movies and TV shows with Different genres section. We update website daily with new content."})]}),s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-6 rounded-xl border border-border/40 space-y-4 shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-brand/10 flex items-center justify-center",children:s.jsx(G,{className:"h-6 w-6 text-brand"})}),s.jsx("h4",{className:"text-xl font-semibold",children:"Totally Free"}),s.jsx("p",{className:"text-muted-foreground",children:"Our website is totally free of cost. Watch Movies as much as you want without compromising quality. Share with friends and family."})]}),s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-6 rounded-xl border border-border/40 space-y-4 shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-brand/10 flex items-center justify-center",children:s.jsx($,{className:"h-6 w-6 text-brand"})}),s.jsx("h4",{className:"text-xl font-semibold",children:"No Installation Required"}),s.jsx("p",{className:"text-muted-foreground",children:"Watch TV shows and Movies online without installing any app or software. No account creation or personal information required."})]}),s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-6 rounded-xl border border-border/40 space-y-4 shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-brand/10 flex items-center justify-center",children:s.jsx(Z,{className:"h-6 w-6 text-brand"})}),s.jsx("h4",{className:"text-xl font-semibold",children:"No Ads"}),s.jsx("p",{className:"text-muted-foreground",children:"We ensure the best movie watching experience with no ads, allowing you to focus solely on watching your desired movies."})]})]})]}),s.jsxs("div",{className:"container mx-auto px-4 py-16 mb-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsxs("h2",{className:"text-3xl font-bold text-foreground/90 flex items-center justify-center mb-4",children:[s.jsx("span",{className:"w-1 h-6 bg-brand rounded-full mr-4"}),"Frequently Asked Questions"]}),s.jsx("p",{className:"text-muted-foreground max-w-3xl mx-auto",children:"Get answers to common questions about our streaming service"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-6 rounded-xl border border-border/40 space-y-2 shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("h4",{className:"text-xl font-semibold text-brand",children:"What is Fmovies?"}),s.jsx("p",{className:"text-muted-foreground",children:"Fmovies is a free streaming platform that offers a vast collection of movies and TV shows in high quality with minimal ads."})]}),s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-6 rounded-xl border border-border/40 space-y-2 shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("h4",{className:"text-xl font-semibold text-brand",children:"Is Fmovies safe to use?"}),s.jsx("p",{className:"text-muted-foreground",children:"Yes, Fmovies is safe to use. We prioritize user safety and for additional security, we recommend using a reliable VPN."})]}),s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-6 rounded-xl border border-border/40 space-y-2 shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("h4",{className:"text-xl font-semibold text-brand",children:"Does Fmovies support different qualities and subtitles?"}),s.jsx("p",{className:"text-muted-foreground",children:"Yes, we offer multiple quality options (360p, 720p, 1080p) and support various subtitle languages to enhance your viewing experience."})]}),s.jsxs("div",{className:"bg-background/90 backdrop-blur-md p-6 rounded-xl border border-border/40 space-y-2 shadow-lg hover:shadow-xl transition-shadow",children:[s.jsx("h4",{className:"text-xl font-semibold text-brand",children:"Is Fmovies compatible with mobile devices?"}),s.jsx("p",{className:"text-muted-foreground",children:"Yes, Fmovies is fully compatible with all devices including smartphones, tablets, laptops, and smart TVs. No app installation is required."})]})]}),s.jsx("div",{className:"flex justify-center mt-10",children:s.jsxs("button",{onClick:c,className:"bg-brand text-background font-semibold py-3 px-8 rounded-full shadow-lg shadow-brand/20 hover:bg-brand/90 transition-colors flex items-center gap-2",children:["Start Watching Now ",s.jsx(F,{size:18})]})})]})]})]})},Ht=({items:e})=>{const[a,n]=t.useState(0),o=()=>{n(t=>t===e.length-1?0:t+1)};if(t.useEffect(()=>{const e=setInterval(()=>{o()},6e3);return()=>clearInterval(e)},[a,e.length]),!e.length)return null;const i=e[a],l="title"in i,d=l?i.title:i.name,c=l?i.release_date:i.first_air_date,u=c?new Date(c).getFullYear():null,m=l?`/movie/${i.id}`:`/tv/${i.id}`,x=i.vote_average.toFixed(1);return s.jsxs("div",{className:"relative h-[60vh] md:h-[80vh] w-full overflow-hidden group",children:[s.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-1000",style:{backgroundImage:`url(${zt(i.backdrop_path,"original")})`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/60 to-transparent"})}),s.jsx("div",{className:"relative h-full container mx-auto px-4 flex items-end pb-24",children:s.jsxs("div",{className:"max-w-3xl space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4 text-foreground",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-brand/90 backdrop-blur-none px-4 py-2 rounded-full",children:[s.jsx(T,{size:18,className:"text-background"}),s.jsx("span",{className:"font-semibold text-background",children:x})]}),u&&s.jsx("div",{className:"bg-background/10 backdrop-blur-sm px-4 py-2 rounded-full text-white/90 font-medium",children:u})]}),s.jsx("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-white drop-shadow-sm",children:d}),s.jsx("p",{className:"text-lg text-white/90 line-clamp-3 md:line-clamp-none max-w-2xl drop-shadow-sm",children:i.overview}),s.jsxs(r,{to:m,className:"group inline-flex items-center gap-2 bg-brand hover:bg-brand/90 text-background font-bold py-4 px-8 rounded-full transition-all duration-300 hover:scale-105",children:[s.jsx(R,{size:24,className:"group-hover:translate-x-1 transition-transform"}),"Watch Now"]})]})}),s.jsx("button",{onClick:()=>{n(t=>0===t?e.length-1:t-1)},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-background/10 backdrop-blur-sm rounded-full p-4 text-white hover:bg-background/20 hover:scale-110 transition-all duration-300 opacity-0 group-hover:opacity-100",children:s.jsx(X,{size:28})}),s.jsx("button",{onClick:o,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-background/10 backdrop-blur-sm rounded-full p-4 text-white hover:bg-background/20 hover:scale-110 transition-all duration-300 opacity-0 group-hover:opacity-100",children:s.jsx(Q,{size:28})}),s.jsx("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-2",children:e.map((e,t)=>s.jsx("button",{onClick:()=>n(t),className:"w-2 h-2 rounded-full transition-all duration-300 "+(t===a?"bg-brand w-8":"bg-white/50 hover:bg-white/80")},t))})]})},Rt=({activeTab:e,onTabChange:t})=>s.jsxs("div",{className:"flex items-center gap-4 mb-8 px-4",children:[s.jsx("button",{onClick:()=>t("movies"),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("movies"===e?"bg-brand text-black":"bg-secondary/50 text-foreground/70 hover:bg-secondary"),children:"Movies"}),s.jsx("button",{onClick:()=>t("tv"),className:"px-4 py-2 rounded-lg font-medium transition-colors "+("tv"===e?"bg-brand text-black":"bg-secondary/50 text-foreground/70 hover:bg-secondary"),children:"TV Shows"})]}),Ft=({item:e})=>{const t="/4k"===n().pathname,a="media_type"in(o=e)?"movie"===o.media_type:"title"in o;var o;let i,l="";l=a?"title"in e?e.title:"":"name"in e?e.name:"",i=a?"release_date"in e?e.release_date:void 0:"first_air_date"in e?e.first_air_date:void 0;const d=i?new Date(i).getFullYear():null,c=void 0!==e.vote_average?e.vote_average.toFixed(1):"N/A",u=a?`/movie/${e.id}`:`/tv/${e.id}`;return s.jsx("div",{className:"relative",onClick:()=>window.location.reload(),children:s.jsx(r,{to:u,className:"block",children:s.jsxs("div",{className:"relative aspect-[2/3] rounded-lg overflow-hidden bg-secondary/20 group/movie",children:[e.poster_path?s.jsx("img",{src:zt(e.poster_path,"w342"),alt:l,className:"w-full h-full object-cover transition-transform duration-300 group-hover/movie:scale-105",loading:"lazy"}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-secondary/30 text-foreground/40",children:[s.jsx(K,{size:48,className:"mb-2"}),s.jsx("span",{className:"text-sm font-medium px-4 text-center",children:"No Image Available"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 via-background/20 to-transparent opacity-0 group-hover/movie:opacity-100 transition-opacity duration-300"}),void 0!==e.vote_average&&s.jsxs("div",{className:"absolute top-2 right-2 bg-background/90 backdrop-blur-sm text-foreground text-sm font-semibold px-2 py-1 rounded-md flex items-center gap-1",children:[s.jsx(T,{size:14,className:"text-brand fill-brand"}),c]}),t&&s.jsx("div",{className:"absolute top-2 left-2 bg-background/90 backdrop-blur-sm text-brand p-1.5 rounded-md",children:s.jsx(ht,{size:22})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 transform translate-y-full group-hover/movie:translate-y-0 transition-transform duration-300",children:[s.jsx("h3",{className:"text-white font-semibold text-sm line-clamp-2",children:l}),!!d&&s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:d})]})]})})})},Zt=({item:e,progressData:t})=>{const r=a(),n="title"in e?e.title:e.name,o=e.poster_path||"";return s.jsx("div",{className:"relative cursor-pointer",onClick:s=>{if(!s.target.closest(".delete-button"))if("movie"===t.type)r(`/watch/movie/${e.id}`);else if("tv"===t.type){const s=t.last_season_watched,a=t.last_episode_watched;s&&a&&r(`/watch/tv/${e.id}/${s}/${a}`)}},children:s.jsxs("div",{className:"relative aspect-[2/3] rounded-lg overflow-hidden bg-secondary/20",children:[s.jsx("img",{src:`https://image.tmdb.org/t/p/w500${o}`,alt:n,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110"}),s.jsx("button",{onClick:t=>{t.stopPropagation();const s=localStorage.getItem("watch_progress");if(s){const t=JSON.parse(s);delete t[e.id.toString()],localStorage.setItem("watch_progress",JSON.stringify(t)),window.dispatchEvent(new CustomEvent("watchProgressUpdated",{detail:{id:e.id.toString()}}))}},className:"delete-button absolute top-2 right-2 bg-background/80 backdrop-blur-sm p-2 rounded-lg hover:bg-background/60 transition-colors duration-300",title:"Remove from Continue Watching",children:s.jsx(D,{size:16,className:"text-foreground"})}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/80 to-transparent",children:[s.jsx("h3",{className:"text-white font-semibold text-sm line-clamp-2",children:n}),"tv"===t.type&&s.jsx("p",{className:"text-xs text-gray-300 mt-1",children:(()=>{if("tv"===t.type&&t.show_progress){const e=t.last_season_watched,s=t.last_episode_watched;if(e&&s)return`S${e}E${s}`}return""})()}),s.jsx("div",{className:"mt-2 h-1 bg-white/20 rounded-full",children:s.jsx("div",{className:"h-full bg-brand rounded-full",style:{width:`${(()=>{if("movie"===t.type)return t.progress.watched/t.progress.duration*100;if("tv"===t.type&&t.show_progress){const e=t.last_season_watched,s=t.last_episode_watched;if(e&&s){const r=`s${e}e${s}`,a=t.show_progress[r];if(a)return a.progress.watched/a.progress.duration*100}}return 0})()}%`}})})]})]})})},Gt=({title:e,items:r,isContinueWatching:a=!1,showProgress:n=!1,progressData:o={}})=>{const[i,l]=t.useState(!1),d=t.useRef(null),c=e=>{if(l(!0),d.current){const{scrollLeft:t,clientWidth:s}=d.current,r="left"===e?t-s:t+s;d.current.scrollTo({left:r,behavior:"smooth"})}};return r.length?s.jsxs("div",{className:"relative",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4 px-4",children:e}),s.jsxs("div",{className:"relative",children:[s.jsx(X,{className:`absolute top-1/2 -translate-y-1/2 left-0 z-20 h-12 w-12 cursor-pointer opacity-70 transition-all duration-300 hover:opacity-100 hover:scale-110 ${!i&&"hidden"}`,onClick:()=>c("left")}),s.jsx("div",{className:"flex space-x-4 overflow-x-auto pb-6 px-4 scrollbar-none",ref:d,style:{scrollbarWidth:"none"},children:a?r.map(e=>s.jsx("div",{className:"flex-none w-[200px]",children:s.jsx(Zt,{item:e,progressData:o[e.id.toString()]})},e.id)):r.map(e=>{const t=e;return s.jsxs("div",{className:"flex-none w-[160px] md:w-[180px] group relative",children:[s.jsx(Ft,{item:e}),n&&"progress"in t&&"number"==typeof t.progress&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-secondary/30",children:s.jsx("div",{className:"h-full bg-brand",style:{width:`${Math.min(t.progress,100)}%`}})}),n&&"media_type"in t&&"tv"===t.media_type&&"season"in t&&"episode"in t&&"number"==typeof t.season&&"number"==typeof t.episode&&s.jsxs("div",{className:"absolute top-2 left-2 bg-secondary/60 backdrop-blur-sm text-foreground text-xs px-2 py-0.5 rounded-md z-10",children:["S",t.season,"E",t.episode]})]},e.id)})}),s.jsx(Q,{className:"absolute top-1/2 -translate-y-1/2 right-0 z-20 h-12 w-12 cursor-pointer opacity-70 transition-all duration-300 hover:opacity-100 hover:scale-110",onClick:()=>c("right")})]})]}):null},Vt=({id:e,title:t,type:a,posterPath:n})=>s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center mb-6 gap-4 relative pl-3 md:pl-4",children:[s.jsx("div",{className:"absolute -inset-4 bg-gradient-to-r from-background via-brand/5 to-background rounded-xl -z-10"}),s.jsxs("h2",{className:"text-2xl font-bold text-foreground/90 flex items-center md:hidden",children:[s.jsx("span",{className:"w-1 h-6 bg-brand rounded-full mr-4 animate-pulse"}),"Because You Watched"]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(r,{to:`/${a}/${e}`,className:"block relative group",children:s.jsxs("div",{className:"w-10 h-15 md:w-16 md:h-24 rounded-lg overflow-hidden bg-secondary/20 shadow-lg transition-transform duration-300 group-hover:scale-105 border border-transparent group-hover:border-brand/30",children:[n?s.jsx("img",{src:zt(n,"w92"),alt:t,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center bg-secondary/30 text-foreground/40",children:s.jsx(K,{size:16,className:"mb-1"})}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 bg-black/70 transition-opacity duration-300",children:s.jsx(se,{size:24,className:"text-white"})})]})}),s.jsxs("div",{className:"ml-3",children:[s.jsxs("h2",{className:"hidden md:block text-2xl font-bold text-foreground/90 mb-1",children:[s.jsx("span",{className:"inline-block w-1 h-6 bg-brand rounded-full mr-4 align-middle animate-pulse"}),"Because You Watched"]}),s.jsxs(r,{to:`/${a}/${e}`,className:"text-lg font-medium text-brand hover:text-brand/80 transition-colors hover:underline",children:['"',t,'"']}),s.jsx("p",{className:"text-sm text-foreground/60",children:"More like this"})]})]})]})}),Ut=({isLoading:e,error:t,recommendationsGroups:r,onRetry:a})=>e?s.jsxs("section",{className:"space-y-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground/90 flex items-center",children:[s.jsx("span",{className:"w-1 h-6 bg-brand rounded-full mr-4"}),"Because You Watched"]}),s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(ee,{className:"h-8 w-8 animate-spin text-brand"})})]}):t?s.jsxs("section",{className:"space-y-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground/90 flex items-center",children:[s.jsx("span",{className:"w-1 h-6 bg-brand rounded-full mr-4"}),"Because You Watched"]}),s.jsxs("div",{className:"p-8 rounded-lg bg-background/50 border border-border/50 text-center",children:[s.jsx(te,{className:"h-8 w-8 text-brand/60 mx-auto mb-2"}),s.jsx("p",{className:"text-foreground/60 mb-3",children:"Unable to load recommendations"}),s.jsx("button",{onClick:a,className:"text-sm px-4 py-1.5 rounded-lg bg-brand/20 hover:bg-brand/30 text-brand",children:"Try Again"})]})]}):r.length>0?s.jsxs("section",{className:"space-y-6",children:[s.jsx(Vt,{id:r[0].sourceId,title:r[0].sourceTitle,type:r[0].sourceType,posterPath:r[0].sourcePosterPath}),s.jsx(Gt,{title:"",items:r[0].recommendations})]}):null,Jt=({title:e,viewAllLink:t})=>s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground/90 flex items-center",children:[s.jsx("span",{className:"w-1 h-6 bg-brand rounded-full mr-4"}),e]}),t&&s.jsxs(r,{to:t,className:"flex items-center text-foreground/60 hover:text-brand transition-colors text-sm font-medium",children:["View All ",s.jsx(Q,{size:16,className:"ml-1"})]})]}),$t=({isLoading:e,error:t,media:r,onRetry:a})=>s.jsxs("section",{className:"hidden",children:[s.jsx(Jt,{title:"Continue Watching"}),e?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(ee,{className:"h-8 w-8 animate-spin text-brand"})}):t?s.jsxs("div",{className:"p-8 rounded-lg bg-background/50 border border-border/50 text-center",children:[s.jsx(te,{className:"h-8 w-8 text-brand/60 mx-auto mb-2"}),s.jsx("p",{className:"text-foreground/60 mb-3",children:"Unable to load your watch history"}),s.jsx("button",{onClick:a,className:"text-sm px-4 py-1.5 rounded-lg bg-brand/20 hover:bg-brand/30 text-brand",children:"Try Again"})]}):r.length>0?s.jsx(Gt,{title:"",items:r,showProgress:!0}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx("p",{className:"text-foreground/60 text-lg",children:"You haven't started watching anything yet"}),s.jsx("p",{className:"text-foreground/40 text-sm mt-2",children:"Start watching a movie or TV show to see it here"})]})]}),Xt=({title:e,genreId:t,mediaType:r,isLoading:a,error:n,items:o,onRetry:i})=>s.jsxs("div",{className:"mb-12",children:[s.jsx(Jt,{title:e,viewAllLink:`/${r}?genre=${"movies"===r?t.movie:t.tv}`}),a?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(ee,{className:"h-8 w-8 animate-spin text-brand"})}):n?s.jsxs("div",{className:"p-8 rounded-lg bg-background/50 border border-border/50 text-center",children:[s.jsx(te,{className:"h-8 w-8 text-brand/60 mx-auto mb-2"}),s.jsxs("p",{className:"text-foreground/60 mb-3",children:["Unable to load ",e.toLowerCase()," ",r]}),s.jsx("button",{onClick:i,className:"text-sm px-4 py-1.5 rounded-lg bg-brand/20 hover:bg-brand/30 text-brand",children:"Try Again"})]}):o&&o.length>0?s.jsx(Gt,{title:"",items:o}):s.jsx("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:s.jsxs("p",{className:"text-foreground/60 text-lg",children:["No ",e.toLowerCase()," ",r," available"]})})]}),Qt=({title:e,viewAllLink:t,isLoading:r,error:a,items:n,onRetry:o})=>s.jsxs("section",{className:"space-y-6",children:[s.jsx(Jt,{title:e,viewAllLink:t}),r?s.jsx("div",{className:"flex justify-center py-8",children:s.jsx(ee,{className:"h-8 w-8 animate-spin text-brand"})}):a?s.jsxs("div",{className:"p-8 rounded-lg bg-background/50 border border-border/50 text-center",children:[s.jsx(te,{className:"h-8 w-8 text-brand/60 mx-auto mb-2"}),s.jsxs("p",{className:"text-foreground/60 mb-3",children:["Unable to load ",e.toLowerCase()]}),s.jsx("button",{onClick:o,className:"text-sm px-4 py-1.5 rounded-lg bg-brand/20 hover:bg-brand/30 text-brand",children:"Try Again"})]}):n&&n.length>0?s.jsx(Gt,{title:"",items:n}):s.jsx("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:s.jsxs("p",{className:"text-foreground/60 text-lg",children:["No ",e.toLowerCase()," available"]})})]}),es={movie:28,tv:10759},ts={movie:35,tv:35},ss={movie:27,tv:9648},rs={movie:878,tv:10765},as=({collection:e})=>s.jsxs(r,{to:`/collections/${e.id}`,className:"block relative group overflow-hidden rounded-xl shadow-lg hover:shadow-brand/20 transition-shadow duration-300",children:[s.jsx("div",{className:"aspect-video bg-secondary/30",children:e.backdrop_path||e.poster_path?s.jsx("img",{src:zt(e.backdrop_path||e.poster_path,"w780"),alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy"}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-foreground/40",children:[s.jsx(K,{size:40,className:"mb-2"}),s.jsx("span",{className:"text-sm",children:"No Image"})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 md:p-5 text-white",children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold line-clamp-1 mb-1",children:e.name}),e.parts&&s.jsxs("p",{className:"text-xs md:text-sm text-gray-300 mb-2 md:mb-3",children:[e.parts.length," Movies"]}),s.jsx("button",{className:"bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/30 text-white font-medium py-1.5 px-3 md:py-2 md:px-4 rounded-lg text-xs md:text-sm transition-colors",onClick:t=>{t.preventDefault(),document.getElementById(`collection-link-${e.id}`)?.click()},children:"View Collection"}),s.jsx("span",{id:`collection-link-${e.id}`,style:{display:"none"}})]})]}),ns=({title:e,viewAllLink:t})=>s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-2xl font-bold text-foreground/90 flex items-center",children:[s.jsx("span",{className:"w-1 h-6 bg-brand rounded-full mr-4"}),e]}),t&&s.jsxs(r,{to:t,className:"flex items-center text-foreground/60 hover:text-brand transition-colors text-sm font-medium",children:["View All ",s.jsx(Q,{size:16,className:"ml-1"})]})]}),os=({collections:e})=>{const t=e.slice(0,3);return t.length?s.jsxs("div",{className:"relative py-8 my-6",children:[s.jsx(ns,{title:"Featured Collections"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 px-4",children:t.map(e=>s.jsx(as,{collection:e},e.id))}),s.jsx("div",{className:"mt-8 text-center",children:s.jsxs(r,{to:"/collections",className:"inline-flex items-center justify-center bg-secondary hover:bg-secondary/80 text-foreground/90 font-medium py-2.5 px-5 rounded-lg transition-colors",children:[s.jsx(S,{size:18,className:"mr-2"}),"Browse All Collections"]})})]}):null},is=()=>{const{isAuthenticated:e}=mt(),[r,a]=t.useState([]),[n,o]=t.useState([]),[i,l]=t.useState(!0),[d,c]=t.useState(!1),[u,x]=t.useState([]),[h,g]=t.useState(!1),[f,b]=t.useState(!1),[p,v]=t.useState([]),[j,y]=t.useState(!0),[w,N]=t.useState(!1),[z,k]=t.useState([]),[C,D]=t.useState(!0),[L,M]=t.useState(!1),[S,_]=t.useState("movies"),{data:A,isLoading:B,isError:q,refetch:T}=m({queryKey:["trending"],queryFn:()=>Dt("all","week"),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),{data:I,isLoading:E,isError:W,refetch:K}=m({queryKey:["popularMovies"],queryFn:()=>Lt(),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),{data:O,isLoading:P,isError:Y,refetch:H}=m({queryKey:["popularTVShows"],queryFn:()=>St(),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),{data:R,isLoading:F,isError:Z,refetch:G}=m({queryKey:["topRatedMovies"],queryFn:()=>Mt(),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),{data:U,isLoading:J,isError:$,refetch:X}=m({queryKey:["topRatedTVShows"],queryFn:()=>_t(),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),{data:Q,isLoading:se,isError:re,refetch:ae}=m({queryKey:["actionMovies"],queryFn:()=>Bt(es.movie,"movie"),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),{data:ne,isLoading:oe,isError:ie,refetch:le}=m({queryKey:["comedyMovies"],queryFn:()=>Bt(ts.movie,"movie"),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),{data:de,isLoading:ce,isError:ue,refetch:me}=m({queryKey:["horrorMovies"],queryFn:()=>Bt(ss.movie,"movie"),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),{data:xe,isLoading:he,isError:ge,refetch:fe}=m({queryKey:["sciFiMovies"],queryFn:()=>Bt(rs.movie,"movie"),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),{data:be,isLoading:pe,isError:ve,refetch:je}=m({queryKey:["actionTVShows"],queryFn:()=>Bt(es.tv,"tv"),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),{data:ye,isLoading:we,isError:Ne,refetch:ze}=m({queryKey:["comedyTVShows"],queryFn:()=>Bt(ts.tv,"tv"),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),{data:ke,isLoading:Ce,isError:De,refetch:Le}=m({queryKey:["horrorTVShows"],queryFn:()=>Bt(ss.tv,"tv"),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),{data:Me,isLoading:Se,isError:_e,refetch:Ae}=m({queryKey:["sciFiTVShows"],queryFn:()=>Bt(rs.tv,"tv"),retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)});t.useEffect(()=>{if(A){const e=A.filter(e=>e.backdrop_path&&e.overview);a(e.slice(0,5))}},[A]),t.useEffect(()=>{const e=async()=>{l(!0),c(!1),y(!0),N(!1);try{const e=await Qe(),s=Object.entries(e).map(([e,t])=>{if("movie"===t.type)return{id:e,type:"movie",title:t.title,progress:t.progress.percent||0,lastUpdated:t.last_updated,position:t.progress.watched,duration:t.progress.duration||0,completed:t.progress.completed};if("tv"===t.type&&t.show_progress){const s=Object.values(t.show_progress).sort((e,t)=>t.last_updated-e.last_updated)[0];if(s)return{id:e,type:"tv",title:t.title,progress:s.progress.watched/s.progress.duration*100,lastUpdated:s.last_updated,position:s.progress.watched,duration:s.progress.duration,season:s.season,episode:s.episode,completed:s.progress.completed}}return null}).filter(e=>null!==e),r=[...s].sort((e,t)=>t.lastUpdated-e.lastUpdated),a=[...s].sort((e,t)=>e.completed&&!t.completed?-1:!e.completed&&t.completed?1:t.progress-e.progress).slice(0,5);if(r.length>0){const e=new Set([...r.map(e=>e.id),...a.map(e=>e.id)]),n=await Be(Array.from(e).map(e=>{const t=s.find(t=>t.id===e);return{id:e,mediaType:t?.type||"movie"}})),i=r.map(e=>{const t=n.find(t=>t.id===Number(e.id));return t?{...t,id:t.id,title:t.title||t.name||"",name:t.name||t.title||"",poster_path:t.poster_path,backdrop_path:t.backdrop_path||"",vote_average:t.vote_average,overview:t.overview||"",genre_ids:t.genre_ids||[],media_type:e.type,progress:e.progress,season:e.season,episode:e.episode}:null}).filter(e=>null!==e),l=a.map(e=>{const t=n.find(t=>t.id===Number(e.id));return t?{...t,id:t.id,title:t.title||t.name||"",name:t.name||t.title||"",poster_path:t.poster_path,backdrop_path:t.backdrop_path||"",vote_average:t.vote_average,overview:t.overview||"",genre_ids:t.genre_ids||[],media_type:e.type,progress:e.progress,season:e.season,episode:e.episode}:null}).filter(e=>null!==e);o(i),v(l),i.length>0&&t(i)}}catch(e){c(!0),N(!0)}finally{l(!1),y(!1)}},t=async e=>{try{g(!0),b(!1);const t=e.length>=5?[...e].sort((e,t)=>{const s="progress"in e?e.progress:0;return("progress"in t?t.progress:0)-s}).slice(0,3):e.slice(0,Math.min(3,e.length));if(0===t.length)return;const s=t.map(async e=>{try{const t="media_type"in e&&e.media_type?e.media_type:e.first_air_date?"tv":"movie",s=e.id,r=await fetch(`${bt}/${t}/${s}?api_key=${pt}&append_to_response=recommendations,similar`);if(!r.ok)return null;const a=await r.json(),n=(a.recommendations?.results?.length>0?a.recommendations.results:a.similar?.results)||[];return n.length>0?{sourceId:Number(s),sourceTitle:a.title||a.name||"",sourceType:t,sourcePosterPath:a.poster_path||"",recommendations:n.slice(0,10).map(e=>({...e,media_type:e.media_type||(e.first_air_date?"tv":"movie")}))}:null}catch(t){return null}}),r=(await Promise.all(s)).filter(e=>null!==e);x(r)}catch(t){b(!0)}finally{g(!1)}};e();const s=()=>{e()};return window.addEventListener("watchProgressUpdated",s),()=>{window.removeEventListener("watchProgressUpdated",s)}},[e]);const Be=async e=>{const t=e.map(async e=>{const t=Number(e.id),s=e.mediaType;if(!s)return null;try{const e=await fetch(`${bt}/${s}/${t}?api_key=${pt}`);if(!e.ok)return null;const r=await e.json();return{...r,media_type:s,genre_ids:r.genres?.map(e=>e.id)||[]}}catch(r){return null}});return(await Promise.all(t)).filter(e=>null!==e)},qe=()=>{if(e){const e=new Event("watchProgressUpdated");window.dispatchEvent(e)}},Te=B||E||P||F||J||se||oe||ce||he||pe||we||Ce||Se||C,Ie=q||W||Y||Z||$||re||ie||ue||ge||ve||Ne||De||_e||L,Ee=()=>{if(q&&T(),W&&K(),Y&&H(),Z&&G(),$&&X(),re&&ae(),ie&&le(),ue&&me(),ge&&fe(),ve&&je(),Ne&&ze(),De&&Le(),_e&&Ae(),qe(),L){(async()=>{D(!0),M(!1);try{const t=[],s=wt.slice(0,7);for(const r of s)try{const e=await Pt(r);t.push(e)}catch(e){}k(t)}catch(e){M(!0)}finally{D(!1)}})()}};return t.useEffect(()=>{(async()=>{D(!0),M(!1);try{const t=[],s=wt.slice(0,7);for(const r of s)try{const e=await Pt(r);t.push(e)}catch(e){}k(t)}catch(e){M(!0)}finally{D(!1)}})()},[]),Te?s.jsxs(s.Fragment,{children:[s.jsx(gt,{}),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsx(ee,{className:"h-10 w-10 animate-spin text-brand"})})]}):Ie?s.jsxs(s.Fragment,{children:[s.jsx(gt,{}),s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-background p-4",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-500/10 flex items-center justify-center",children:s.jsx(te,{className:"h-8 w-8 text-red-500"})}),s.jsx("h2",{className:"text-xl font-semibold mb-2 text-center",children:"Something went wrong"}),s.jsx("p",{className:"text-foreground/60 mb-6 max-w-md text-center",children:"We're having trouble loading content. Please check your connection and try again."}),s.jsxs("button",{onClick:Ee,className:"px-5 py-2.5 rounded-lg bg-brand hover:bg-brand/90 text-white flex items-center gap-2 transition-colors",children:[s.jsx(V,{size:16,className:"animate-spin"}),s.jsx("span",{children:"Retry"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(gt,{}),s.jsxs("main",{className:"pt-16 min-h-screen bg-background",children:[r&&r.length>0&&s.jsx(Ht,{items:r}),s.jsx("div",{className:"container mx-auto px-4 py-12",children:s.jsxs("div",{className:"space-y-16",children:[s.jsx($t,{isLoading:i,error:d,media:n,onRetry:qe}),s.jsx(Ut,{isLoading:h,error:f,recommendationsGroups:u,onRetry:()=>{qe()}}),s.jsx(Qt,{title:"Popular Movies",viewAllLink:"/movies",isLoading:E,error:W,items:I||[],onRetry:()=>K()}),s.jsx(Qt,{title:"Popular TV Shows",viewAllLink:"/tv-series",isLoading:P,error:Y,items:O||[],onRetry:()=>H()}),s.jsx("section",{className:"space-y-6",children:s.jsx(os,{collections:z})}),s.jsx(Qt,{title:"Top Rated TV Shows",viewAllLink:"/tv-series?sort=rating",isLoading:J,error:$,items:U||[],onRetry:()=>X()}),s.jsx(Qt,{title:"Trending This Week",viewAllLink:"/trending",isLoading:B,error:q,items:A||[],onRetry:()=>T()}),s.jsx("section",{className:"space-y-6",children:s.jsxs("div",{className:"border-t border-border/50 pt-8",children:[s.jsx(Rt,{activeTab:S,onTabChange:_}),s.jsx(Xt,{title:"Action",genreId:es,mediaType:S,isLoading:"movies"===S?se:pe,error:"movies"===S?re:ve,items:"movies"===S?Q||[]:be||[],onRetry:()=>"movies"===S?ae():je()}),s.jsx(Xt,{title:"Comedy",genreId:ts,mediaType:S,isLoading:"movies"===S?oe:we,error:"movies"===S?ie:Ne,items:"movies"===S?ne||[]:ye||[],onRetry:()=>"movies"===S?le():ze()}),s.jsx(Xt,{title:"Horror",genreId:ss,mediaType:S,isLoading:"movies"===S?ce:Ce,error:"movies"===S?ue:De,items:"movies"===S?de||[]:ke||[],onRetry:()=>"movies"===S?me():Le()}),s.jsx(Xt,{title:"Sci-Fi",genreId:rs,mediaType:S,isLoading:"movies"===S?he:Se,error:"movies"===S?ge:_e,items:"movies"===S?xe||[]:Me||[],onRetry:()=>"movies"===S?fe():Ae()})]})})]})})]})]})},ls=()=>{const e=n();return t.useEffect(()=>{},[e.pathname]),s.jsxs(s.Fragment,{children:[s.jsx(gt,{}),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})]})},ds=()=>{const{pathname:e}=n();return t.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"})},[e]),null},cs=({collection:e})=>{const t=e.poster_path?zt(e.poster_path):e.backdrop_path?zt(e.backdrop_path):null,a=e.parts?.length||0;return s.jsx("div",{className:"relative",children:s.jsx(r,{to:`/collections/${e.id}`,className:"block",children:s.jsxs("div",{className:"relative aspect-[2/3] rounded-lg overflow-hidden bg-secondary/20 group/movie",children:[t?s.jsx("img",{src:t,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover/movie:scale-105",loading:"lazy"}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-secondary/30 text-foreground/40",children:[s.jsx(K,{size:48,className:"mb-2"}),s.jsx("span",{className:"text-sm font-medium px-4 text-center",children:"No Image Available"})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 via-background/20 to-transparent opacity-0 group-hover/movie:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"absolute top-2 left-2 bg-background/90 backdrop-blur-sm text-brand p-1.5 rounded-md flex items-center gap-1",children:[s.jsx(S,{size:14,className:"text-brand"}),s.jsx("span",{className:"text-xs font-medium",children:"Collection"})]}),a>0&&s.jsxs("div",{className:"absolute top-2 right-2 bg-background/90 backdrop-blur-sm text-foreground text-sm font-semibold px-2 py-1 rounded-md flex items-center gap-1",children:[s.jsx(A,{size:14,className:"text-brand"}),a]}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3 transform translate-y-full group-hover/movie:translate-y-0 transition-transform duration-300",children:[s.jsx("h3",{className:"text-white font-semibold text-sm line-clamp-2",children:e.name}),s.jsxs("p",{className:"text-xs text-gray-300 mt-1 flex items-center",children:[s.jsx(A,{size:12,className:"mr-1.5 text-brand/80"}),s.jsxs("span",{children:[a," Movies"]})]})]})]})})})},us=()=>{const e=a(),[r,n]=t.useState([]),[o,i]=t.useState([]),[l,d]=t.useState(!0),[c,u]=t.useState("");t.useEffect(()=>{(async()=>{d(!0);try{const t=[];for(const r of wt)try{const e=await Pt(r);t.push(e)}catch(e){}n(t);const s=await(async(e=1)=>{const t=ft,s={NnptU:function(e,t,s){return e(t,s)},pmHeB:t(309)+t(441)+t(403)},r=(await s.NnptU(kt,s[t(361)],{page:e[t(385)+t(443)]()}))[t(459)+"ts"][t(310)+"r"](e=>e[t(387)+t(462)+t(299)+t(313)+"n"]),a=new Map;for(const n of r)!a[t(289)](n[t(387)+"gs_to"+t(299)+t(313)+"n"].id)&&a.set(n[t(387)+"gs_to"+t(299)+"ection"].id,{id:n[t(387)+t(462)+"_collection"].id,name:n[t(387)+t(462)+t(299)+t(313)+"n"].name,poster_path:n["belongs_to"+t(299)+"ection"][t(344)+t(428)+"h"],backdrop_path:n[t(387)+t(462)+t(299)+t(313)+"n"]["backd"+t(371)+t(303)],overview:""});return Array[t(463)](a[t(379)+"s"]())})();i(s)}catch(e){}finally{d(!1)}})()},[]);return s.jsxs(s.Fragment,{children:[s.jsx(gt,{}),s.jsx("div",{className:"min-h-screen pt-16 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-8 gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Movie Collections"}),s.jsx("p",{className:"text-foreground/70",children:"Explore your favorite movie universes and series (search for more results)"})]}),s.jsxs("form",{onSubmit:t=>{t.preventDefault(),c.trim()&&e(`/search?query=${encodeURIComponent(c)}&type=collection`)},className:"flex-1 max-w-md bg-card rounded-full px-4 py-2 flex items-center border border-border focus-within:border-brand focus-within:ring-0 focus-within:outline-none transition-colors",children:[s.jsx("input",{type:"text",placeholder:"Search collections...",className:"bg-transparent w-full outline-none focus:outline-none focus:ring-0 focus-visible:outline-none focus-visible:ring-0 focus-visible:shadow-none",value:c,onChange:e=>u(e.target.value),style:{outline:"none",boxShadow:"none"}}),s.jsx("button",{type:"submit",className:"ml-2 p-1 hover:text-brand",children:s.jsx(E,{size:20})})]})]}),l?s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:[...Array(10)].map((e,t)=>s.jsx("div",{className:"aspect-[2/3] bg-card animate-pulse rounded-lg"},t))}):s.jsx(s.Fragment,{children:s.jsxs("section",{className:"mb-12",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Featured Collections"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:r.length>0?r.map(e=>s.jsx(cs,{collection:e},e.id)):s.jsx("div",{className:"col-span-full text-center py-8",children:s.jsx("p",{className:"text-foreground/60",children:"No collections available at the moment"})})})]})})]})})]})},ms=()=>{const{id:e}=o(),[a,n]=t.useState(null),[i,l]=t.useState(!0),[d,c]=t.useState([]);t.useEffect(()=>{(async()=>{if(e){l(!0);try{const t=await Pt(Number(e));if(n(t),t.parts&&t.parts.length>0){const e=[...t.parts].sort((e,t)=>e.release_date?t.release_date?new Date(e.release_date).getTime()-new Date(t.release_date).getTime():-1:1);c(e)}}catch(t){}finally{l(!1)}}})()},[e]);const u=e=>e?new Date(e).getFullYear():"";return i?s.jsxs(s.Fragment,{children:[s.jsx(gt,{}),s.jsx("div",{className:"min-h-screen pt-16 bg-background",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-[70vh] bg-gradient-to-b from-brand/5 to-background"}),s.jsx("div",{className:"container mx-auto px-4 max-w-7xl -mt-32 relative z-10",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[s.jsx("div",{className:"md:w-1/3 lg:w-1/4",children:s.jsx("div",{className:"aspect-[2/3] bg-secondary/10 border border-border/10 rounded-xl shadow-lg"})}),s.jsxs("div",{className:"md:w-2/3 lg:w-3/4 space-y-4",children:[s.jsx("div",{className:"h-8 bg-secondary/10 rounded-full w-3/4"}),s.jsx("div",{className:"h-4 bg-secondary/10 rounded-full w-1/2"}),s.jsx("div",{className:"h-4 bg-secondary/10 rounded-full w-1/4"}),s.jsx("div",{className:"h-4 bg-secondary/10 rounded-full w-2/3"}),s.jsxs("div",{className:"space-y-2 mt-6",children:[s.jsx("div",{className:"h-4 bg-secondary/10 rounded-full w-full"}),s.jsx("div",{className:"h-4 bg-secondary/10 rounded-full w-full"}),s.jsx("div",{className:"h-4 bg-secondary/10 rounded-full w-3/4"})]})]})]})})]})})]}):a?s.jsxs(s.Fragment,{children:[s.jsx(gt,{}),s.jsx("div",{className:"relative min-h-screen pb-12 pt-16 bg-background",children:s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"h-[25vh] sm:h-[30vh] lg:h-[35vh] overflow-hidden relative",children:[a.backdrop_path?s.jsx(de.img,{src:zt(a.backdrop_path,"original"),alt:a.name,className:"w-full h-full object-cover opacity-40",initial:{scale:1.1,opacity:0},animate:{scale:1,opacity:.4},transition:{duration:1.5,ease:"easeOut"}}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-black via-black/80 to-black/60 flex items-center justify-center",children:s.jsxs("div",{className:"text-foreground/20 flex flex-col items-center",children:[s.jsx(K,{size:64,className:"mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"No Backdrop Available"})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/95 to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-background/90 to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/80 via-transparent to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(0,255,157,0.03)_1px,_transparent_1px)] bg-[length:20px_20px] opacity-20 pointer-events-none"})]}),s.jsx("div",{className:"container mx-auto px-4 -mt-32 sm:-mt-36 lg:-mt-40 relative z-10",children:s.jsxs(de.div,{className:"flex flex-col md:flex-row gap-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[s.jsx("div",{className:"md:w-1/3 lg:w-1/4 flex-shrink-0",children:s.jsxs("div",{className:"sticky top-20 space-y-6 max-w-[280px] mx-auto md:mx-0",children:[s.jsx(de.div,{className:"aspect-[2/3] bg-secondary/20 rounded-xl overflow-hidden shadow-2xl w-full group",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},whileHover:{scale:1.02},children:s.jsx("div",{className:"relative w-full h-full",children:a.poster_path?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute -inset-1 bg-gradient-to-br from-brand/30 to-brand/60 rounded-xl blur opacity-30 group-hover:opacity-70 transition-opacity duration-700"}),s.jsx("img",{src:zt(a.poster_path,"w500"),alt:a.name,className:"w-full h-full object-cover relative z-10"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/50 to-transparent z-20"})]}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-background/60 to-background/40",children:[s.jsx(K,{size:48,className:"text-foreground/30 mb-2"}),s.jsx("span",{className:"text-foreground/70 text-center px-4",children:"No Poster Available"})]})})}),s.jsx(de.div,{className:"space-y-3 mt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:s.jsxs(r,{to:"/collections",className:"w-full bg-brand hover:bg-brand/90 text-background font-medium py-3 px-6 rounded-xl flex items-center justify-center gap-2 transition-all duration-300",children:[s.jsx(re,{size:18}),s.jsx("span",{children:"Back to Collections"})]})}),s.jsxs(de.div,{className:"bg-secondary/10 backdrop-blur-sm p-4 rounded-xl border border-border/10 mt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[s.jsx("h3",{className:"text-lg font-semibold mb-3 text-foreground",children:"Collection Info"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-foreground/60",children:"Movies"}),s.jsx("span",{className:"font-medium",children:d.length})]}),d.length>0&&d[0].release_date&&s.jsxs("li",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-foreground/60",children:"First Release"}),s.jsx("span",{className:"font-medium",children:u(d[0].release_date)})]}),d.length>0&&d[d.length-1].release_date&&s.jsxs("li",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-foreground/60",children:"Latest Release"}),s.jsx("span",{className:"font-medium",children:u(d[d.length-1].release_date)})]}),d.length>0&&s.jsxs("li",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-foreground/60",children:"Avg. Rating"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(T,{size:14,className:"text-yellow-400 mr-1 fill-current"}),s.jsx("span",{className:"font-semibold",children:(d.reduce((e,t)=>e+t.vote_average,0)/d.length).toFixed(1)}),s.jsx("span",{className:"text-foreground/50 text-sm ml-1",children:"/10"})]})]})]})]})]})}),s.jsxs("div",{className:"md:w-2/3 lg:w-3/4",children:[s.jsxs(de.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-4 text-transparent bg-clip-text bg-gradient-to-r from-white via-white to-white/80",children:a.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-x-4 gap-y-2 text-foreground/70 mb-6",children:[s.jsx("div",{className:"bg-brand/20 text-brand border-none px-2 py-1 rounded-full text-sm",children:"Collection"}),d.length>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(A,{size:16,className:"text-brand"}),d.length," Movies"]}),d.length>0&&d[0].release_date&&d[d.length-1].release_date&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ae,{size:16,className:"text-brand"}),s.jsxs("span",{children:[u(d[0].release_date)," -",u(d[d.length-1].release_date)]})]})]})]}),s.jsxs(de.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"space-y-8",children:[s.jsx("div",{className:"bg-secondary/10 backdrop-blur-md rounded-xl border border-border/10 p-6 transition-all duration-300 hover:border-brand/20 hover:bg-secondary/20",children:s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Overview"}),s.jsx("div",{className:"max-h-[120px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-brand/30 scrollbar-track-white/10",children:s.jsx("p",{className:"text-foreground/70 leading-relaxed",children:a.overview||"No overview available for this collection."})})]})}),d.length>0&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground/90 flex items-center",children:[s.jsx("span",{className:"w-1 h-6 bg-brand rounded-full mr-4"}),"Watch Timeline"]}),s.jsx("div",{className:"bg-secondary/10 backdrop-blur-md rounded-xl border border-border/10 p-6 transition-all duration-300 hover:border-brand/20 hover:bg-secondary/20",children:s.jsx("div",{className:"space-y-8",children:d.map((e,t)=>s.jsxs("div",{className:"relative pl-16 pt-0",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-brand/40 to-brand/10 backdrop-blur-md shadow-lg shadow-brand/10 border border-brand/30 flex items-center justify-center absolute left-0 top-1 z-10 transition-transform duration-300 hover:scale-110",children:s.jsx("span",{className:"text-brand font-bold text-lg",children:t+1})}),s.jsx(r,{to:`/movie/${e.id}`,className:"block bg-secondary/20 border border-border/20 rounded-xl p-4 transition-all duration-300 hover:translate-x-1 hover:bg-secondary/30 hover:border-brand/30",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"sm:w-1/6 flex-shrink-0",children:s.jsx("div",{className:"aspect-[2/3] rounded-lg overflow-hidden",children:s.jsx("img",{src:zt(e.poster_path||"","w342"),alt:e.title,className:"w-full h-full object-cover"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold mb-1",children:e.title}),s.jsx(r,{to:`/watch/movie/${e.id}`,className:"flex items-center justify-center p-2 bg-brand text-background rounded-full hover:bg-brand/90 transition-colors ml-2",onClick:e=>e.window.location.pathname(),children:s.jsx(R,{size:18,fill:"currentColor"})})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-foreground/60 mb-2",children:[e.release_date&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(ae,{size:14,className:"mr-1 text-brand"}),s.jsx("span",{children:u(e.release_date)})]}),e.vote_average>0&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(T,{size:14,className:"mr-1 text-yellow-400 fill-current"}),s.jsx("span",{children:e.vote_average.toFixed(1)})]})]}),s.jsx("p",{className:"text-sm text-foreground/70 line-clamp-2 mb-4",children:e.overview||"No overview available."}),s.jsxs("div",{className:"inline-flex items-center gap-1.5 text-sm text-brand hover:text-brand/80 transition-colors",children:[s.jsx(ne,{size:14}),s.jsx("span",{children:"View Details"})]})]})]})})]},e.id))})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-foreground/90 flex items-center",children:[s.jsx("span",{className:"w-1 h-6 bg-brand rounded-full mr-4"}),"Movies in Collection"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:a.parts?.map(e=>s.jsx(Ft,{item:{...e,media_type:"movie",genre_ids:e.genre_ids||[]}},e.id))})]})]})]})]})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(gt,{}),s.jsx("div",{className:"min-h-screen pt-16 bg-background",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Collection not found"}),s.jsx(r,{to:"/collections",className:"btn-primary px-4 py-2",children:"Back to Collections"})]})})]})},xs=({onComplete:e})=>{const[r,a]=t.useState(He.getCurrentUser()),n=t.useRef(null),o=t.useRef(null),i=t.useRef(null),l=t.useRef(null),d=t.useRef(null),c=t.useRef(null),u=t.useRef(null),m=t.useRef(null),x=t.useRef(!1),[h,g]=t.useState(!1),f=t.useRef(null);t.useEffect(()=>{if(!h&&c.current){for(let e=0;e<80;e++){const e=document.createElement("div");e.className="absolute rounded-full";const t=["bg-brand-400/30","bg-brand-500/30","bg-brand-300/30"];e.classList.add(t[Math.floor(Math.random()*t.length)]);const s=3*Math.random()+2;e.style.width=`${s}px`,e.style.height=`${s}px`,e.style.left=100*Math.random()+"%",e.style.top=100*Math.random()+"%",c.current.appendChild(e)}g(!0)}},[h]);const b=t.useRef(()=>{n.current&&ce.to(n.current,{duration:.8,opacity:0,ease:"power2.inOut",onComplete:()=>{e(),m.current&&(m.current.kill(),m.current=null)}})}).current;return t.useEffect(()=>{if(x.current||!h)return;x.current=!0,m.current&&m.current.kill();const e=ce.timeline({paused:!0,onComplete:b});if(m.current=e,ce.set(l.current,{scale:.8,opacity:0}),ce.set(o.current,{opacity:0,y:10}),ce.set(i.current,{opacity:0,y:20}),ce.set(u.current,{opacity:0,scale:.9}),c.current){const t=c.current.children;ce.set(t,{opacity:0,scale:0});for(let s=0;s<t.length;s++){const r=1*Math.random(),a=2.5*Math.random()+1.5;e.to(t[s],{opacity:.7*Math.random()+.3,scale:1,delay:r,duration:.6},0),e.to(t[s],{y:"-="+(40*Math.random()+20),x:"+="+(20*Math.random()-10),delay:r,duration:a,repeat:-1,yoyo:!0,ease:"sine.inOut"},0)}}return e.to(l.current,{scale:1,opacity:1,duration:.6,ease:"back.out(1.7)"},0).to(o.current,{opacity:1,y:0,duration:.6,ease:"power2.out"},.3).to(i.current,{opacity:1,y:0,duration:.6,ease:"power2.out"},.5).to(u.current,{opacity:.7,scale:1.15,duration:.8,ease:"power2.inOut"},.2).to(l.current,{boxShadow:"0 0 30px rgba(13, 202, 240, 0.6)",duration:.7,ease:"power2.inOut"},.3).to(u.current,{opacity:.8,scale:1.25,duration:.7,ease:"power1.inOut"},.5).to(d.current,{opacity:0,duration:.6,ease:"power3.inOut"},.7),requestAnimationFrame(()=>{e.play()}),f.current=window.setTimeout(()=>{b()},3e3),()=>{m.current&&(m.current.kill(),m.current=null),null!==f.current&&window.clearTimeout(f.current)}},[e,h,b]),s.jsxs("div",{ref:n,className:"fixed inset-0 z-50 flex items-center justify-center overflow-hidden",children:[s.jsx("div",{ref:c,className:"absolute inset-0 pointer-events-none"}),s.jsxs("div",{className:"relative flex flex-col items-center z-10",children:[s.jsx("div",{ref:u,className:"absolute inset-0 bg-gradient-to-r from-brand-400/20 via-brand-500/20 to-brand-300/20 rounded-full blur-3xl transform scale-150"}),s.jsxs("div",{ref:l,className:"relative px-6 sm:px-10 py-4 sm:py-5 bg-background/80 backdrop-blur-xl rounded-xl border border-brand-500/30 shadow-lg",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-brand-500/5 via-brand-400/5 to-transparent rounded-xl"}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{ref:o,className:"relative z-10",children:s.jsx("span",{className:"text-4xl sm:text-5xl md:text-6xl font-bold bg-gradient-to-r from-brand-300 via-brand-500 to-brand-400 bg-clip-text text-transparent drop-shadow-sm",children:"FMOVIES+"})}),r&&s.jsxs("div",{ref:i,className:"relative z-10 text-lg sm:text-xl text-foreground/80 font-medium",children:["Welcome back, ",s.jsx("span",{className:"text-brand",children:r.username})]})]}),s.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-brand-500/20 via-brand-400/20 to-brand-300/20 blur-sm rounded-xl opacity-50"})]}),s.jsx("div",{className:"mt-10 relative z-10",children:s.jsx("div",{className:"flex space-x-3",children:[0,1,2].map(e=>s.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-brand-500/70 animate-pulse shadow-sm shadow-brand-500/30",style:{animationDelay:.15*e+"s"}},e))})})]}),s.jsx("div",{ref:d,className:"absolute inset-0 bg-background"})]})},hs=t.lazy(()=>me(()=>import("./D5hE9N-OAIHL4BIK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]))),gs=t.lazy(()=>me(()=>import("./Cfjqk5hMR98XEzMb.js"),__vite__mapDeps([18,1,2,3,4,5,6,10,11,12,13,14,15,16,7,8,9,17]))),fs=t.lazy(()=>me(()=>import("./DEw7soNDm96o2_xx.js"),__vite__mapDeps([19,1,2,3,4,5,6,10,11,12,13,14,15,16,7,8,9,17]))),bs=t.lazy(()=>me(()=>import("./DQtKvrlHVY6ttbBi.js"),__vite__mapDeps([20,1,2,3,4,5,6,10,11,12,13,14,15,16,7,8,9,17]))),ps=t.lazy(()=>me(()=>import("./UODYOgg5YuOv_VW2.js"),__vite__mapDeps([21,1,2,3,4,5,6,10,11,12,13,14,15,16,7,8,9,17]))),vs=t.lazy(()=>me(()=>import("./DHhpSf5wJ3sBFEr8.js"),__vite__mapDeps([22,1,2,3,6,7,8,9,23,24,12,13,4,5,10,11,14,15,16,17])).then(e=>({default:e.VideoPlayer}))),js=t.lazy(()=>me(()=>import("./BvM7xlF9LBAP7fYW.js"),__vite__mapDeps([25,1,2,3,7,8,9,6,4,5,10,11,12,13,14,15,16,17])).then(e=>({default:e.Register}))),ys=t.lazy(()=>me(()=>import("./Czi9jgsMpQDidLhg.js"),__vite__mapDeps([26,1,2,3,7,8,9,6,4,5,10,11,12,13,14,15,16,17])).then(e=>({default:e.Login}))),ws=t.lazy(()=>me(()=>import("./B-1prO_VwKJw-PuO.js"),__vite__mapDeps([27,1,2,3,7,8,9,6,4,5,10,11,12,13,14,15,16,17]))),Ns=t.lazy(()=>me(()=>import("./R3_D4R4XEg1aerEa.js"),__vite__mapDeps([28,1,2,3,29,30,7,8,9,6,24,4,5,10,11,12,13,14,15,16,17]))),zs=t.lazy(()=>me(()=>import("./DH-2oQr6aBoAkLol.js"),__vite__mapDeps([31,1,2,3,29,30,6,7,8,9,4,5,10,11,12,13,14,15,16,17]))),ks=t.lazy(()=>me(()=>import("./C7-lj47fWIiooCuf.js"),__vite__mapDeps([32,1,2,3,4,5,6,10,11,12,13,14,15,16,7,8,9,17]))),Cs=new x({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:3e5,cacheTime:1e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}}}),Ds=()=>s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(ee,{className:"h-12 w-12 animate-spin text-brand"}),s.jsx("p",{className:"text-foreground/70",children:"Loading content..."})]})}),Ls=()=>{const e=n(),r=e.pathname.includes("/watch/");return s.jsx("div",{className:"min-h-screen flex flex-col pb-safe",children:s.jsxs(t.Suspense,{fallback:s.jsx(Ds,{}),children:[s.jsxs(l,{children:[s.jsx(d,{path:"/",element:s.jsx(Yt,{})}),s.jsx(d,{path:"/home",element:s.jsx(is,{})}),s.jsx(d,{path:"/genres",element:s.jsx(hs,{})}),s.jsx(d,{path:"/movies",element:s.jsx(gs,{})}),s.jsx(d,{path:"/tv-series",element:s.jsx(fs,{})}),s.jsx(d,{path:"/top-imdb",element:s.jsx(bs,{})}),s.jsx(d,{path:"/search",element:s.jsx(ps,{})}),s.jsx(d,{path:"/4k",element:s.jsx(ks,{})}),s.jsx(d,{path:"/:type/:id",element:s.jsx(Ns,{})}),s.jsx(d,{path:"/collections",element:s.jsx(us,{})}),s.jsx(d,{path:"/collections/:id",element:s.jsx(ms,{})}),s.jsx(d,{path:"/watch/movie/:tmdbId",element:s.jsx(t.Suspense,{fallback:s.jsx(Ds,{}),children:s.jsx(vs,{mediaType:"movie"},e.pathname)})}),s.jsx(d,{path:"/watch/tv/:tmdbId/:seasonId/:episodeId",element:s.jsx(t.Suspense,{fallback:s.jsx(Ds,{}),children:s.jsx(vs,{mediaType:"tv"},e.pathname)})}),s.jsx(d,{path:"/login",element:s.jsx(ys,{})}),s.jsx(d,{path:"/register",element:s.jsx(js,{})}),s.jsx(d,{path:"/profile",element:s.jsx(ws,{})}),s.jsx(d,{path:"/mycorner",element:s.jsx(zs,{})}),s.jsx(d,{path:"/404",element:s.jsx(ls,{})}),s.jsx(d,{path:"*",element:s.jsx(c,{to:"/404",replace:!0})})]}),!r&&s.jsx(We,{})]})})},Ms=()=>{const[e,r]=t.useState(navigator.onLine),[a,n]=t.useState(!1),[o,l]=t.useState(!1),[d,c]=t.useState(!1),u=t.useRef(!1),m=t.useRef(null),x=t.useCallback(()=>{n(!1),l(!0)},[]);return t.useEffect(()=>{if(u.current)return;u.current=!0;sessionStorage.getItem("hasSeenIntro")?(l(!0),c(!0)):(c(!0),setTimeout(()=>{n(!0),sessionStorage.setItem("hasSeenIntro","true")},100));const e=()=>r(!0),t=()=>r(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}},[]),e?s.jsxs(s.Fragment,{children:[a&&d&&s.jsx(xs,{onComplete:x}),s.jsx("div",{ref:m,className:(a?"opacity-0":"opacity-100")+" transition-opacity duration-500","aria-hidden":a,children:s.jsx(h,{client:Cs,children:s.jsx(xt,{children:s.jsxs(Ee,{children:[s.jsx(Te,{}),s.jsx(Ie,{}),s.jsxs(i,{children:[s.jsx(ds,{}),s.jsx(Ls,{})]})]})})})})]}):s.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full p-6 bg-background/80 backdrop-blur-lg border border-border/40 rounded-xl text-center",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-500/10 flex items-center justify-center",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Internet Connection"}),s.jsx("p",{className:"text-foreground/70 mb-6",children:"Please check your network connection and try again."}),s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 rounded-lg bg-brand text-white hover:bg-brand/90 transition-colors",children:"Retry"})]})})};u(document.getElementById("root")).render(s.jsx(Ms,{}));export{Oe as A,bt as B,cs as C,Ft as M,gt as N,yt as T,me as _,Bt as a,Lt as b,Wt as c,St as d,Kt as e,Mt as f,qt as g,_t as h,At as i,Ot as j,at as k,rt as l,mt as m,Qe as n,He as o,jt as p,pt as q,dt as r,Tt as s,ct as t,st as u};
