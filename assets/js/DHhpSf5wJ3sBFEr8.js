import{k as e,u as t,l as n,m as r,n as s,_ as i}from"./CjBMIK3HktuBPqZ_.js";import{g as a,r as o,j as l,u as c,c as u}from"./D-s6PRqiKBLBeb70.js";import{X as d,v as m,w as h,x,y as f,P as g,V as p,z as w,D as v,E as y,J as b,K as C,N as j,O as N,Q as z,W as A,Y as S,_ as L}from"./DuhNfJysh32dzoQX.js";import{m as B,A as D}from"./rok5ZiflEFTZ0mAl.js";import{H as M}from"./BjRG7GEEiJeTUZgg.js";import{F as k}from"./B-4N2_WDClcrmfIj.js";import{c as I}from"./BeLtu-UYPkietiDK.js";import{t as q}from"./LM2JspYDBI8LNjlT.js";import"./BfZ2chxSRdnyRXRh.js";import"./Dzd9VM057lnHWOrh.js";import"./BOmSRhSE5z7Kpxtd.js";import"./Dud8YmOKJJ5dkhIL.js";import"./3aNFxleMQdjaFZtw.js";import"./DZoN2sFbwskeIicV.js";import"./DpIj8wd6VUmqXzzl.js";import"./BDEOJ3om1uRt4ddv.js";import"./DRKqkMc30zo_0ikY.js";import"./CW___00ulSquyL62.js";import"./CxGgxkmD02DlAHB9.js";import"./CdjEVO9ucAe6ofNA.js";const E={Cloud:j,Settings:y,Play:g,Pause:x,Volume:p,SkipBack:m,SkipForward:h,Maximize:C,Minimize:b,Loader:N,Server:f,Check:S,Episodes:w,Image:z,Quality:A,Close:d,List:v,Upload:L};function K(){const e=["zMjHyq","CMDIysG","C1DPDgG","z2v0","nvrqze5Qvq","q3roruC","Bg9Y","vKj0vhu","mta3odiWvfnoDuPM","ls10Agu","mteWmJHIDfvsr3e","mNvpDMfvDG","ndmYmJrewhfjwee","CMLUzW","mta4ounTswTKDa","C3vIC3q","otu3wLDpEvbg","mZKXnZG3nhjzExbNCa","odi4mJe0mgLevxjXra","zw50rwW","BuHNyvq","zg9JDw0","zw1LBNq","C3rHCNq","mtyWmJaXmvnJuuTqzW","mZu0Eufkz1Hr","zvfJqNa","mte1nZG0nJjuq3fUBeG","BwuTy28","C3r5Bgu","Bg9Ylxi","sLv0s2G","qwLsEe8"];return(K=function(){return e})()}!function(){const e=G,t=K();for(;;)try{if(882842===-parseInt(e(358))/1*(-parseInt(e(345))/2)+-parseInt(e(359))/3*(parseInt(e(344))/4)+-parseInt(e(338))/5*(-parseInt(e(351))/6)+-parseInt(e(361))/7+parseInt(e(346))/8*(parseInt(e(348))/9)+-parseInt(e(352))/10+parseInt(e(350))/11*(parseInt(e(342))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const P=e=>{const t=G,n={JUtKh:function(e,t,n){return e(t,n)},hFKqq:function(e,t,n){return e(t,n)}},r=e.replace("#","");return{r:n[t(332)](parseInt,r[t(349)+t(347)](0,2),16),g:n.JUtKh(parseInt,r[t(349)+t(347)](2,4),16),b:n.hFKqq(parseInt,r[t(349)+"ring"](4,6),16)}},T=(e,t)=>{const n=G,{r:r,g:s,b:i}=P(e);return n(335)+r+", "+s+", "+i+", "+t+")"};function G(e,t){const n=K();return G=function(t,r){let s=n[t-=332];if(void 0===G.QgmJHp){G.UJDvWy=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,G.QgmJHp=!0}const i=t+n[0],a=e[i];return a?s=a:(s=G.UJDvWy(s),e[i]=s),s},G(e,t)}const W=e=>{const t=G,n={AiRxO:function(e,t){return e(t)},eQcBp:t(343)+"me-co"+t(340),mHgaT:t(343)+t(362)+t(364)+"gb"},{r:r,g:s,b:i}=n[t(333)](P,e);document[t(355)+t(353)+t(356)][t(363)].setProperty(n[t(360)],e),document[t(355)+"entEl"+t(356)].style.setProperty(n[t(354)],r+", "+s+", "+i)},H=()=>{const e=G,t={JUGzN:function(e,t){return e(t)},DzSKj:function(e){return e()},QReSg:"#61da"+e(334),CtNEG:function(e,t,n){return e(t,n)}},[n]=t.DzSKj(a),r=((e,t)=>{const n=G,r=e[n(337)]({VBtTu:"colour"}[n(341)])||t;return r[n(357)+n(336)]("#")?r:"#"+r})(n,t.QReSg);return t[e(339)](o.useEffect,()=>{t.JUGzN(W,r)},[r]),r},O=({onVolumeChange:e,currentVolume:t,isPlaying:n,onPlayPause:r,onFullscreenToggle:s,onSeek:i})=>{const[a,c]=o.useState([]),u=H();o.useEffect(()=>{const n=n=>{if(n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement)return;const a=n.key.toLowerCase();let o=null;switch(a){case"f":n.preventDefault(),s(),o={key:"F",type:"fullscreen",position:"fullscreen"};break;case" ":case"k":n.preventDefault(),r(),o={key:" "===a?"Space":"K",type:"playback",position:"center"};break;case"arrowleft":n.preventDefault(),i(-10),o={key:"←",type:"seek",value:-10,position:"seek"};break;case"arrowright":n.preventDefault(),i(10),o={key:"→",type:"seek",value:10,position:"seek"};break;case"arrowup":const l=Math.min(t+.1,1);e(l),o={key:"↑",type:"volume",value:l,position:"volume"};break;case"arrowdown":const c=Math.max(t-.1,0);e(c),o={key:"↓",type:"volume",value:c,position:"volume"};break;case"m":const u=0===t?1:0;e(u),o={key:"M",type:"mute",value:u,position:"volume"};break;default:return}if(o){const e={...o,timestamp:Date.now()};c(t=>[...t,e]),setTimeout(()=>{c(t=>t.filter(t=>t.timestamp!==e.timestamp))},1e3)}};return window.document.addEventListener("keydown",n),()=>window.document.removeEventListener("keydown",n)},[t,e,r,s,i,n]);const d=e=>{switch(e.type){case"volume":case"mute":return l.jsxs("div",{className:"flex flex-col items-center space-y-4 w-[80px]",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-white/10 rounded-full",children:l.jsx(E.Volume,{className:"w-6 h-6 transition-colors",style:{color:0===e.value?"rgba(255, 255, 255, 0.5)":u},strokeWidth:2})}),l.jsxs("div",{className:"w-1.5 h-20 bg-black/40 rounded-full relative overflow-hidden backdrop-blur-sm",children:[l.jsx("div",{className:"absolute bottom-0 w-full transition-all duration-200",style:{height:100*(e.value||0)+"%",background:`linear-gradient(to top, ${u}, ${T(u,.8)})`}}),[...Array(8)].map((e,t)=>l.jsx("div",{className:"absolute w-full h-[2px] bg-white/10",style:{bottom:t/7*100+"%"}},t)),l.jsx("div",{className:"absolute w-2.5 h-2.5 left-1/2 -translate-x-1/2 bg-white rounded-full shadow-lg",style:{bottom:100*(e.value||0)+"%",transform:"translate(-50%, 50%)",boxShadow:`0 2px 4px ${T(u,.3)}`}})]}),l.jsx("div",{className:"w-full text-center",children:l.jsxs("span",{className:"text-sm font-medium text-white/90 tabular-nums",children:[Math.round(100*(e.value||0)),"%"]})})]});case"seek":return l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-gradient-to-b from-white/10 to-white/5 rounded-full hover:from-white/15 hover:to-white/10 transition-all duration-200 backdrop-blur-sm group",children:e.value&&e.value<0?l.jsx(E.SkipBack,{className:"w-8 h-8 transition-colors",style:{color:u},strokeWidth:2}):l.jsx(E.SkipForward,{className:"w-8 h-8 transition-colors",style:{color:u},strokeWidth:2})}),l.jsxs("div",{className:"flex items-center space-x-1.5",children:[l.jsx("span",{className:"text-2xl font-medium text-white/90 tabular-nums",children:Math.abs(e.value||0)}),l.jsx("span",{className:"text-sm font-medium text-white/70",children:"sec"})]})]});case"playback":return l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 rounded-full blur-xl",style:{backgroundColor:T(u,.2)}}),l.jsx("div",{className:"relative w-24 h-24 rounded-full bg-gradient-to-b from-black/60 to-black/40 backdrop-blur-md flex items-center justify-center",children:l.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center shadow-lg transition-all duration-200",style:{background:`linear-gradient(to bottom, ${u}, ${T(u,.8)})`,boxShadow:`0 10px 20px -5px ${T(u,.3)}`},children:n?l.jsx(E.Pause,{className:"w-10 h-10 text-white play-icon",strokeWidth:2.5}):l.jsx(E.Play,{className:"w-10 h-10 text-white translate-x-0.5 play-icon",strokeWidth:2.5})})})]}),l.jsx("span",{className:"text-sm font-medium text-white/90",children:n?"Paused":"Playing"})]});case"fullscreen":return l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 rounded-xl blur-lg",style:{backgroundColor:T(u,.1)}}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-[-2px] border-2 rounded-xl animate-frame-expand",style:{borderColor:T(u,.3)}}),l.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-b from-white/10 to-white/5 backdrop-blur-sm flex items-center justify-center group",children:l.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:l.jsx(E.Maximize,{className:"w-8 h-8 transition-colors",style:{color:u},strokeWidth:2})})})]})]}),l.jsx("span",{className:"text-sm font-medium text-white/90",children:"Fullscreen"})]})}};return l.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:a.map(e=>l.jsx("div",{"data-position":e.position,className:`absolute bg-gradient-to-b from-black/85 to-black/95 backdrop-blur-md rounded-xl px-6 py-5 text-white animate-shortcut-popup border border-white/10 shadow-2xl group\n            ${"center"===e.position?"left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2":""}\n            ${"volume"===e.position?"left-12 top-1/2 -translate-y-1/2":""}\n            ${"seek"===e.position?"left-1/2 bottom-32 -translate-x-1/2":""}\n            ${"fullscreen"===e.position?"right-12 bottom-32":""}\n          `,children:d(e)},e.timestamp))})},Y=U;!function(){const e=U,t=J();for(;;)try{if(381812===parseInt(e(239))/1*(parseInt(e(174))/2)+parseInt(e(202))/3+-parseInt(e(234))/4+parseInt(e(238))/5+parseInt(e(257))/6+parseInt(e(179))/7*(parseInt(e(189))/8)+-parseInt(e(259))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Z={BASE_URL:"https://db.cine"+Y(217)+Y(175),API_KEY:Y(183)+"b7cc8"+Y(218)+"9273e"+Y(246)+Y(225)+"85"};function U(e,t){const n=J();return U=function(t,r){let s=n[t-=169];if(void 0===U.PxHrSN){U.BJYBoo=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,U.PxHrSN=!0}const i=t+n[0],a=e[i];return a?s=a:(s=U.BJYBoo(s),e[i]=s),s},U(e,t)}const F=async e=>{const t=Y,n={XZtSS:function(e,t){return e(t)},XTFut:function(e,t){return e===t},wdVXc:function(e,t){return e<=t},FItAf:t(188)+t(201)+t(265)+t(209)+t(184)+t(233)+":"};try{const r=Z[t(171)+t(200)]+t(252)+e+(t(214)+t(232))+Z[t(235)+"EY"]+"&lang"+t(170)+t(229),s=await fetch(r);if(!s.ok){if(404===s[t(254)+"s"])return[];throw new Error("Faile"+t(261)+t(224)+t(260)+t(204)+t(210)+t(222)+s.status+" "+s[t(254)+t(181)])}const i=await s[t(187)]();if(!i[t(180)+t(172)+t(195)+"ns"]||n[t(220)](i[t(180)+"r_of_seasons"],0))return[];const a=Array[t(227)]({length:i[t(180)+t(172)+t(195)+"ns"]},(e,t)=>t+1)[t(253)](async r=>{const s=t;try{const t=Z[s(171)+s(200)]+s(252)+e+(s(206)+"on/")+r+"?api_"+s(232)+Z.API_KEY+"&lang"+s(170)+s(229),i=await n[s(240)](fetch,t);if(!i.ok){if(n.XTFut(i[s(254)+"s"],404))return null;throw new Error(s(198)+s(261)+"fetch"+s(269)+s(191)+r+(s(226)+s(237))+i[s(254)+"s"]+" "+i[s(254)+s(181)])}return i[s(187)]()}catch(i){return null}});return(await Promise[t(245)](a)).filter(e=>null!==e)}catch(r){return[]}};function J(){const e=["D2fYBG","Cg9ZDgu","zgvFBNu","B3CGD2K","ywXS","ntvLngq","C2vFzge","ig5VDca","BMnVCNi","igLZigK","t0LyyKu","l3r2lW","BwfW","C3rHDhu","CYbJB3u","zsbZAg8","mZyXotu3mNzYvwPWyG","B3CGBM8","otCZmdaYnLDdD0nrDG","ifrwihm","zcb0BYa","igvWAxm","BMfTzq","l2vWAxm","AgLUzYa","x3bHDgG","B24V","yw4GDgG","ihnLyxm","yMfJA2q","DwfNzt0","qKftrv8","CL9VzL8","zxHPC3q","mK9uwKjIBa","Cc8Z","C3rPBgW","AguGsuq","zM91BMq","mti1mZe1nhHLC2TKBa","BNvTyMu","C1rLEhq","Awv3","ywqZmde","B3CGC2u","DcbMB3u","z1bdDLi","ANnVBG","rxjYB3i","oeHzvNnuBa","rxjQrLi","B24G","u2vHC28","ue1qr2S","lIbuAgK","C2vHC28","C24NDca","igzVCIa","rMfPBgu","jMXHBMC","vvjm","igzLDgm","mtK0mtCXmxr4DxzxyW","rKL0qwy","Ag93igq","B2rLlW","l3nLyxm","yMvY","werwCNq","vfyGC2G","zxrHAwW","zwn0lG","DgL0Bgu","zsbKzxq","p2fWAv8","ig9Yihq","DYbKB2u","yNKUyxa","mMzMzte","yxrO","D2rwwgm","CL9Wyxq","CZOG","nda0oIa","zMv0y2G","ndiWnJG","igrLDge","zNjVBq","l21VDMK","zw4Tvvm","zxbPC28","B2rLigq","A2v5pq","yxnVBNm","mtaYmdq1mMrhs09lEG","qvbjx0S","tw92Awu","AwXZoIa","ntu2nde1DKzJqwX3","mtC3mJm1zw5HqLvN","wfP0u1m"];return(J=function(){return e})()}async function R(e,t={}){const n=$,r={xEKPZ:function(e,t){return e*t},bmDRJ:function(e,t){return e(t)},qrfQW:"0|1|3"+n(454),EWVTO:function(e,t){return e>>>t},quoKP:function(e,t){return e(t)},XrYtp:function(e,t){return e>>>t},vDaLS:function(e,t){return e(t)},dHpfr:function(e,t){return e(t)},SpgNo:function(e){return e()},pEOeb:function(e,t){return e!=t},MaDRA:function(e,t){return e(t)},xnWrc:function(e,t){return e(t)},GbGQZ:function(e,t){return e>>>t},zyUMf:function(e,t){return e-t},oQOka:function(e,t){return e>>>t},ywcGY:function(e,t){return e>t},nrPAk:function(e,t){return e-t},jDKQK:function(e,t){return e==t},qWtAe:function(e,t){return e<<t},puTky:function(e,t){return e<t},nthJV:function(e,t){return e+t},jevLX:n(477)+" must not "+n(457)+"ll"},s={env:Object[n(479)+"n"](Object[n(442)+"e"](globalThis),t[n(488)]||{},{seed(){const e={eAttM:function(e,t){return r[$(443)](e,t)}};return(()=>{const t=$;return e[t(463)](Date[t(476)](),Math[t(441)+"m"]())})()},abort(e,t,s,i){const a=n,l=r[a(475)][a(446)]("|");let c=0;for(;;){switch(l[c++]){case"0":e=r[a(438)](o,r[a(464)](e,0));continue;case"1":t=r[a(466)](o,r[a(439)](t,0));continue;case"2":i=r[a(439)](i,0);continue;case"3":s>>>=0;continue;case"4":(()=>{const n=a;throw r.bmDRJ(Error,e+n(483)+t+":"+s+":"+i)})();continue}break}}})},{exports:i}=await WebAssembly[n(485)+"ntiate"](e,s),a=i[n(473)+"y"]||t[n(488)][n(473)+"y"];function o(e){const t=n;if(!e)return null;const s=r[t(460)](e+new Uint32Array(a[t(450)+"r"])[r[t(461)](e,4)>>>2],1),i=new Uint16Array(a.buffer);let o=r[t(445)](e,1),l="";for(;r[t(472)](r[t(489)](s,o),1024);)l+=String[t(467)+t(474)+"de"](...i["subar"+t(459)](o,o+=1024));return l+String["fromC"+t(474)+"de"](...i[t(462)+"ray"](o,s))}function l(e){const t=n;if(r.jDKQK(e,null))return 0;const s=e.length,o=r[t(464)](i[t(449)](r[t(484)](s,1),2),0),l=new Uint16Array(a[t(450)+"r"]);for(let n=0;r[t(456)](n,s);++n)l[r[t(437)](r[t(439)](o,1),n)]=e[t(482)+"odeAt"](n);return o}function c(){throw TypeError(r[n(447)])}return Object[n(452)+n(481)+"peOf"]({serve(){const e=n;return r[e(478)](o,r.XrYtp(i[e(471)](),0))},verify(e){const t=n;return e=r.dHpfr(l,e)||r[t(470)](c),r.pEOeb(i[t(455)+"y"](e),0)},decrypt(e,t){const s=n;return e=r.MaDRA(l,e)||c(),r[s(444)](o,r[s(439)](i[s(469)+"pt"](e,t),0))}},i)}function $(e,t){const n=X();return $=function(t,r){let s=n[t-=436];if(void 0===$.gdjHbq){$.YhAQBD=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,$.gdjHbq=!0}const i=t+n[0],a=e[i];return a?s=a:(s=$.YhAQBD(s),e[i]=s),s},$(e,t)}function X(){const e=["x19UzxC","yNvMzMu","mtu1otDYEeztugG","C2v0uhi","mNrKB0j4sW","Fdj8na","DMvYAwy","ChvuA3K","yMuGBNu","mtqYnJzzwevlvNm","CMf5","r2jhuvO","ENLvtwy","C3vIyxi","zuf0De0","rvDwve8","nduWmZK4nhfYsMXgzG","CxvVs1a","zNjVBum","mZCYnJm2z3fuq3Dz","zgvJCNK","u3bNtM8","C2vYDMu","ExDJr1K","BwvTB3i","AgfYq28","CxjMuvC","BM93","DMfSDwu","DKrHtfm","yxnZAwC","mte5odyYCw5psezp","B3rVDhK","y2HHCKm","igLUia","CvD0qwu","Aw5ZDge","ntGZAxrcuujN","ntK1mdbUDMXnCKy","zw52","BNjqqwS","mJeYr05lEwLI","mtiWogHZtg5kBG","BNrOsLy","yM1euKO","whjzDha","mZvYz3bdAMi","CMfUzg8","y3jLyxq","EevlufO","Eg5xCMm","B1fpA2e","C3bSAxq","AMv2tfG","mte0mZq5ueXpuNHO"];return(X=function(){return e})()}!function(){const e=$,t=X();for(;;)try{if(184993===parseInt(e(448))/1*(parseInt(e(453))/2)+parseInt(e(451))/3*(-parseInt(e(490))/4)+parseInt(e(440))/5*(parseInt(e(480))/6)+parseInt(e(458))/7*(parseInt(e(436))/8)+-parseInt(e(468))/9+-parseInt(e(487))/10*(-parseInt(e(486))/11)+-parseInt(e(465))/12)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const V=le;!function(){const e=le,t=me();for(;;)try{if(898123===-parseInt(e(616))/1+-parseInt(e(566))/2+-parseInt(e(553))/3*(-parseInt(e(365))/4)+-parseInt(e(559))/5*(parseInt(e(516))/6)+parseInt(e(609))/7*(-parseInt(e(557))/8)+-parseInt(e(408))/9*(parseInt(e(533))/10)+parseInt(e(507))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Q=V(417)+V(480)+V(453)+V(540)+V(618),_=V(582)+"081b013351"+V(452)+V(664)+"10fd307",ee={NEON:{name:V(502),endpoint:V(673)+V(487)+V(596)+V(513)+V(394)+V(670)+"title",isActive:!0},CYPHER:{name:V(568)+"r",endpoint:V(498)+V(561)+"ources-wit"+V(456)+"le",isActive:!0},SAGE:{name:V(399),endpoint:V(474)+V(555)+"urces"+V(574)+V(537)+"e",isActive:!0},YORU:{name:V(542),endpoint:"cdn/s"+V(362)+V(653)+V(456)+"le",isActive:!0}},te=[ee[V(550)].name,ee.CYPHER[V(543)],ee.SAGE[V(543)],ee.YORU.name];async function ne(){const e=V,t={MCkgl:function(e,t){return e(t)},FQhkD:e(417)+e(437)+e(620)+e(424)+e(393)+e(545)+"jax/l"+e(422)+"rypto"+e(587)+e(680)+e(387)+e(419)+e(528)+"s",WWAsm:function(e,t){return e(t)},dXjJk:e(417)+e(437)+"njs.cloudflare.com/ajax/l"+e(460)+e(589)+"s/2.2.10/h"+e(589)+e(339)+".js"};return!window[e(530)+"oJS"]&&await t[e(522)](re,t[e(649)]),!window[e(373)+"ds"]&&await t[e(661)](re,t[e(389)]),{CryptoJS:window[e(530)+e(488)],Hashids:window[e(373)+"ds"]}}function re(e){const t=V,n={vRVdx:t(585)+"t"};return new Promise((r,s)=>{const i=t,a=document["creat"+i(343)+"ent"](n[i(505)]);a[i(676)]=e,a.onload=()=>r(),a.onerror=e=>s(e),document[i(604)][i(351)+i(668)+"d"](a)})}async function se(e){const t=V,n={bcesJ:function(e){return e()},kXPlV:function(e,t){return e(t)},ljaia:t(413)+t(374)+t(518)+t(506)+t(442)+t(496)+"f0"},{Hashids:r}=await n.bcesJ(ne),s=n.kXPlV(String,e);t(563);const i=e=>e.split("")[t(657)](e=>e[t(385)+t(552)](0)),a=new r,o=i("8c465"+t(478)+t(584)+t(635)+t(485)+t(449)+"ba");return a[t(462)+"e"](s[t(643)]("").map(i).map(e=>{const n=t;return e[n(657)]((e,t)=>e^o[t%o[n(358)+"h"]])})[t(511)]()[t(657)](e=>("0"+Number(e)[t(567)+t(390)](16))[t(405)+"r"](-2))[t(450)](""))}async function ie(e,t){const n=V,r={eeeNR:function(e,t){return e(t)},Galvy:function(e,t){return e===t},JGhPu:"movie",ghGKD:n(369)+" fetc"+n(455)+n(378)+n(658)+n(514)},s=n(417)+n(532)+n(381)+n(353)+"p/3/"+e+"/"+t+(n(397)+n(639))+_+n(577)+"nd_to_resp"+n(621)+"exter"+n(535)+"ds";try{const t=await r.eeeNR(fetch,s);if(!t.ok)throw new Error(n(378)+n(640)+n(581)+"t failed: "+t[n(490)+"s"]);const i=await t[n(646)]();let a,o,l="";return r[n(569)](e,r[n(650)])?(a=i.title,o=i["relea"+n(549)+"te"]?new Date(i["relea"+n(549)+"te"])[n(497)+n(645)+"r"]():""):(a=i[n(543)],o=i[n(410)+n(357)+"date"]?new Date(i[n(410)+"_air_"+n(414)])["getFu"+n(645)+"r"]():""),l=i[n(556)+n(535)+"ds"]?.[n(669)+"id"]||"",{title:a,year:o,imdbId:l}}catch(i){throw i}}async function ae(e,t){const n=V,r={Hxgoi:n(433)+n(672),yObzE:function(e,t){return e(t)},ZxtPb:"episo"+n(418),sKyMB:function(e,t){return e||t},IuuTm:function(e,t){return e||t},MknKD:n(421)+"d",sGYmX:function(e,t){return e||t},SLUBN:function(e,t,n){return e(t,n)},aQXrd:"no-ca"+n(565)+"no-st"+n(457)+n(392)+n(570)+n(447)},{mediaType:s,tmdbId:i,seasonId:a,episodeId:o,title:l,year:c,imdbId:u,_t:d}=t,m=Object.values(ee).find(t=>t.name["toLow"+n(364)+"e"]()===e[n(415)+"erCase"]());if(!m||!m[n(366)+"ive"])throw new Error("Serve"+n(594)+e+(n(434)+n(483)+n(515)+n(451)+n(651)+n(501)+n(471))+"t");const h=new URL(Q+"/"+m[n(630)+n(674)]);h[n(509)+"hParams"].append(n(526),l),h[n(509)+"hParams"][n(351)+"d"](r.Hxgoi,s),h[n(509)+"hParams"][n(351)+"d"](n(403),r[n(361)](String,c)),h.searchParams[n(351)+"d"](r[n(592)],r[n(409)](o,"1")),h[n(509)+n(349)+"ms"][n(351)+"d"](n(683)+n(411),r.IuuTm(a,"1")),h["searc"+n(349)+"ms"][n(351)+"d"](n(523)+"d",i),h[n(509)+n(349)+"ms"].append(r.MknKD,r[n(350)](u,"")),d&&h[n(509)+n(349)+"ms"][n(351)+"d"]("_t",d);try{const e=await r[n(633)](fetch,h[n(567)+n(390)](),{headers:{"Cache-Control":r.aQXrd,Pragma:n(495)+n(477),Expires:"0"}});if(!e.ok)throw new Error(n(395)+n(598)+n(391)+"est f"+n(660)+": "+e[n(490)+"s"]);return await e.text()}catch(x){throw x}}let oe=null;function le(e,t){const n=me();return le=function(t,r){let s=n[t-=339];if(void 0===le.kchTzK){le.qYHHQB=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,le.kchTzK=!0}const i=t+n[0],a=e[i];return a?s=a:(s=le.qYHHQB(s),e[i]=s),s},le(e,t)}async function ce(){const e=V,t={CBAAb:function(e,t,n){return e(t,n)},yANHd:function(e,t){return e(t)},xQZOq:e(416)+e(631)+e(412)+e(499)+".wasm",QAzRn:e(369)+e(346)+e(429)+e(597)+e(622)+e(562)+":"};return!oe&&(oe=(async()=>{const n=e;try{return await t[n(481)](R,await WebAssembly[n(482)+n(580)+"eaming"](t[n(508)](fetch,t[n(352)])),{env:{}})}catch(r){throw r}})()),oe}async function ue(e,t){const n=V,r={wNyzU:function(e){return e()},jTXNA:function(e,t){return e(t)},xrYAk:function(e,t){return e(t)},yyOkz:function(e,t){return e+t},oUzzU:n(413)+"e1ce6"+n(518)+n(506)+n(442)+"541fcf0",wOnWe:n(369)+n(599)+n(615)+"g sources:"};try{const{CryptoJS:s}=await ne(),i=await r[n(641)](ce),a=i[n(636)]();new Function(a)(),await function(){const e={pfMsH:function(e,t,n){return e(t,n)},xfIyL:function(e){return e()}};return new Promise(t=>{const n=()=>{const r=le;window.hash?t():e[r(356)](setTimeout,n,10)};e.xfIyL(n)})}(),i.verify(window.hash);const o=r[n(493)](parseInt,t),l=i[n(662)+"pt"](e,o),c=await r[n(345)](se,r[n(363)](o,r[n(492)])),u=s.AES[n(662)+"pt"](l,c)[n(567)+n(390)](s[n(627)][n(430)]);return JSON[n(340)](u)}catch(s){throw s}}function de(e,t){const n=V,r={qhqEi:n(547)+n(468)+n(655)+n(611)+n(500)+"t",vbEsI:n(498)};if(!e||!e.sources||!Array[n(524)+"ay"](e[n(371)+"es"]))throw new Error(r.qhqEi);const s={url:"",sources:e[n(371)+"es"].filter(e=>e&&e.url&&e[n(610)+"ty"]),subtitles:e.subtitles||[]};return{sources:{[t]:s},tmdb_id:parseInt(e[n(523)+"d"]||"0"),total_scraping_time:0,type:e[n(433)+"Type"]||r[n(426)]}}function me(){const e=["ANnVBG","igzVCIa","zxiGzM8","rLfOA0q","sKDOuhu","CIbKB2u","DgXLCW","CY13Axq","zxmGzNi","DxjJzsa","zsbMCM8","BwfW","Bwv0ywq","rufnluK","ywLSzwq","v1DbC20","zgvJCNK","yxnZAwC","ywmWy2m","ihn1y2m","ihbHCNm","rMv0y2G","zenOAwW","Aw1KyL8","D2L0Ac0","DMfSDwu","vhLWzq","BxLMBgK","Aw50","u2vYDMu","C3jJ","EhzPAvO","ihf1ywW","B3iGzMK","lJeUms8","CMvZB2W","rgvJCNK","C2vHC28","CY5TAw4","CgfYC2u","Dgv4Da","qMnoA28","zuvSzw0","Aw5JBhu","EhjzqwS","igLUAxq","BMCGC28","v2PhsMu","AfbHCMe","C0DzBvG","yxbWzw4","EffAt3e","yNKUyxa","qNLAEfK","zMLSDgu","CgznC0G","x2fPCL8","BgvUz3q","zu1jywK","zMLUzeK","Eu9IEKu","B3vYy2u","ExLpA3O","zxjdyxm","ndeZotq4AfHouLHb","Axnby3q","Axr5igy","AgvPz2G","rxjYB3i","C1DPDgG","C291CMm","v2v5y3i","sgfZAgK","ztfJzty","vvnPzM8","sNnTy1u","igzLDgm","ve1eqIa","B3zPzsa","sMv0Da","lMnPBMu","ifvstca","q3jLyxq","wxnOEw4","y2HHCKm","uuf6uM4","y3j5Chq","CYbPBIa","zfHQsMS","Aw5N","ihjLCxu","BxvZDc0","BgfYzs4","CMnLCY0","u291CMm","thn0uK8","p2fWAv8","qwrKzwq","u2fNzq","BMrLEa","s2Dpy0W","C3rHCNq","EwvHCG","Ahr0Ca","C3vIC3q","lcbt","y3fOA3K","mJuYmtCWmuHcrgXswq","C0T5tui","zMLYC3q","BKLK","C20VBw8","zdq4nMe","zgf0zq","Dg9mB3C","l2fZC2u","Ahr0Chm","zgvjza","BY1QCY4","qMv0B3K","Aw1KyKK","AwjZl2m","B20G","Bg91zgy","rxH0CMe","DMjfC0K","B2jQzwm","zxm6","AwfSAxO","vxrMoa","AxzL","Aw5Nie0","BwvKAwe","iIbPCYa","AwvZigK","thfpz2q","oI8Vy2q","u1ffvKK","y3bcuhC","Cg9UC2u","CMnLCYa","zde3mdq","y3q6","zMLUza","EgXAzgC","DxjS","AwrHDgu","zMLSzq","ogq2nZG","AM9PBG","yMXLig8","mwfJmtq","As52Awq","Bwf0y2G","AgLUzYa","Ac10Axq","B3jLlca","C2HVDYa","BgfIzwW","AwjZl2G","DfnVDxi","zw5JB2q","CNbcsvC","sKfpsNq","D09Uv2u","B3iGzgK","rfnZv0S","AwqGC28","ChLmD1q","zMzyuK8","igv4Axm","DNzuEwq","CYbMCM8","mw1VDMK","zNzivNG","CNjHEsa","y2HL","ywe4ywy","ChvZAa","oI8Vyxa","q0jbqwi","y29TCgK","BM90ige","uhjVy2u","mwjMmgm","ihnVDxi","EgvYENu","B0Pt","Aw5Nifq","C3rHDhu","BsaI","B1v6ELu","ALrytKe","z2v0vgK","BM8Ty2e","ntqXzMm","z2v0rNu","Bw92Awu","zhvSzte","zM9YBwe","CYbUB3q","tMvVBG","q0T1weG","BKDkv0W","DLjwzhG","m2i2mgi","ntG3mti3nJrKtNHNrw4","Eufosgq","C2vHCMm","tKy6","zMXHDa","CNLpDhK","zc9ZB3u","yxrHoG","DMfPBge","nJb5turUq0C","i0vyvc0","zMrIzty","igzYB20","D2fYBG","zw1nAgq","tunRz2W","Dg1KyKK","AxnbCNi","z2v0u28","DgL0Bgu","thbivMW","BwLUlMO","AxrPzxm","q3j5Chq","vvjm","oI8Vzgi","mtbSDu9ttfm","vg1HANK","BMfSx2K","ihrLC3q","lxrPDgW","DgHLihm","igDLDhq","zwfZEs4","Aw5Nig0","ww9YDq","BMfTzq","lM0ZDtG","y29Tl2e","y2vZic0","sw52ywW","C3vIDgK","C2vFzge","tKvptG","ig0ZDtG","B2rLqxq","m1rtte5HqW","zw5JCNK","zxmVC28","zxH0zxi","mta3nZK2nZjfwe1isNy","Aw5Nihm","mtyWntm1AvfiD01n","mdaWma","yM94l3m","B2r1Bgu","BgPHAwe","zLndDhe","y2HLlca","mJG1ndGZmKD2ugffAG","Dg9tDhi","q3LWAgu","r2fSDNK","CMv2ywW","z0nzrNe","zxmGzM8","z2Hhs0q","lxDPDgG","ptaTmJa","zgvZ","jMfWCgu","oIbtB3u","DhjPBq","BgvtDhi","zxf1zxm","nZfMzgi","v1HQrLC","nMnIzMq","C2nYAxa","Aw5KzxG","lwPZlZq","y2vszxm","yxnOAwq","y3rPBMC","CMvJDca","wNH0ugi","rKjnrgy","CIaI","zxjYB3i","CgnSB3u","Aw5NifC","zsbbueK","igrLy3i","igXVywq","tM8GDMe","yNL0zxm","tenxweu","AgvHza","qxv0BW","vhj5Aw4","zxj2zxi","CYbHCNi","n3DuDxDsvq","CxvHBgK","zgf0ysa","AwfSihm","DgX5igy","wKLRqMq","Exb0Aw4","mte2nJC1nfbmtfDvuG","uxnxvLu","BMv0","zw50CMK","BMPZlMm","B25Zzt0","qvnnig0","zxnZzNu","Egvwr1y","BgLKihm","ihnLCNy","zw5J","DwfSAxq","zxrJAgK","zw5KCg8","DhmVD2e","C29YDa","u0XvqK4","lI4U","ngmXzJK","C2vYDMu","yxv0BW","s3ziwwS","A2v5pq","qvbjihi","D055ELu","Bg9N","C3bSAxq","DxrPB24","BgXzzwe"];return(me=function(){return e})()}async function he(e,t,n,r,s){const i=V,a={LstRO:function(e,t,n){return e(t,n)},LCWXE:function(e,t){return e||t},FAmdr:function(e,t){return e||t},Yshyn:function(e,t,n){return e(t,n)},xeVGV:function(e,t){return e>t}};try{const o=await a[i(396)](ie,t,n),l=(new Date)[i(494)+"me"](),c={mediaType:t,tmdbId:n,seasonId:a[i(603)](r,"1"),episodeId:a.FAmdr(s,"1"),title:o[i(526)],year:o[i(403)],imdbId:o[i(421)+"d"],_t:l[i(567)+"ing"]()},u=await ae(e,c),d=await a[i(384)](ue,u,n);if(!d||!d.sources||!Array[i(524)+"ay"](d.sources))return null;const m={url:"",sources:d[i(371)+"es"],subtitles:d.subtitles||[]};return Array.isArray(m.sources)&&a[i(624)](m[i(371)+"es"][i(358)+"h"],0)?m:null}catch(o){return null}}const xe="video_player_settings",fe={autoplay:!0,autoNext:!0,pauseScreen:!0,idleCheck:null},ge=e=>{try{const t=localStorage.getItem(xe),n=t?JSON.parse(t):null,r={...fe};return"boolean"==typeof e?.autoplay&&(r.autoplay=e.autoplay),"boolean"==typeof e?.autoNext&&(r.autoNext=e.autoNext),"boolean"==typeof e?.pauseScreen&&(r.pauseScreen=e.pauseScreen),"number"!=typeof e?.idleCheck&&null!==e?.idleCheck||(r.idleCheck=e.idleCheck),n&&("boolean"==typeof n.autoplay&&(r.autoplay=n.autoplay),"boolean"==typeof n.autoNext&&(r.autoNext=n.autoNext),"boolean"==typeof n.pauseScreen&&(r.pauseScreen=n.pauseScreen),"number"!=typeof n.idleCheck&&null!==n.idleCheck||(r.idleCheck=n.idleCheck)),r}catch{return fe}},pe=e=>{localStorage.setItem(xe,JSON.stringify(e))},we=o.memo(({menuRef:e,qualities:t=[],currentQuality:n=null,onQualityChange:r,onSettingsChange:s})=>{const[i]=a(),u=H(),[d,m]=o.useState(()=>{const e=i.get("autoplay"),t=i.get("autonext");return ge({autoplay:null===e?null:"true"===e.toLowerCase(),autoNext:null===t?null:"true"===t.toLowerCase()})});c(),o.useEffect(()=>{},[t,n]);return l.jsxs("div",{ref:e,className:"bg-[#0A0A0A] rounded-2xl shadow-lg shadow-black/50 border border-[#1A1A1A] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200 w-[300px] md:w-[400px]",style:{maxHeight:"calc(100vh - 200px)"},children:[l.jsx("div",{className:"px-4 py-3 bg-[#101010] border-b border-[#1A1A1A] flex items-center justify-between sticky top-0 z-20",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-7 h-7 rounded-lg flex items-center justify-center",style:{backgroundColor:T(u,.1),borderColor:T(u,.2),borderWidth:"1px"},children:l.jsx(E.Settings,{className:"w-3.5 h-3.5",style:{color:u}})}),l.jsx("h3",{className:"text-[13px] font-medium text-white",children:"Settings"})]})}),l.jsx("div",{className:"p-2 overflow-y-auto",style:{maxHeight:"calc(100vh - 300px)"},children:l.jsxs("div",{className:"space-y-1",children:[t&&t.length>0&&l.jsxs("div",{className:"w-full px-3 py-2 rounded-xl space-y-2",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.Quality,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Quality"}),l.jsx("div",{className:"text-[11px] text-white/50",children:n?`Current: ${n.quality}`:"Select video quality"})]})]}),1===t.length&&"Auto"===t[0].label?l.jsx("div",{className:"mt-2 w-full px-3 py-2 rounded-xl bg-gradient-to-br from-[#101010] to-[#0A0A0A] border border-white/[0.08] shadow-lg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("span",{className:"text-lg font-bold text-white",children:"Auto"}),l.jsx("div",{className:"text-[11px] text-white/50 mt-1",children:"Direct Source"})]})}):l.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2",children:t.map((e,t)=>l.jsxs("button",{onClick:()=>r?.(e),className:`\n                      relative aspect-square rounded-xl transition-all duration-300 group overflow-hidden\n                      ${n?.url===e.url?"bg-gradient-to-br from-[#101010] to-[#0A0A0A] border border-white/[0.08] shadow-lg":"hover:bg-white/5"}\n                    `,style:n?.url===e.url?{boxShadow:`0 8px 20px -4px ${T(u,.25)}`}:void 0,children:[l.jsxs("div",{className:"\n                      h-full flex flex-col items-center justify-center relative z-10\n                      transition-transform duration-300 group-hover:scale-105\n                    ",children:[l.jsx("span",{className:`\n                        text-2xl font-bold mb-1 transition-all duration-300\n                        ${n?.url===e.url?"text-white":e.url?"text-white/70 group-hover:text-white":"text-white/40"}\n                      `,children:e.quality.replace(/\[hdr\]/i,"").trim()}),e.url&&n?.url===e.url&&l.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 translate-y-1/2 w-6 h-6 rounded-full flex items-center justify-center",style:{background:`linear-gradient(135deg, ${u}, ${T(u,.8)})`,boxShadow:`0 4px 12px -2px ${T(u,.3)}`},children:l.jsx(E.Check,{className:"w-3.5 h-3.5 text-white drop-shadow"})})]}),l.jsx("div",{className:`\n                        absolute inset-0 opacity-0 transition-opacity duration-300\n                        ${e.url?"group-hover:opacity-100":""}\n                      `,style:{background:`linear-gradient(135deg, ${T(u,.1)}, transparent)`}}),n?.url===e.url&&l.jsx("div",{className:"absolute inset-0",style:{background:`linear-gradient(135deg, ${T(u,.15)}, transparent)`}})]},e.url||t))})]}),l.jsxs("button",{onClick:()=>{const e={...d,autoplay:!d.autoplay};m(e),pe(e),s?.()},className:"w-full px-3 py-2 rounded-xl flex items-center justify-between hover:bg-white/5 transition-colors duration-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.Play,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Autoplay"}),l.jsx("div",{className:"text-[11px] text-white/50",children:"Automatically play videos"})]})]}),l.jsx("div",{className:"w-10 h-6 rounded-full transition-colors duration-200 flex items-center",style:{backgroundColor:d.autoplay?u:"#2A2A2A"},children:l.jsx("div",{className:"w-5 h-5 rounded-full bg-white shadow-lg transition-transform duration-200",style:{transform:d.autoplay?"translateX(1rem)":"translateX(0.25rem)"}})})]}),l.jsxs("button",{onClick:()=>{const e={...d,autoNext:!d.autoNext};m(e),pe(e),s?.()},className:"w-full px-3 py-2 rounded-xl flex items-center justify-between hover:bg-white/5 transition-colors duration-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.SkipForward,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Auto Next Episode"}),l.jsx("div",{className:"text-[11px] text-white/50",children:"Automatically play next episode"})]})]}),l.jsx("div",{className:"w-10 h-6 rounded-full transition-colors duration-200 flex items-center",style:{backgroundColor:d.autoNext?u:"#2A2A2A"},children:l.jsx("div",{className:"w-5 h-5 rounded-full bg-white shadow-lg transition-transform duration-200",style:{transform:d.autoNext?"translateX(1rem)":"translateX(0.25rem)"}})})]}),l.jsxs("button",{onClick:()=>{const e={...d,pauseScreen:!d.pauseScreen};m(e),pe(e),s?.()},className:"w-full px-3 py-2 rounded-xl flex items-center justify-between hover:bg-white/5 transition-colors duration-200",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.Pause,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Pause Screen"}),l.jsx("div",{className:"text-[11px] text-white/50",children:"Show information when paused"})]})]}),l.jsx("div",{className:"w-10 h-6 rounded-full transition-colors duration-200 flex items-center",style:{backgroundColor:d.pauseScreen?u:"#2A2A2A"},children:l.jsx("div",{className:"w-5 h-5 rounded-full bg-white shadow-lg transition-transform duration-200",style:{transform:d.pauseScreen?"translateX(1rem)":"translateX(0.25rem)"}})})]}),l.jsx("div",{className:"w-full px-3 py-2 rounded-xl space-y-2",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.SkipForward,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{className:"text-left flex-1",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Idle Check"}),l.jsx("div",{className:"text-[11px] text-white/50",children:d.idleCheck?`Check if you're still watching after ${d.idleCheck} minutes`:"Disabled"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"number",min:"0",max:"480",value:d.idleCheck||"",onChange:e=>{const t=e.target.value,n=parseInt(t),r={...d,idleCheck:!isNaN(n)&&n>0?n:null};m(r),pe(r),s?.()},placeholder:"0",className:"w-16 bg-[#1A1A1A] text-white text-sm rounded-lg px-2 py-1 border border-white/10"}),l.jsx("span",{className:"text-sm text-white/50",children:"min"})]})]})})]})})]})});we.displayName="SettingsMenu";const ve=({error:e,onReload:t})=>{const n=H();return l.jsx("div",{className:"absolute inset-0 z-10 bg-black/80 backdrop-blur-sm flex items-center justify-center",children:l.jsxs(B.div,{className:"w-80 max-w-[90%] rounded-2xl bg-[#0A0A0A]/95 backdrop-blur-xl p-6 shadow-2xl border border-white/[0.08] text-center",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},style:{boxShadow:`0 25px 50px -12px ${T(n,.15)}`},children:[l.jsx("div",{className:"w-16 h-16 rounded-xl mb-4 mx-auto flex items-center justify-center",style:{backgroundColor:T(n,.1),borderColor:T(n,.2),borderWidth:"1px"},children:l.jsx(E.Close,{className:"w-8 h-8",style:{color:n}})}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-white/70 mb-4",children:e?.message}),l.jsx("button",{className:"w-full py-2 rounded-lg hover:opacity-90 transition-all duration-200 font-medium",onClick:t,style:{backgroundColor:n},children:"Reload Player"})]})})};class ye extends o.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?l.jsxs("div",{className:"relative w-full h-full",children:[this.props.children,l.jsx(ve,{error:this.state.error,onReload:()=>window.location.reload()})]}):this.props.children}}const be={hidden:{opacity:0,y:20,transition:{duration:.3,ease:[.32,0,.67,0]}},visible:{opacity:1,y:0,transition:{duration:.4,ease:[.16,1,.3,1]}}},Ce={hidden:{opacity:0,y:-20,transition:{duration:.3,ease:[.32,0,.67,0]}},visible:{opacity:1,y:0,transition:{duration:.4,ease:[.16,1,.3,1]}}},je=({children:e,hideDelay:t=5e3,isAnyMenuOpen:n=!1,isPaused:r=!1,isIdleCheckVisible:s=!1})=>{const[i,a]=o.useState(!0),[c,u]=o.useState(null),[d,m]=o.useState(!1),[h,x]=o.useState(!1);o.useEffect(()=>{const e=()=>{const e=Array.from(document.getElementsByClassName("fixed")).filter(e=>e.classList.contains("inset-0")&&e.classList.contains("z-50"));x(e.length>0)};e();const t=setInterval(e,100);return()=>clearInterval(t)},[]);const f=o.useCallback(()=>{if(!(s||(a(!0),c&&clearTimeout(c),n||h||r))){const e=setTimeout(()=>{a(!1)},t);u(e)}},[t,c,n,h,r,s]),g=o.useCallback(()=>{d||f()},[d,f]),p=o.useCallback(()=>{m(!0),f()},[f]);return o.useEffect(()=>()=>{c&&clearTimeout(c)},[c]),o.useEffect(()=>{if(n||h||r)a(!0),c&&clearTimeout(c);else{const e=setTimeout(()=>{a(!1)},t);u(e)}return()=>{c&&clearTimeout(c)}},[n,h,r,t]),o.useEffect(()=>(document.body.style.cursor=i?"default":"none",()=>{document.body.style.cursor="default"}),[i]),l.jsx("div",{className:"relative w-full h-full",onMouseMove:g,onTouchStart:p,children:"function"==typeof e?e(i):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0",children:Array.isArray(e)?e.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&("video"===e.type||"function"==typeof e.type&&"KeyboardShortcuts"===e.type.name)):null}),l.jsx(D,{children:(i||n||h)&&l.jsx(B.div,{variants:Ce,initial:"hidden",animate:"visible",exit:"hidden",className:"absolute top-0 inset-x-0 z-[60]",children:Array.isArray(e)&&e.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&"function"==typeof e.type&&"HeaderSection"===e.type.name)},"header")}),l.jsx(D,{children:(i||n||h)&&l.jsx(B.div,{variants:be,initial:"hidden",animate:"visible",exit:"hidden",className:"absolute inset-0",children:Array.isArray(e)?e.filter(e=>"object"==typeof e&&null!==e&&"type"in e&&!("video"===e.type||"function"==typeof e.type&&("KeyboardShortcuts"===e.type.name||"HeaderSection"===e.type.name))):e},"controls")})]})})};function Ne(e,t){const n=Ae();return Ne=function(t,r){let s=n[t-=183];if(void 0===Ne.NkJCtR){Ne.eTZZyK=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Ne.NkJCtR=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Ne.eTZZyK(s),e[i]=s),s},Ne(e,t)}!function(){const e=Ne,t=Ae();for(;;)try{if(953270===parseInt(e(194))/1+-parseInt(e(196))/2+-parseInt(e(184))/3+-parseInt(e(192))/4*(-parseInt(e(185))/5)+parseInt(e(198))/6+parseInt(e(193))/7+parseInt(e(187))/8)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ze=()=>{const e=Ne,t={meWDY:function(e,t){return e<=t},cFthw:function(e,t){return e||t}},n=t.meWDY(window[e(195)+"Width"],768),r=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[e(183)](navigator[e(188)+e(190)]);return t[e(189)](n,r)};function Ae(){const e=["v2LKDgG","mtuXntzyC3fpyMu","mty4odyXmfvTCvr0EG","mtyWnJC4nurpvgLsDa","Aw5Uzxi","mtGWmZuYmM5Kzu10qq","sgvPz2G","ndK4nZa2mLHiB25IAG","DgvZDa","nty0ntCYn0rsBMrNCW","mJuWvevrwKTQ","wNLsqKm","nJK0nJm4nefjs0DwvG","DxnLCKe","y0z0AhC","z2vUDa"];return(Ae=function(){return e})()}const Se=()=>{const e=Ne;return{ZyRBC:function(e,t){return e>t}}[e(186)](window[e(195)+e(191)],window["inner"+e(197)+"t"])},Le=o.memo(({tmdbId:e,currentSeason:t,currentEpisode:n,currentTime:r,duration:s,controlsVisible:i=!0})=>{const[c]=a(),[u,d]=o.useState(null),[m,h]=o.useState(!1),[x,f]=o.useState(!1),[g,p]=o.useState(15),[w,v]=o.useState(()=>{const e=c.get("autonext");return ge({autoNext:null===e?null:"true"===e.toLowerCase()}).autoNext}),y=H(),[b,C]=o.useState(ze()),[j,N]=o.useState(Se());o.useEffect(()=>{(async()=>{try{const r=await F(e),s=parseInt(t),i=parseInt(n),a=r.find(e=>e.season_number===s);if(!a)return;const o=a.episodes.find(e=>e.episode_number===i+1);if(o)return void d({season:s,episode:o.episode_number,name:o.name,overview:o.overview,still_path:o.still_path,air_date:o.air_date});const l=r.find(e=>e.season_number===s+1);if(l&&l.episodes.length>0){const e=l.episodes[0];return void d({season:l.season_number,episode:e.episode_number,name:e.name,overview:e.overview,still_path:e.still_path,air_date:e.air_date})}d(null)}catch(r){d(null)}})()},[e,t,n]);const z=o.useCallback(()=>{if(u){const t=new URLSearchParams(window.location.search),n=`/watch/tv/${e}/${u.season}/${u.episode}${t.toString()?`?${t.toString()}`:""}`;window.location.replace(n)}},[e,u]),A=o.useCallback(()=>{const e=document.querySelector("video");e&&(e.pause(),e.currentTime=0,setTimeout(()=>{e.play().catch(()=>{e.muted=!0,e.play().catch(()=>{})})},100))},[]);if(o.useEffect(()=>{const e=s-r;if(!s||s<=0||r<=0)return void h(!1);if(e<=90&&null!==u&&h(!0),e<=0)if(u&&w)z();else if(!w){const e=document.querySelector("video");e&&(e.pause(),e.classList.add("ended"))}},[r,s,u,z,w]),o.useEffect(()=>{const e=()=>{C(ze()),N(Se())};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),!s||s<=0||r<=0)return null;if(!m||!u)return null;const S=Math.max(0,Math.floor(s-r));return l.jsx(l.Fragment,{children:l.jsx("div",{className:`\n          fixed transition-all duration-500 ease-in-out transform\n          ${m&&!x?i?"opacity-100 translate-y-0 bottom-24 right-4 md:bottom-32":"opacity-100 translate-y-0 bottom-4 right-4 md:bottom-8":"opacity-0 translate-y-8 pointer-events-none bottom-24 right-4 md:bottom-32"}\n        `,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:A,className:`\n              flex items-center space-x-2 sm:space-x-4 bg-[#0A0A0A] hover:bg-[#101010] \n              border rounded-xl transition-all duration-300 group\n              ${b?j?"p-2 scale-90":"p-2 scale-85":"p-3"}\n            `,style:{borderColor:"rgb(26, 26, 26)"},children:l.jsx("div",{className:`\n                rounded-lg flex items-center justify-center transition-all duration-300\n                ${b?j?"w-10 h-10":"w-9 h-9":"w-12 h-12"}\n              `,style:{background:`linear-gradient(135deg, ${T(y,.15)}, transparent)`},children:l.jsx(E.SkipBack,{className:`\n                  transition-all duration-300\n                  ${b?j?"w-5 h-5":"w-4 h-4":"w-6 h-6"}\n                  text-white/90 group-hover:text-white group-hover:scale-110\n                `,strokeWidth:2.5})})}),l.jsxs("button",{onClick:z,className:`\n              flex items-center space-x-2 sm:space-x-4 bg-[#0A0A0A] hover:bg-[#101010] \n              border rounded-xl transition-all duration-300 group\n              ${b?j?"p-2 scale-90":"p-2 scale-85":"p-3"}\n            `,style:{borderColor:x?T(y,.3):"rgb(26, 26, 26)",background:x?`linear-gradient(135deg, ${T(y,.1)}, transparent)`:void 0,boxShadow:x?`0 8px 24px -4px ${T(y,.2)}`:void 0},children:[l.jsx("div",{className:`\n                rounded-lg flex items-center justify-center transition-all duration-300\n                ${b?j?"w-10 h-10":"w-9 h-9":"w-12 h-12"}\n              `,style:{background:x?`linear-gradient(135deg, ${y}, ${T(y,.8)})`:`linear-gradient(135deg, ${T(y,.15)}, transparent)`,boxShadow:x?`0 8px 16px -4px ${T(y,.3)}`:void 0},children:l.jsx(E.SkipForward,{className:`\n                  transition-all duration-300\n                  ${b?j?"w-5 h-5":"w-4 h-4":"w-6 h-6"}\n                  ${x?"text-white scale-110":"text-white/90 group-hover:text-white group-hover:scale-110"}\n                `,strokeWidth:2.5})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("p",{className:`\n                  font-medium text-white/50\n                  ${b?"text-[10px]":"text-[11px]"}\n                `,children:"Next Episode"}),l.jsx("div",{className:"h-1 w-1 rounded-full bg-white/20"}),l.jsxs("p",{className:`\n                  font-medium text-white/50\n                  ${b?"text-[10px]":"text-[11px]"}\n                `,children:[S,"s"]})]}),l.jsx("h4",{className:`\n                font-medium text-white truncate\n                ${b?j?"text-xs max-w-[160px]":"text-xs max-w-[140px]":"text-sm max-w-[200px]"}\n              `,children:u.name})]})]})]})})})});function Be(e,t){const n=De();return Be=function(t,r){let s=n[t-=453];if(void 0===Be.CpPPSf){Be.AfHKcq=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Be.CpPPSf=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Be.AfHKcq(s),e[i]=s),s},Be(e,t)}function De(){const e=["u2v0DgK","BMCGy3u","B0fMuMe","ihf1ywW","zxmGAw4","rxbSwwG","EhD1Bue","lM0ZDtG","Dg9mB3C","Bg9N","ywXPDgK","Dgu6","CNjLBNq","ndK0ntm1mhfbAKPYsG","nxfPC3PhzW","ihn0yxq","mtq2mJqZmuvYANHorG","uKjNtxK","v2Xks28","vxbyCLO","nZuWmZjHtgjmAgW","nty0mtaXANLdrLj5","BgvUz3q","zxnAruS","zgvZ","q2veBvO","ntC1mdeWmxzpCwLvvW","mJyXwu1VsfDn","EMnsAgK","nhn0qw1xwa","BIbZDge","mJiXnJqYoenhs3zAqq","zxjdyxm","DxjS","tKr0rLy","mtq0ndyYuhLLAKrH"];return(De=function(){return e})()}Le.displayName="NextEpisodeButton",function(){const e=Be,t=De();for(;;)try{if(561862===parseInt(e(480))/1+parseInt(e(454))/2+-parseInt(e(475))/3*(parseInt(e(488))/4)+-parseInt(e(473))/5*(parseInt(e(458))/6)+-parseInt(e(485))/7+parseInt(e(479))/8*(-parseInt(e(486))/9)+parseInt(e(472))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Me=qe;!function(){const e=qe,t=Ee();for(;;)try{if(893331===parseInt(e(508))/1+parseInt(e(602))/2*(-parseInt(e(777))/3)+-parseInt(e(626))/4*(parseInt(e(807))/5)+parseInt(e(515))/6+-parseInt(e(588))/7+parseInt(e(834))/8*(parseInt(e(725))/9)+-parseInt(e(513))/10)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const ke=new Set;"undefined"!=typeof window&&(window[Me(652)+"iaSou"+Me(787)+Me(640)]=window[Me(652)+Me(734)+Me(787)+Me(640)]||{});const Ie=e=>{const t=Me,n={KodTs:t(748),JCEaY:".mp4?",LSosr:"video"+t(747),AfmQj:t(674),mxGvU:t(668)+t(876)+"d",ELVZH:t(638)+t(641),mIwyR:t(552)+"tmp4",QZJTO:t(798)+t(505),OGMFm:t(711)+t(835),JNTfb:t(741)+"nk"};if(!e)return!1;const r=e[t(873)+"erCase"]();if(r[t(812)+"des"](n.KodTs))return!0;if(r[t(812)+t(589)](n.JCEaY))return!0;if(r[t(812)+t(589)](n[t(880)]))return!0;return[n.AfmQj,n.mxGvU,n[t(492)],n.mIwyR,n.QZJTO,n.OGMFm,n[t(737)]][t(528)](e=>r[t(812)+t(589)](e))};function qe(e,t){const n=Ee();return qe=function(t,r){let s=n[t-=475];if(void 0===qe.ETrzmT){qe.SEDEKl=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,qe.ETrzmT=!0}const i=t+n[0],a=e[i];return a?s=a:(s=qe.SEDEKl(s),e[i]=s),s},qe(e,t)}function Ee(){const e=["Bwv0ywq","CM9Hy2G","B20G","igj1zMy","Bxb0Esa","txLdC3u","ihjLBw8","DgHLBG","vuXkyMy","Aw5Nigi","CMu6","uxPcv0W","DMDVCMK","DxaGtwu","Bxa0DMK","qvzpuNe","DhmGyw4","q1LJDu4","C015Auy","AxrHAxa","Dg8GB3i","AgTPCwW","vxnNDK0","yNLTq1K","yM9KEq","zMzLCMu","vxHuCuq","CMvZCg8","ndveCNnMuNy","zM9YoG","zwn0Aw8","uKWGzM8","BvbVALm","B2jQzwm","ALP4zgm","uxvVDge","DLvWsxK","AwftB3u","BcbvuKW","C3nMDwW","sK5uzMi","Cuj3Afy","BgLUzYa","CMnLoG","Bxa0BgK","zw50","BMrbCha","y3jLyxq","ignSzwe","qufnrNK","l21Wna","lM1Wna","igjHy2S","DgnOig0","zxn4BNK","DeXmr3i","DvDRCwO","zw9Wzw4","Dg9tDhi","yNL0zuW","Bwv0Ag8","uvj1Bey","q2XLyw4","igr1CMK","uNfIBhm","re50EvG","zunOAwW","wuXgyLu","zxjYB3i","wu5ZCMS","Ew1HDge","BfrXAMS","t2TuCe4","BwrnBxq","ihn0yxq","AxrPB24","zYbUBY0","yxrH","DxjJztO","zcbWB3m","nJu1mJn6Dw9AA3O","zxjPBMC","zgvKrxi","z2v0","AxPyEfm","z1f4B2i","ihvUyNu","BMLUzYa","zuv2zw4","CgrHDgu","CMnLt2i","ywrKu28","DgnOtw8","rvfPreG","ChvZAa","zxjdyxm","we1mshq","BM93","BhzAAhC","ywrKrxy","Ac4UlG","Bxa0C3q","yxjPBMC","Aw5Nihu","lcbMywW","uKW6","BNnL","ncbIDwy","B2zMC2u","zwqGyMW","ntmWmtb1CLfqz2i","zNLPBMC","AgvJA0i","ihDPDgG","CMLNAw4","Aw5JBhu","zu9IAMu","ihrVia","C3jJ","CgHqugu","yMfJAYa","Dhbszxe","Dw5Kzwy","r1vNExe","BNqGyxq","zMzLCJO","zuDTA1q","yxjKigy","C3r5Bgu","C3bSAxq","BNqTtgu","yxbWCM8","yxr0ywm","ChjVywm","ihjLDhi","B25SB2e","CIbZAxO","mJu1nZKZnM5QzejqCq","zgvV","zw1LBNq","whbyvwG","ihnPEMu","Dw5RoG","BMfTzq","q0PPuhK","u2vLA2K","ChrPBMC","C3vIC3q","CLzsCfa","DxjJzui","A0v1y3i","zenOAwW","ywrAzM8","yNvMzMu","zhm6","zw5Kq2G","Bw92Aw4","DMvKigu","AuvnwMC","ENrOrgO","ruDozLq","CMTLzcW","yMjxrgK","sfzbwMq","y2uGrxG","CunoEeu","C3rLCMK","BxnF","ver6uNC","DgnOigy","ywX0zxi","yw5HBhK","zYbytuW","uMfUz2u","Dg1iywu","DMLUzYa","Dg9mB3C","C3rHCNq","CNmGzMu","D25SB2e","BMCGAw4","Bg9N","B25LCNi","tfnVC3i","CMLUzW","t3zkBve","igLUigm","uYbKzxq","twHTA2q","rvvcB2e","qwXSigq","yIbvuKW","igrLDgu","whfTCwW","lcbJBgu","yxbWzw4","igzLDgm","Aw5N","y2f0y2G","EeHguKy","zcWGCMu","txPmu1q","y2XLyxi","CxnWCK4","qw5KrMu","t0HQExm","vgjwEMe","zxrJAca","tvrxAxG","lI4U","CKv2v2S","ruXwwKG","DeXPC3q","BNnLvhK","zgLHu28","zwvUza","ignVzgu","uwnruuu","yMXVyG","v2HPwgi","thrcqvO","DhjLyw0","DwvZDca","qxr0zw0","CMvHBq","yu5vu2K","shjAv0e","mtC3mdm2nfHfwhzAsq","yMXVyIa","yNL0zxm","ihbHCNm","u3rYzwe","mtq1ntG0mfz1DuDuEG","y2HLCYa","mJu2mJe1nNnty2TrDW","DgvUC2K","y3vYCMu","ys40mc4","y3rvuKW","zMv0y2G","zw5NDgG","CKXtB0S","zcbIBg8","y3rLzca","zw5LCG","zw50tgK","t2vSsNq","C29Tzq","BMDL","zxzdv1e","zYbnzwq","BNruAw0","yw1L","DxjJzsa","u3rHBMq","yLrxs2y","Ag9ZDg4","AxrPywW","q29UDgu","CM9NCMu","vwjuwhy","zxf1zxm","z1znDw0","C2v0","CcbVBgq","uMvTB3y","D1veD2m","B3bLBG","BYbVCgu","ChbYB2e","rKHKq0q","zgLYzwm","y29UDgu","Aw5Nifu","C2vLAYa","ywrK","q09suYa","zKHwBgK","ywWGvvi","uNfvuem","sM9PDwy","y2fUCgW","vw5lBuy","Bvf2qvC","yKPIDK8","BwvKAwe","u3rHDgu","qNvMzMu","C3rLBMu","AfrVvMK","CMfUzg8","Aw9U","yMjIBMm","yMTztum","D2rsqxi","zuLK","DhvYBMK","C291CMm","q0vnqMK","se1NsMy","qwXSige","BgjPAue","vhj5Aw4","r0vu","tfHMAMS","A3zpEMK","Awv2Aw4","nJq3mte2neXIrvHhEa","zgvZ","C2LZ","C2vHCMm","BMf0zsa","BgTRv0K","ihrVigm","zxzVu1G","BgvUz3q","CMnLigy","D2PdvgK","ig1VzgK","C3rHDhu","Ahz0CLy","mtyYrhfiwurP","tM8Ty28","DgvKigi","zMvYihi","yvnVDxi","zfzVBhO","C294D1i","lcbLBMq","igLUigy","Aw5Z","y2uGyxa","AwDPBMe","q2LsExi","z2LUzYa","u05JEwq","zxr3B3i","ywWGtva","uwntD2W","Bw9Yzsa","CM9Tifu","z0rSwfm","DMLKzw8","AgvHzgu","BMCGB3i","mJrrwLPsEey","zwPVq3e","r0DXD1C","AgLUzYa","u291CMm","DxbKyxq","BwfPBIa","lcbJCMu","y2H1BMS","D2rpCuy","DgHYB3u","zxrJAee","Bxa0zgK","EvPpu3i","AMvJDhm","CMvJDa","CMvTB3y","D2fYBG","reDytNu","Aw5Lza","z21LBNq","uMfWtxi","Bwf4","z2LUlMG","txn6tu8","tg9gChq","x19Tzwq","lcbTCdq","AfbHCMe","C3vJy2u","vvjmoG","quDrD2m","BMCGDg8","ihjLDM8","txvSD1i","zgvVrwW","CMvK","DwzMzxi","B1bJr24","B3jPz2K","zxi6","y3m9iMe","Bxa0zg8","CMvUDca","yw1Hvvi","zMfPBgu","AhjLzG","DcbHCha","l21Wnc8","A2LUzYa","DeHJwfG","DMmXlJq","lcb0CNK","ywLSzwq","zhvYyxq","CMvHDgu","rxjYB3i","shr0Cfi","BMD0Aa","ig1LDgG","l21WndS","zw5K","BMrPBMC","zM9Yrwe","sNLSzgq","BNjXD0u","zwfKEsW","zgLZCgW","q0TMBMq","ihjLz2K","ChjLBg8"];return(Ee=function(){return e})()}function Ke(e,t){const n=Ge();return Ke=function(t,r){let s=n[t-=495];if(void 0===Ke.ofABjE){Ke.WrJmTd=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Ke.ofABjE=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Ke.WrJmTd(s),e[i]=s),s},Ke(e,t)}!function(){const e=Ke,t=Ge();for(;;)try{if(572210===parseInt(e(539))/1*(parseInt(e(514))/2)+parseInt(e(501))/3+-parseInt(e(524))/4*(-parseInt(e(523))/5)+-parseInt(e(516))/6+parseInt(e(550))/7+parseInt(e(570))/8+-parseInt(e(585))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Pe=()=>{const e=Ke,t={OISVn:function(e,t){return e===t},GgvOD:e(502)+"tel",IaciP:function(e,t){return e>t}};return/iPad|iPhone|iPod/[e(578)](navigator["userA"+e(587)])||t[e(558)](navigator["platf"+e(499)],t[e(531)])&&t[e(537)](navigator[e(583)+"uchPoints"],1)},Te=e=>{const t=Ke,n={jPWLY:t(525)+"|0|5|2",lMyUM:t(541)+t(551),bzLvp:"plays"+t(530)+"e",bStey:t(548),LGyig:t(572)+t(540)+t(566)+"ine",rIejv:t(526)+"c"},r=n[t(535)][t(581)]("|");let s=0;for(;;){switch(r[s++]){case"0":e["remov"+t(575)+t(534)](n[t(498)]);continue;case"1":e[t(545)+t(575)+"ibute"](n.bzLvp);continue;case"2":e[t(521)][t(511)+"x"]=n[t(546)];continue;case"3":e[t(545)+"eAttribute"](n[t(556)]);continue;case"4":e[t(542)+t(497)+"e"]=!1;continue;case"5":e[t(521)]["posit"+t(529)]=n[t(532)];continue}break}};function Ge(){const e=["mJmXmdiZmwvYENP5BG","twfJsw4","wfnXwLC","BMnOyw4","Dgz1BgW","wMzdyMy","DfbYzxm","DhjPyNu","DgvUzgy","sgXssNG","EKLUzgu","A2rjr2O","mhW0Fdm","odm0otrtsfHeAeq","DevUDgu","ntmYotyYr1bmsM9w","zw5LCG","zgf0yq","zKzvs2S","B2zMC2u","C3r5Bgu","tuHQBLu","mtyWrgfbreLU","mtm1mJi0y3LYDMzt","nhWXFdm","C3rHDgK","DeHLAwC","CMvHzhK","Aw9U","Aw5SAw4","r2D2t0q","CKLLANy","Bg9Hzgu","Awj1Dgu","ALbxtfK","uM9fC1e","swfJAva","DerPC3a","mtDIAxzpsvm","Dc1WBge","y29UDhi","CgXHExm","C2nYzwu","tefrzNK","CMvTB3y","yLn0zxK","u3rHDgu","yxv0BW","C2v0qxq","mZyXnJuWmwjyEuXJqq","B2XZ","zgrHDge","Buviquy","Dhj1zq","zuv2zw4","teD5AwC","DwXSC2m","t0LtvM4","CKz1BgW","t011vKW","vuj1CLC","zgLZCgW","CgXHEq","DMTxwhG","rwPXr1q","ExnPBMW","DLrbtuK","ywrKrxy","qufergG","ndK3mZKYmg9gse1TtG","BM9Uzq","D2vIA2K","Cgf1C2u","sgjKtLm","zuf0Dhi","DeXPC3q","Aw9Utw8","DgvZDa","ywTKzgK","BKvSzw0","C3bSAxq","C3rLBMu","Bwf4vg8","wuXlC1C","mJCZntaYmJzLqu14C1q","zwvU","z2vUDa","weXktvK","wuHlr20","zw50","zw50tgK","zg1LDge","z0z1BgW","CMvLBG","sw5SAw4","Be15vu0","B3jT","Aw5L"];return(Ge=function(){return e})()}const We=Object.freeze(Object.defineProperty({__proto__:null,configureVideoForIOSNative:Te,handlePause:(e,t,n)=>{const r=Ke,s={UBurW:function(e,t){return e(t)},kdIGj:function(e,t){return e(t)}};e[r(573)](),s[r(561)](t,!1),s[r(512)](n,!0)},isIOS:Pe,restoreCustomPlayerForIOS:e=>{const t=Ke,n={sPkiO:t(542)+"inline",EHLrh:"true",ZfCbf:t(541)+t(551),MHjnU:t(571)};e[t(542)+t(497)+"e"]=!0,e[t(549)+t(508)+"te"](n.sPkiO,n.EHLrh),e[t(549)+t(508)+"te"]("webkit-pla"+t(566)+t(500),t(554)),e["remov"+t(575)+t(534)](n[t(506)]),e[t(521)].position="",e[t(521)].zIndex="",e[t(521)][t(562)+"ay"]=n[t(522)],e[t(520)+t(527)+"ht"],e[t(521)][t(562)+"ay"]=""},setupIOSFullscreenListeners:(e,t)=>{const n=Ke,r={OMuVL:function(e){return e()},akddi:function(e,t){return e&&t},YLKsW:function(e,t,n){return e(t,n)},EjqGT:n(572)+n(505)+"scree"+n(504)+"ge",XSqZW:n(572)+n(509)+n(557)+n(496),YHKGm:function(e){return e()}};if(!r[n(589)](Pe))return()=>{};const s=()=>{const s=n,i=e[s(572)+s(538)+"layin"+s(495)+"screen"]||document[s(572)+"tIsFullScr"+s(586)]||document[s(572)+"tFullscree"+s(580)+s(590)]||!!e[s(572)+s(507)+"entat"+s(577)+"de"];r[s(579)](!i,t)&&r[s(584)](setTimeout,()=>{r[s(560)](t)},200)};return e[n(568)+n(591)+n(582)+"r"](r.EjqGT,s),e[n(568)+"entLi"+n(582)+"r"](n(572)+n(509)+n(557)+n(496),s),document[n(568)+n(591)+n(582)+"r"](r[n(565)],s),()=>{const t=n;e["remov"+t(555)+"tListener"](r[t(565)],s),e[t(545)+t(555)+"tListener"](r[t(503)],s),document[t(545)+t(555)+t(576)+t(517)](r.EjqGT,s)}},triggerIOSNativeFullscreen:async(e,t,n)=>{const r=Ke,s={mEHAF:function(e){return e()},RoEsQ:function(e,t){return e(t)}};if(!s[r(553)](Pe))return!1;try{return s[r(536)](Te,e),e[r(572)+"tEnte"+r(559)+"screen"]&&e[r(572)+r(515)+r(559)+r(543)+"n"](),e[r(573)+"d"]&&(await e.play(),s[r(536)](t,!0),s[r(536)](n,!1)),!0}catch(i){try{return e[r(573)+"d"]&&(await e.play(),s[r(536)](t,!0),n(!1)),!0}catch(a){return t(!1),!1}}},triggerIOSNativePlay:async(e,t,n)=>{const r=Ke,s={vCAew:function(e){return e()},fFUKk:r(513)+"|2|1",HbdNS:function(e,t){return e(t)},HlRJx:function(e,t){return e(t)}};if(!s.vCAew(Pe))return!1;try{const i=s[r(519)].split("|");let a=0;for(;;){switch(i[a++]){case"0":s.HbdNS(Te,e);continue;case"1":return!0;case"2":s[r(574)](n,!1);continue;case"3":s[r(510)](t,!0);continue;case"4":await e[r(563)]();continue}break}}catch(i){try{return await e[r(563)](),s[r(574)](t,!0),n(!1),!0}catch(a){return s[r(510)](t,!1),!1}}}},Symbol.toStringTag,{value:"Module"}));function He(e,t){const n=Oe();return He=function(t,r){let s=n[t-=108];if(void 0===He.iWGItf){He.PuWKeg=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,He.iWGItf=!0}const i=t+n[0],a=e[i];return a?s=a:(s=He.PuWKeg(s),e[i]=s),s},He(e,t)}function Oe(){const e=["CKz1BgW","Axnitfm","rvnux1a","rMX0u2m","tvzMtMy","DgvKihm","AwvZigu","EsbLCNi","zgvZDhi","DxrPB24","DeDUqLa","igf2ywK","Aw5Nihm","DgvKigy","BNrmzxy","vKD3ze8","ywLSzwq","CIbTDwW","C09TwNm","ANvrvM8","BNbSyxK","twf4ihi","q1L2EeG","ou9ezeL5Cq","DgLWBgu","ignOyw4","CMf0Aw8","AgXZuMu","ndaYnZG3mLHnuezRsW","BNL3yxK","zKPYBhy","EeXeBgq","D0LOwLi","Aw9UoG","zxjYB3i","ihrVia","B3jPBMC","CgXHEwi","CMvJDca","AxbSzsa","Aw1Lpq","Bgf5","vw5TDxq","rNvSBhm","C2v0vM8","igLpuW","C3rLzdO","Bg9Hzfm","DMvYigm","AgfUzgW","CNjVCJO","u2PSCfu","CxvHBgK","BMDLoG","lI4U","zwqGAw4","ChvZAa","lcb3yxm","CM9Tihm","rxjYB3i","DM9dzu0","Fdb8nhW","EhrYywm","CIbZzxi","y25dueK","Bg9Hzca","AM1Szhi","C2vSzwm","lM0ZDtG","B3vYy2u","Cgf1C2u","CIaI","Bwu6","ywrKrxy","Aw5Nihe","BMCGAgK","igr1CMK","DxjJztO","B25Nzxi","igXVywq","DhjLyw0","mJm1mJGYmfzvvK9ZCW","zwfKEsa","C2v0rhu","iIbOyxm","zxjdyxm","BMCGCxu","y3vYCMu","Aw5PDgK","sfPPqwS","C3rHCNq","qvjtruq","BIbPt1m","C2zTBNG","ugXHEwi","C3rYAw4","AwfSAxO","rxzLBNq","BMDLihi","sML2uvq","zMzLCLa","uxvHBgK","tfmUANm","DcbMAxi","Aw5NieG","C29YDa","BMDuAw0","Bhj5wfu","DxaGDMK","zwqGC28","ihrViha","t2Dzvg0","m3WXFdi","zMfPBgu","BMCGD2K","vvD1Eui","igrLC3q","ChrPBMC","igzHAwW","uYbWBge","BMCGC28","zYbitfm","zxnZAw4","BIbZB3u","zw50tgK","BMLUzYa","u2v0DgK","yxv0BYa","Axr5oG","ywXmB2e","Bwf0y2G","CM95Aw4","CNjLBNq","Bg9Hza","BgXIywm","CMvKzw4","ihrPBwu","rvnux0W","vg9Nz2W","B21WBgu","y2f0y2G","EwjHy2S","sM1jy3G","yLzmAhe","D2L0Aem","u291CMm","z292Evq","DgvKlca","yxr0ywm","CMvXDwu","q291Bgq","CNzLCIa","BMC9","DxjS","zwnLAxy","CYbYzwe","seXtihm","zxrYAwu","mZG1mtbsvLfYy00","B3v0ihi","CgXHEsa","zw5K","q29oBMG","seXtigW","mZHYz054sLC","sw5PDgK","y2fUCgW","C3bSAxq","Ccbitfm","rejgDMO","BwfW","mZq1mZmYntD6B2L0Ceu","sg5rzui","Bgf5yMe","DM9SDw0","C2vYDMu","zgvZ","z2HLC3q","Aw5JBhu","DeXPC3q","ugXHEwK","BgL0Esa","Bgf5ieG","ywnRihq","DwnJzxm","q0Hfra","Dgf0zsa","Bg9N","BgvqBge","yNvMzMu","ieHmuYa","zwq6ia","vMLKzw8","Bwv0ywq","sgrxAfK","s0TZCuq","BhzWC2S","C2v0rxi","tfmGDw4","ihbSyxK","BMCGzgK","uYbZDxa","BMCGBg8","igLUC3q","twL4A2y","ignSzwe","C3vIC3q","igf0Dgu","igzYB20","zsbMB3i","ig11Bhq","B0HIzfu","AgfZsw4","Bxb0CW","CgXHEq","BMvLzgu","Aw9U","uYb0BYa","AxntDxa","vM9SDw0","DgLLCW","zM91BMq","t0feruq","y2HHBMC","BM8Gy2G","DMvY","yxLLCG","C2v0sge","zuv2zw4","ywjSzsa","txv0zwq","u2vYDMu","AgD1rKW","zwXjv1G","igzVDw4","C291CMm","BgvTzw4","BgLKifu","DwXSC2m","C1DPDgG","zxj2zxi","DhKGkgW","sw5SAw4","BgvKoG","zMLUzeK","zxjdAge","C01jrgW","Bxv0zwq","BMCGy3u","zwqGBxu","igzVCMm","t0fesu4","DhrLBxa","DgvYywm","zvjpww8","ig9UigK","BgfIzwW","DgLHBhm","Ae1LzgK","mxWZFda","DgvKiha","B3zJuui","ihjLC3q","CMvLBG","DgLVBNm","CMHMwgS","Avzurw8","DwfSAxq","ywLUAw4","BfvOrhm","qxbWBhK","igv2zw4","AwXZl2K","DvvVEgC","y2XsB2y","zMLUza","B3iGseW","zwvRihq","mZi3mJa0quXRzfrp","DhKGy2G","DgvKoG","zwfJAgu","zxjHy3q","mJCZnZKZmhLswgjLBW","yMvMB3i","Bwf4","igjLzM8","AcbTDxq","Aw5SAw4","C2v0ugu","D1DIBuq","ig5LDYa","CgvUzgK","zsbLDMu","D2DeDg0","DevUDgu","sev0vw4","y3jLzw4","Dc1WBge","CMfJzq","AwrLBYa","ExnPBMW","y09ju20","ChjLBg8","zMfSBgi","s1vPy3m","ig5VigW","C3jJ","igLUAxq","yw5Jzsa","zsbWBge","zxzLBca","DhvWigu","uMLJrwe","zgvVigu","zcWGy28","BwvZC2e","u2f2Aw4","zw1LBNq","DhKGBgu","vgLTzq","BgvUz3q","EeXnrNu","yxrH","CIbJAge","CMvZDw0","DcbKDxi","zxn1Bwu","yxzHAwW","CMvTB3y","BNruAw0","BMrPBMC","zsbOyxm","C3rLBMu","ig5HDgK","ihnLCNy","AxrLBtO","AvjSAKW","tfmGB24","yxv0BY0","BMfTzq","twfPBNq","BMrLEa","zwqGseW","C2v0q3u","uKWGzM8","BMDLigy","Dg9mB3C","mZaXoda4nvburwvPuq","ihrYEwK","tva0ihm","Fdr8nxW","CIbHBhi","CNmH","z2LMEq","C0LUDgu","zwqGCgW","CMLUzYa","ywnR","DhKGB3a","Aw5Nige","zuf0Dhi","zMLSzq","BgLKihe","lI4VDxq","BIb3Axq","BgL0Eq","Aw5Niha","Fdr8mG","z3H2sg0","BMjcz3m","CMvLBIa","Aw5L","rMfPBgu","uYbitfm","lcb1C2u","ywnRihi","qNjfswK","AgvPz2G","ywjSzvm","C2LUzYa","tg9HzgK","tfmGy2e","zNrLCIa","z1DbseW","AxzLugW","D2fYBG","seXt","C1LAyNG","ihjLzIa","CMfJDgu","yMfJAW","q2XLyw4","C2v0uxu","Bgv2zwW","DxjJzsa","t3zRyMK","DMvSoG","CMnLoG","zcbZDwm","DwXSEq","lcbTDxq","Ccb2Awq","CM9Y","CMLUzW","AgfUz2u","C2z1Ba","B3i6","Au9tieG","lcb1C2K","DMzkALG","BgvKig8","yxKSihu","BhfTtKO","DxrLihm","C2v0sxm","u254Cgm","n1DcALr3zG","ig1HBMK","ywz0zxi","zw8GzwW","CgXHEwu","ywrtB3u","Bff1B1O","DgGGBxu","igfMDgu","BYbMywK","zcbPBIa","EsbJAge","D2vIA2K","zcb0BYa","zNvSBhm","s0zNBvG","CIbPBNq","zM9Yrwe","CgXHExm","yw5JztO","AxnbCNi","s29Ssuy","tuvesue","s3PiAKe","tM8GDMe","zsbZzxi","EsbHBhm","ig5VDca","zhvYyxq","CcbPt1m","Cg9ZAxq","y2SGywy","ihbYB2m","BMDLigm","Awj1Dgu","BNrrDwe","CMvWBge","Bgf5ihm","DxaGseW","yvfIu3q","AujUrgu","yxrXvgq","Cg9YDgu","Aw5Nihu","uMvZDw0","AwqGC28","tufosuy","lteP","Dw5KigK","DgnOAw4","zM9YieG","zYbZDge","zwvKzwq","t0T2wfq","ufPHr0K","BwzID0q","qM9cCwu","qxzHAwW","uKXYDKC","zsbZzxq","x0fuvee","zsbMCM8","BNrPBNu","CMnL","ig5Vihm","ihf1ywW","B3noyxq","zM9YigK","rwXLBwu","r0ThyLy","igrHDge","yw5Yy3C","Esb0BYa","rezws2K","ihnLDhq","r0npt3i","zw5LCG","ywXPDgK","zcb3Axq","ChDjwg4","C2nYzwu","zMLSDgu","yw5Nzsa","v0Hvt2S","CMuGC2u","CMvZB2W","sw52ywW","uMvZDg8","m2XyEeflyq"];return(Oe=function(){return e})()}!function(){const e=He,t=Oe();for(;;)try{if(384064===parseInt(e(369))/1*(-parseInt(e(375))/2)+-parseInt(e(210))/3*(parseInt(e(292))/4)+-parseInt(e(559))/5+-parseInt(e(489))/6*(parseInt(e(122))/7)+-parseInt(e(239))/8+parseInt(e(234))/9*(-parseInt(e(494))/10)+parseInt(e(382))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();function Ye(){const e=["y2f0Aw8","qxv0B3a","mty4mta0mZfMsu9LC1y","CNjVCG","EM9hB2q","zw86","y292zxi","yMvMB3i","D2HqzM8","tfmGAw4","tePvwvq","Dhj1zq","BM5IC20","BI92BMq","yxLLCG","B3jRigu","zhvYyxq","uKTFrvi","ugXHEwK","zcb0BYa","uwTuEgC","rfbWs2S","ihjLy28","ywjZ","tgfqz0C","r015s3K","BMfTzq","CMvZB2W","CNqGBMe","lM0ZDtG","ANHTs3m","zs5TCgu","zMf0ywW","Dg9mB3C","wxnry1e","EsbMywK","CMvTB3y","CvPuqwC","zg1LDge","s3vrD2u","DgLHBeW","CIWGzgu","sLHTrKy","BL9UDw0","BNvTyMu","ywLSzwq","C3vTzsa","uMfAsuS","BgvKoG","mZiWmZK0mLHgvKHyrW","zgvZ","DxHdyve","AvPjs04","DMfIruy","zgf0yq","C2v0uxu","A2LUzW","Bgf5","mJm5nZm5mKX4rfDRta","BgL0Eq","Dg8GCMu","CgvU","vvrfA0e","rNb5BNm","y2f0y2G","CgXHEq","BMCGChi","rxzLBNq","wLfNv2S","ysbLCNi","vKTXt00","vgLTzq","Dw5SB2e","EhvSEfG","BNruAw0","B3vYy2u","Axntzwu","B1zjtui","Bujpwhi","v2LKDgG","C3jJ","D2LKDgG","rxjYB3i","CNjLBNq","zuv2zw4","DfrPBwu","yxbWBgK","rxbPC28","x0fuvee","AxntDxa","vfzZy1q","Bgv2zwW","Au9toG","igXVywq","DxjYzw4","zgvFBNu","mJG2odGWmfH6v0Durq","u2P2vwW","Ccb2Awq","y2fUugW","mZzssgfIqM8","Dg9WBge","rMHSvKy","CNjVCIa","B2DYzxm","veHrBKC","igvYCM8","C1Peufe","sevvu1e","ihnLDhq","nxWWFdi","rxbTue4","C2vHC28","v1z5wwG","C09VzhC","u3rHDgu","D2jQAgC","zxjYB3i","vhLWzxm","zhfPv0O","ig5VDca","C3rLBMu","t0vIA3C","yMvY","EK11uMK","y2fUCgW","vfLcDLe","q0jTEu8","Cgrysui","ywWGyxu","C2HVD18","DeXPC3q","DxjS","DxrPB24","BxDnrLm","CMvHzhK","ywXPDgK","vwXUyMm","Aw5Nihu","vw5TDxq","C2v0q3u","qK5ezwy","ywrKrxy","r3fdrNq","Au9tigq","tgPMz20","rhfWwwm","DuHttfG","ywveEeu","ntqWodK1t1rtte1n","yxr0ywm","AgjjA1C","Aw5Uzxi","zcbVBIa","AvHACu0","DM9SDw0","DMvY","uMv0CNK","zM9Yrwe","DNfXsxu","BNrLCMu","vMLKzw8","rvjst1i","Bgf5igy","ChvZAa","sw5SAw4","yKzAyva","Fdr8mxW","BIb1C2u","s3DcvK8","tfmGzxi","C096u0m","u2vLA2K","zxbvA0i","uxvHBgK","AwffCNi","mMH2uvvyqG","u1Lts2u","rwzMzwm","DvrwrxC","BxDQAKu","AxnjBMK","zw50tgK","zgvZDhi","ig9UigK","Bxv0zwq","CwHQAw8","ndaYDu9VDevL","zwqGCMu","Cg9YDgu","AgvPz2G","CMvJB3y","zxbPC28","BMrLEa","AKjpuhi","DgTbuwe","CeXpAKi","q0Hfra","t1rqCwq","qvjtruq","vxLSruO","AgjRu3O","tg9HzgK","yxLuExa","zcWGDhi","yxrHBca","BvvowLK","zvb6CLa","qNDhA2y","sgvPz2G","EwLUzYa","Aw9U","AgfZsw4","tufosuy","tKvuv08","uNDgruG","igrVzxm","CgXHExm","DgvK","Bg9Hzfm","CgXHEsa","u1LhAwm","vg9Zu0G","C3rHBMm","BwjLCG","tuvesue","sw5PDgK","swHkvvO","Be9mDKy","mZqWmJvAu1fpvM8","zxjnzwq","zMLUzeK","ywXZBYa","tNDkvgm","DhLWzq","y291BNq","t1m6","C0LUDgu","BNrrDwe","z1nYDMq","Dhm6","yKTmAxe","C3rYAw4","rLDJBha","rujSC1G","ihrOAxm","s3zJze8","zM5js1G","Cgf1C2u","ig1LzgK","seXtlMO","ihrYEwK","CMfJDgu","Ae1LzgK","DgL0Bgu","DgvYywm","z0Txy2q","y3vYCMu","uuj1yw0","ywXmB2e","CYbLCNi","rwHSthK","seXtic0","zMfPBgu","BgqGBM8","uuvezfG","Bg9Hza","CYbVBIa","uK9s","Aw5Nigu","BxbwD1m","uwfrBhi","DgL2zsa","zw5LCG","BMf0uKS","BMCGDg8","Dg90ywW","y0Xbt0G","sfHRBeS","zgr0zMy","C2v0sxm","ueflBeO","m0jvrK5twG","ALjOz0K","Bw92Awu","zMXkzxe","B3i6","Aw5Nigm","zMvIv0m","Bg9Hzgu","rMf0ywW","AhbfAMy","wg5NBwK","C3rYB3K","C2vLA2u","mJq4mta0vxnutwrP","BxHbuuC","qwDmsgK","Aw5JBhu","y2DnrhK","vNnQzxa","ihnHDMK","AMTxr2e","veLsCxO","C29YDa"];return(Ye=function(){return e})()}!function(){const e=Fe,t=Ye();for(;;)try{if(362835===parseInt(e(707))/1*(parseInt(e(429))/2)+parseInt(e(535))/3*(parseInt(e(616))/4)+-parseInt(e(482))/5*(-parseInt(e(440))/6)+parseInt(e(607))/7+parseInt(e(548))/8*(parseInt(e(658))/9)+-parseInt(e(654))/10+-parseInt(e(560))/11)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Ze=[{width:320,height:480},{width:480,height:320},{width:720,height:1280},{width:1280,height:720},{width:1080,height:2400},{width:2400,height:1080},{width:1440,height:3200},{width:3200,height:1440},{width:1440,height:3088},{width:3088,height:1440},{width:667,height:375},{width:896,height:414},{width:844,height:390},{width:852,height:393}],Ue=()=>{const e=Fe,t=window[e(405)+e(637)],n=window[e(405)+e(462)+"t"];return Ze.some(r=>Math.abs(t-r[e(639)])<=50&&Math[e(581)](n-r[e(443)+"t"])<=50||Math[e(581)](t-r[e(443)+"t"])<=50&&Math[e(581)](n-r[e(639)])<=50)};function Fe(e,t){const n=Ye();return Fe=function(t,r){let s=n[t-=404];if(void 0===Fe.xLXbMs){Fe.tDpdxj=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Fe.xLXbMs=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Fe.tDpdxj(s),e[i]=s),s},Fe(e,t)}!function(){const e=Ve,t=Qe();for(;;)try{if(644435===parseInt(e(397))/1+parseInt(e(435))/2+-parseInt(e(406))/3*(-parseInt(e(413))/4)+parseInt(e(395))/5*(parseInt(e(426))/6)+-parseInt(e(416))/7+-parseInt(e(430))/8*(-parseInt(e(421))/9)+parseInt(e(392))/10*(-parseInt(e(439))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Je=e=>/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(e),Re=e=>{const t=Ve;return e[t(425)+"ce"](/\d+:\d{2}:\d{2}(?:[,\.]\d{3})?(?:\s*‬)?$/,"")[t(425)+"ce"](/\d+(?:\s*‬)?$/,"")[t(425)+"ce"](/[\u200E\u200F\u202A-\u202E\u202C\u200F‫‬]/g,"").replace(/&amp;/g,"&")[t(425)+"ce"](/&lt;/g,"<")[t(425)+"ce"](/&gt;/g,">")[t(425)+"ce"](/&quot;/g,'"')[t(425)+"ce"](/&#39;/g,"'")[t(425)+"ce"](/[^\S\r\n]+/g," ")[t(398)]()},$e=e=>{const t=Ve,n={xEhJM:function(e,t){return e!==t}},r=/(\d{2}:\d{2}:\d{2}[,\.]\d{3})\s*-->\s*(\d{2}:\d{2}:\d{2}[,\.]\d{3})/g,s=[];let i;for(;n[t(410)](i=r[t(399)](e),null);)i[1]&&i[2]&&s.push(i[0]);return s},Xe=e=>{const t=Ve,n={TAUsR:t(390)},r=e[t(443)](n[t(432)])[t(436)](e=>{const n=t,r=(e=e[n(398)]()[n(425)+"ce"](/[^\d:,.\s]/g,""))[n(437)](/(\d{2}:\d{2}:\d{2}[,\.]\d{3})/);if(!r)return null;const[s,i,a,o]=r[1].replace(",",".")[n(443)](/[:.]/).map(e=>e[n(398)]());return s.padStart(2,"0")+":"+i["padSt"+n(414)](2,"0")+":"+a[n(408)+n(414)](2,"0")+"."+o[n(408)+"art"](3,"0")});return r[0]&&r[1]?r[0]+" --\x3e "+r[1]:""};function Ve(e,t){const n=Qe();return Ve=function(t,r){let s=n[t-=388];if(void 0===Ve.ONVmsk){Ve.uBOSIc=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Ve.ONVmsk=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Ve.uBOSIc(s),e[i]=s),s},Ve(e,t)}function Qe(){const e=["EevOsK0","zMLSDgu","y3rvuKW","mZeYnZa4ngrSAxjwsW","yxj0","rMfPBgu","mJe2oda0Cuzrt25h","y1jjEhy","v0vcvLq","ihn1yNq","BMCGC3u","nJnpyvryzuO","B0vdsNG","BaOk","zcb0BYa","CMvWBge","mtm1mZi3mfLMDuHyEq","zu9IAMu","vaOk","BJOGCNq","otiWnJGWvxnotND0","Aw5JBhu","vefvC1i","BMrAsuy","DgvZDa","mJuZnZu1nhnPCerAra","BwfW","Bwf0y2G","Aw5KzxG","mtiWmJncz29ergm","rKn6Ewy","AgfYC2u","Dd11Dgy","C3bSAxq","zgvZ","Bg9HzgK","igrVD24","uMTpDgO","ls0+","rxjYB3i","mJK1mZboDhPMwKO","AM9PBG","AhrcuMy","mJbqCfjlzKm","zMv0y2G","mtq0nZeZsgDctgHX","DhjPBq","zxHLyW","Eu5htNm","DNr0o2m","AxrSzq","rNnmz1C","C2XPy2u","BgvUz3q","m0fHzNbUsq","yNrPDgW","CgfKu3q","zxjYB3i"];return(Qe=function(){return e})()}const _e=e=>{const t=Ve,n={htBRf:"text/"+t(401)+t(441)+t(442)+"-8"},r=new Uint8Array([239,187,191]),s=(new TextEncoder).encode(e),i=new Blob([r,s],{type:n[t(394)]});return URL["creat"+t(427)+t(412)](i)},et=lt;function tt(){const e=["BM9YBwe","uZb5tfq","u2HPzNq","Dwj0Axq","BwfW","z2DnveK","z1PTBhm","q2iZzZK","yxjYyxK","reuXzgO","swPbz00","twLjz2m","yMfJAYa","C1DPDgG","nZqYodzYu3D3ENG","DxjS","l3n2zYS","D3mTodC","Aw1Hz2u","m1j5yJi","DgvZDa","DwjuDva","odu5lte","tvbKuvi","y3vZDg8","z015qtm","tum5EMq","zgvZ","mNG1yKC","l3nLyxi","C1bAuxe","igLZihm","CgjTvMO","jNnLyxm","sxPjAui","ufnkAMq","EMvyuwO","EuLeqwC","D2LUzg8","zMv0y2G","zM9YBwe","C2iZswK","nZyYCKvYvfzz","zsb3Axq","BtLYwLm","tvrjAuK","CMvWBge","odu5ltC","Aw5N","lcbMywW","vwrXufa","Dg9mB3C","D3mTmti","luPjuW","CMLUz0K","BgL6zq","DgXLCZO","BtL1wLm","mgfemgK","vvrglte","vvrgltG","DgvK","DgfVzeS","rI04","Dg9Tihm","B249","C3vIDgK","mZy1ndu0nuL0zxLXzW","ywDL","z2v0","odu5lty","zMXHz1u","zZ09","nKjf","zNbZ","C3rHCNq","zeHnouK","z01PqxC","Ee5hrxK","Dg9vCha","zYbJDxm","ugP4D2i","odu5lti","svnpltG","yw5HExa","t2nzA2i","odu5ltG","u0fbD2u","z1PemgK","sxrnBwC","q0f3suq","rMfPBgu","B2fK","qxLoq0K","uw5uzxq","surNAuW","zxnZAw4","ne1umgK","BgvUz3q","BsbvCgW","zgLZCgW","rxjYB3i","yZnABLa","swDJm1i","z2Tcu1u","zxjYB3i","zxjdyxm","quTZD0e","B250zw4","mtiYANrItfPN","mty0oty2m01gEuj0BW","BxbHAxi","rwDnAue","AujTwLC","igzLDgm","nJuWmteZmNzgqMHTDG","odu5ltK","DK1QqxC","AxrSzxm","wNLcngi","jMvWAxm","rLrjD3q","nKXf","AKuZsuq","yKC5AfO","qMXwq3e","AujQyKC","q0f5tKm","Axnizwe","yI53ExO","DxbWB3i","B2fKq28","Aw5JBhu","y29UDgu","DgXLigm","CMvSzwe","DgXmv3G","zgvJB2q","v0vcvLq","qLnIDeC","zgf0ytO","vfrjEeK","EuXyvNC","nxzJBwm","wNbAwgq","mtm0mdC3mdrwsvzoyKe","nJK4mtfVzuzfALG","BMfTzq","C2XPy2u","zcb0BYa","q0KRueG","ChzHvZq","q3vZDg8","AgLUzYa","EvDPsxy","sfDwBMG","EJq4yKC","surbz00","EhrXz1C","Dgv4Da","lfbitJi","sxbLrfG","Ahr0Chm","yvnkuLm","nwTjAui","DhjPBq","tKHRrva","mgneB3y","suHomgm","BKP2zfC","BgfUz3u","BhvAu0i","BgLUzYa","sgT4ufm","mJu3mJKXmtbvCMzythq","tunbEeW","rKnhENy","zw5JB2q","rvvdluS","ntbrmJK","B2rLpq","y2G/Awq","DNr0","tKzlqW","CMf0Aw4","D2iYBhu","sgT5ufm","zg93BMW","Dg8Gvvq","BwvKAwe","mgLHsfi","ihbYB2m","zfC1A0K","mtnHv1i","ls0+","vLruigy","r0iXoda"];return(tt=function(){return e})()}!function(){const e=lt,t=tt();for(;;)try{if(887697===parseInt(e(282))/1+parseInt(e(281))/2*(parseInt(e(186))/3)+-parseInt(e(287))/4+-parseInt(e(239))/5+-parseInt(e(214))/6*(-parseInt(e(318))/7)+parseInt(e(317))/8+-parseInt(e(346))/9)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const nt=et(334)+"://su"+et(301)+"ie.ru",rt=["UTF-8",et(210)+et(224)+"56",et(255)+et(242),et(210)+et(224)+"54",et(210)+et(224)+"55",et(210)+et(224)+"51","windows-1252","ISO-8"+et(194),et(171)+"30",et(174)+et(225),et(350)+"R",et(231)+"6LE","UTF-1"+et(245),et(255)+et(254),et(255)+et(219),"ISO-8"+et(258),"ISO-8"+et(288),et(255)+et(194)+"5","windo"+et(189)+"4",et(210)+et(224)+"50",et(210)+et(224)+"53",et(210)+"ws-1257","windo"+et(224)+"58"],st=e=>/[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/[et(192)](e),it=async e=>{const t=et,n={AKswA:function(e,t){return e>=t},QnTet:function(e,t){return e===t},BlVCq:t(232),xtqgW:function(e,t){return e===t},ubTuP:t(231)+"6BE",NHkEP:t(310)+"T",SAAwe:t(169),MPdQR:function(e,t){return e(t)},zeXQj:"windows-1256",XXmbv:t(255)+t(242),aSJRS:function(e,t){return e(t)}},r=new Uint8Array(e);if(n[t(279)](r[t(270)+"h"],3)&&n[t(266)](r[0],239)&&187===r[1]&&191===r[2])return n.BlVCq;if(n[t(279)](r[t(270)+"h"],2)){if(n[t(330)](r[0],254)&&n[t(330)](r[1],255))return n[t(193)];if(255===r[0]&&n.xtqgW(r[1],254))return t(231)+t(294)}for(const a of rt)try{const r=new TextDecoder(a)[t(309)+"e"](e[t(320)](0));if(r["inclu"+t(199)](n[t(338)])||r[t(304)+t(199)](n[t(259)])||/\d{2}:\d{2}:\d{2}/[t(192)](r)){if(n[t(195)](st,r)){if(n[t(330)](a,n[t(297)])||n[t(330)](a,n[t(208)])||n.QnTet(a,n.XXmbv))return a;continue}return a}}catch(s){continue}try{const r=new TextDecoder(n[t(297)])[t(309)+"e"](e[t(320)](0));if(n[t(335)](st,r))return n[t(208)]}catch(i){}return n[t(297)]},at=async(e,t,n)=>{const r=et,s={einkR:function(e,t){return e&&t},BSbtG:function(e,t){return e(t)},FTIwt:r(263)+r(321)+r(211)+" subt"+r(290)};try{let i=nt+(r(201)+r(353)+"=")+e;s.einkR(t,n)&&(i+=r(205)+r(237)+t+(r(292)+r(352))+n);const a=await s[r(311)](fetch,i);if(!a.ok)throw new Error(s[r(293)]);return(await a.json())[r(176)](e=>({id:e.id,url:e[r(187)],flagUrl:e[r(243)+"rl"],format:e[r(212)+"t"],encoding:e[r(349)+r(220)],display:e[r(272)+"ay"],language:e[r(342)+r(240)],media:e[r(164)],isHearingImpaired:e[r(300)+r(226)+r(283)+"ed"],downloadCount:e[r(162)+r(303)+"unt"],rating:e[r(356)+"g"],fps:e[r(246)],release:e[r(307)+"se"]}))}catch(i){return[]}},ot=async e=>{const t=et,n={sPZQq:function(e,t){return e(t)},gkBSU:t(263)+t(321)+t(211)+" subtitle "+t(305)+"nt",HWVnh:function(e,t){return e(t)},taodK:t(355),sEJsO:t(273)+t(286)+t(325)+t(238)+t(306)+t(280)+"t:"};try{const s=await n[t(202)](fetch,e);if(!s.ok)throw new Error(n[t(276)]);const i=await s[t(180)+"Buffer"](),a=s.headers[t(241)](t(305)+"nt-type"),o=a?.match(/charset=([^;]+)/)?.[1],l=o||await n[t(327)](it,i);try{let e=new TextDecoder(l)[t(309)+"e"](i);return e=e.replace(/^\uFEFF/,"")[t(172)+t(227)](n[t(234)]).replace(/[\uFFFD\uFFF0-\uFFFF]/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g,"")[t(218)+"ce"](/\r\n?/g,"\n")[t(218)+"ce"](/\s+/g," ")[t(337)](),e}catch(r){return new TextDecoder(t(232))[t(309)+"e"](i)[t(218)+"ce"](/^\uFEFF/,"")[t(218)+"ce"](/[\uFFFD\uFFF0-\uFFFF]/g,"")[t(218)+"ce"](/[\u0000-\u001F\u007F-\u009F]/g,"")[t(172)+t(227)](t(355))[t(218)+"ce"](/\r\n?/g,"\n")[t(218)+"ce"](/\s+/g," ")[t(337)]()}}catch(s){throw s}};function lt(e,t){const n=tt();return lt=function(t,r){let s=n[t-=161];if(void 0===lt.cJYhxw){lt.FYGokC=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,lt.cJYhxw=!0}const i=t+n[0],a=e[i];return a?s=a:(s=lt.FYGokC(s),e[i]=s),s},lt(e,t)}const ct=async e=>{const t=et,n={IpeDX:t(310)+"T",ixtWP:function(e,t){return e(t)},OcYkb:t(312)+t(190)+t(188)+"xml;base64"+t(332)+t(291)+"Wxucz"+t(165)+t(339)+"L3d3dy53My"+t(315)+t(289)+t(198)+"mciIH"+t(316)+t(179)+t(182)+t(299)+t(265)+t(178)+"bD0ib"+t(229)+t(275)+"yb2tl"+t(207)+"XJyZW"+t(351)+t(213)+t(340)+t(216)+t(168)+t(230)+t(183)+t(191)+t(308)+t(204)+"YXA9I"+t(341)+t(336)+"zdHJva2UtbGluZW"+t(323)+"9InJv"+t(167)+t(298)+"Fzcz0iZmVhdGhlc"+t(285)+"F0aGV"+t(314)+t(296)+t(322)+"BhdGg"+t(260)+t(313)+t(181)+"RhMiA"+t(209)+t(347)+"TIgMkg1YTI"+t(249)+t(329)+t(173)+"J2LTRhMiAy"+t(329)+"CAxID"+t(261)+t(250)+"IDIgM"+t(262)+t(284)+t(326)+t(253)+t(200)+t(343)+t(357)+t(248)+t(295)+t(177)+t(197)+t(267)+t(328)+t(343)+t(269)+"MTIiI"+t(345)+t(206)+"4Mj0i"+t(217)+t(161)+"IxNSIvPjwv"+t(274)+t(244),UdqPP:t(324)+t(271)+t(264),anayp:t(196)+"m",FCGzv:t(273)+t(166)+t(268)+t(252)+t(236)+t(175)+"le:"};try{const r=await e[t(331)]();if(!r.trim()[t(251)+t(278)+"e"]()[t(247)+t(185)](n[t(333)]))throw new Error("Only "+t(170)+"ormat"+t(203)+t(302)+t(233));const s=n.ixtWP(_e,r),i=e[t(319)][t(218)+"ce"](/\.[^/.]+$/,"");return{id:t(196)+"m-"+i[t(223)+t(278)+"e"]()[t(218)+"ce"](/[^a-z0-9]/g,"-"),url:s,flagUrl:n[t(257)],format:t(354),encoding:"UTF-8",display:t(324)+t(271)+"oad: "+i,language:n[t(222)],media:n[t(256)],isHearingImpaired:!1,isCustom:!0}}catch(r){throw r}};function ut(e,t){const n=ht();return ut=function(t,r){let s=n[t-=263];if(void 0===ut.MsCliO){ut.MGHncy=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,ut.MsCliO=!0}const i=t+n[0],a=e[i];return a?s=a:(s=ut.MGHncy(s),e[i]=s),s},ut(e,t)}!function(){const e=ut,t=ht();for(;;)try{if(874806===parseInt(e(276))/1*(-parseInt(e(274))/2)+-parseInt(e(275))/3+parseInt(e(286))/4+parseInt(e(282))/5*(parseInt(e(280))/6)+-parseInt(e(269))/7*(parseInt(e(268))/8)+parseInt(e(278))/9*(parseInt(e(273))/10)+parseInt(e(288))/11*(parseInt(e(266))/12))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const dt=()=>{const e=ut;e(291),e(263),e(284),e(265);try{const t=localStorage.getItem(e(267)+e(270)+e(264)+"gs");if(t)return JSON[e(277)](t)}catch(t){}return{preferredLanguages:[],subtitlesEnabled:!0,size:1,position:25}},mt=e=>{const t=ut,n={nmrre:t(267)+"tle-settings",XETUo:t(291)+" savi"+t(281)+t(272)+"e set"+t(279)+":"};try{localStorage.setItem(n[t(285)],JSON[t(283)+t(289)](e))}catch(r){}};function ht(){const e=["z2LMEq","wevuvw8","rxjYB3i","igXVywq","zxr0Aw4","BguGC2u","mtjzChHbt3e","C3vIDgK","oePKueDXsG","nZuYmtqWovD1zxfquq","DgXLlxm","B1PRyve","yNrPDgW","mte0ndbhCMDVD3i","mNvdD29AAW","otm3nde5zMvqu251","mtu0ntqXm3rXtvf0yW","CgfYC2u","mtqZmwTkELrXyG","DgLUz3m","mtK4B2rkAKDw","BMCGC3u","mJeXodG1AwvJrezp","C3rYAw4","Aw5Nihm","BM1YCMu","mZyZmtaWmhnZD0rUyq","zxjYB3i","mtq1mtaWmtjIALPVt1O"];return(ht=function(){return e})()}!function(){const e=gt,t=ft();for(;;)try{if(802778===parseInt(e(799))/1+parseInt(e(753))/2*(-parseInt(e(708))/3)+parseInt(e(632))/4+-parseInt(e(780))/5+-parseInt(e(580))/6+parseInt(e(787))/7+-parseInt(e(600))/8*(-parseInt(e(726))/9))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const xt=(e,t)=>{const n=gt,r={JOUnJ:"showing",zvZFh:function(e,t){return e===t},MZYKc:n(658)+"n",GWMIY:n(501)+n(795)+n(770)+"s",aaNwV:function(e,t){return e-t},KwkZy:n(770),tEPfl:n(656)+"tle-s"+n(641),VDkPb:function(e,t){return e*t},uYgwd:n(659)},s=document[n(646)+n(589)+n(509)](r[n(677)]);s&&s[n(742)+n(513)]&&s[n(742)+n(513)]["remov"+n(644)+"d"](s);const i=r[n(747)](100,t),a=document[n(548)+"eElem"+n(699)](r[n(633)]);a.id=r[n(631)],a[n(620)+n(603)]=n(647)+n(539)+n(623)+n(736)+n(514)+n(710)+n(786)+"s-tex"+n(691)+n(537)+n(670)+n(672)+n(607)+"iv > "+n(638)+"\n    "+n(584)+n(634)+"fffff"+n(519)+"portant;\n "+n(683)+n(739)+n(626)+" "+r[n(740)](e,1.2)+n(657)+"mportant;\n"+n(683)+n(606)+n(709)+n(512)+n(493)+n(568)+n(752)+n(712)+n(760)+' Neue", sa'+n(761)+"rif !"+n(674)+n(695)+n(647)+n(713)+n(597)+"ght: "+n(605)+n(674)+n(695)+"\n      tex"+n(704)+n(619)+n(647)+n(765)+n(614)+n(571)+n(776)+n(490)+n(562)+n(669)+"0.8),\n    "+n(738)+n(582)+"m -0."+n(648)+"0.1em rgba"+n(496)+n(570)+"),\n       "+n(571)+"em -0.05em 0.1em rgb"+n(520)+",0,0."+n(783)+"       -0."+n(648)+n(582)+"m 0.1"+n(754)+n(686)+n(744)+n(791)+"     "+n(701)+n(734)+n(754)+n(686)+"0,0,0"+n(684)+n(674)+n(695)+"\n    "+n(540)+n(673)+n(781)+n(506)+"rgba("+n(744)+n(528)+" !importan"+n(583)+n(738)+"webki"+n(564)+"t-stroke: "+n(582)+"m rgb"+n(520)+n(693)+n(535)+n(504)+n(785)+n(683)+n(608)+n(762)+n(541)+".05em"+n(773)+"(0,0,"+n(570)+n(615)+n(627)+n(717)+"     "+n(502)+"heigh"+n(680)+n(599)+n(627)+"nt;\n      "+n(602)+"ng: 0.2em "+n(655)+n(790)+n(532)+n(583)+n(531)+n(745)+n(663)+n(730)+n(692)+n(635)+n(794)+n(552)+"   letter-"+n(722)+n(732)+n(723)+n(790)+n(532)+n(583)+n(706)+n(503)+n(662)+" Posi"+n(775)+n(770)+n(576)+"    ."+n(767)+"ext-track-"+n(565)+n(616)+n(683)+" posi"+n(525)+n(681)+n(556)+"!impo"+n(794)+";\n   "+n(671)+"ttom: "+i+(n(604)+n(627)+n(717)+n(683)+n(666))+" 0 !i"+n(504)+n(785)+n(683)+n(498)+n(488)+"!important"+n(552)+n(546)+n(670)+n(621)+"x !im"+n(627)+n(717)+n(683)+"flex-"+n(793)+"tion:"+n(797)+n(593)+"mport"+n(785)+n(683)+" alig"+n(668)+n(622)+n(721)+" !importan"+n(583)+n(601)+n(788)+n(491)+n(676)+n(573)+n(764)+n(635)+"rtant"+n(552)+"   po"+n(591)+n(522)+n(569)+n(766)+"impor"+n(695)+n(647)+n(687)+"nsform: no"+n(526)+n(504)+"ant;\n    }\n    \n    .vjs-"+n(533)+n(590)+n(630)+n(652)+n(789)+n(803)+"   wi"+n(737)+n(749)+"!impo"+n(794)+n(552)+n(743)+n(661)+"ign: "+n(612)+n(547)+n(627)+n(717)+n(802)+n(792)+"    ."+n(767)+n(489)+n(774)+n(565)+n(665)+"div > div "+n(803)+"   display: inl"+n(518)+n(719)+n(635)+n(794)+n(552)+"   po"+n(524)+n(575)+n(625)+"e !important;\n      "+n(602)+"ng: 0"+n(692)+n(655)+" !imp"+n(532)+n(583)+n(531)+n(650)+n(527)+"color"+n(735)+"a(0,0"+n(693)+"4) !import"+n(785)+n(683)+" bord"+n(651)+n(728)+n(751)+n(596)+n(627)+"nt;\n    }\n"+n(792)+n(617)+n(711)+n(720)+n(649)+n(798)+n(727)+"t */\n    video:"+n(609)+n(803)+n(733)+n(524)+"n: ab"+n(510)+n(801)+"portant;\n "+n(683)+n(741)+"m: "+i+"% !im"+n(627)+n(717)+n(683)+n(666)+n(618)+n(504)+"ant;\n"+n(683)+n(498)+n(488)+"!important"+n(552)+n(703)+n(688)+n(550)+n(766)+n(674)+"tant;"+n(647)+n(507),document.head[n(784)+"dChild"](a);const o=document[n(646)+n(589)+n(509)](r[n(700)]);o&&o[n(689)+n(530)]&&Array[n(796)](o[n(689)+"racks"])[n(654)+"ch"](e=>{const t=n;r[t(587)](e[t(629)],t(566)+"ng")&&(e[t(629)]=r[t(572)],setTimeout(()=>{const n=t;e[n(629)]=r[n(724)]},10))})};function ft(){const e=["CgXHEq","ntCYnJi1nwTXAgPzEa","BMqTy28","tM9bq0y","ocKScIa","yxbWzw4","yw50oWO","icaUDMO","ndq5nJyZmK9XCeLRBG","Dxn0Awy","igrPDIa","icfPBxa","lJGPlaO","icaGiaO","zgLYzwm","CNrHBNq","AxrSzs0","zNjVBq","ignVBhu","zgvVigu","ntaYmZmYCu1iy2Hf","zxr0Aw4","zsaHAw0","icaGFqO","EWOGica","EMDxyuS","rMfPBgu","DdOGmca","zxH0lxq","mwvTihi","Es1JB24","Axnizwe","tMv0zMW","B25SB2e","zw5LCG","kdaSmcW","Aw9UoG","ihjPz2G","CNjLzeW","Aw5Nihm","i3n1yNq","BgLUzs0","icaGcIa","BxbVCNq","Aw9U","Bg9YoIa","FqOGia","BgLUzYa","Dg9Y","C29SDxq","zMLYC3q","BhK6ici","De5Vzgu","BZO6y3u","q1HNv0K","DureBfm","EevurKu","Aw5Llwi","zIaHAw0","ysGWlda","igXVywq","lwv2zw4","rxjYB3i","C2L0Aw8","DgLVBJO","BMuGiwK","B3vUzc0","ldaUncK","q1POtvC","CMfJA3m","icaGigi","B3j0yw4","Dgv4Dc0","uLfyBfi","ocKGiwK","BML0Awe","y2STzgK","thrVt2q","oJPJDwu","icbIywm","A2u6ida","DeXPC3q","Bg9Hzgu","zgvMyxu","Cg9ZAxq","icaGzgK","CIaHAw0","y3jLyxq","ywrKrxy","CM06ig4","qNz2r2W","oWOGica","CxrTAxy","BcbZDwi","zM5Yuxe","Bhv0zsa","uunSv1u","igHHBMq","zsbWBge","vvfwtwO","zgLZCge","z2jHkda","zuv2zw4","Dc10zxG","zgLZCgW","C2HVD2K","zcb0BYa","AxGGu2e","Dhm6ig4","mcWWlJG","idaUmdu","tvPzs2m","igzSzxG","tgfAu2S","BJOGCMu","CYaQlWO","y3rvuKW","tgrfB2W","A2LUza","mZe5nJi5mgHXweD1yG","DhrPBMC","mc4Wnwu","DdSkica","icbJB2W","zxjYB3i","q2HPBgq","ENzArMG","CMvHzhK","u2vSzwm","DhjHy2S","Aw50zxi","zuvSzw0","Bw4GiwK","y3vYCMu","BgvUz3q","BsaHAw0","Dc13zwK","DgL0Bgu","ncaHAw0","ofbtyvPgsG","icaGigO","CgfKzgK","sfrnta","jsaHAw0","nJaWice","igzVBNq","DIa+igq","ihrLEhq","oMn1zsa","BNruAw0","C2L6zq","y2vUDgu","D1vLv3i","lJa1zw0","ksaHAw0","yxKGEWO","icaGic8","idaGiwK","zg93oIa","Aw5Uzxi","oIbMBgu","Bxm6igm","laOGica","BgfUz3u","Bgf0Axy","C2L6ztO","Cg9YDge","CMLUz0K","Bw9Kzq","lwrPC3a","DevqzMW","mtyXoti0vxjjD3P6","s3DRwNK","B3i6icm","iwLTCg8","CKzyreO","C3rLBMu","zgL2ihS","BxbHAxi","CxLsyLu","DhLSzxm","CMvTB3y","C0nOyw4","zunOAwW","BM14vuO","CxvLCNK","cIaGica","mdvLBsa","DMuGDMK","ywnRz3i","zxiTCMe","Bgf5id4","BM5Ly3q","zM9Yrwe","mc40zw0","C3vIDgK","zw0GiwK","AgLKzgu","DMLKzw8","uLrgtei","EhqTywW","icaGlYO","lxjHzgK","ChjLzMu","yxKGpIa","BgvMDdO","yvv5Cha","BI1PDgu","ldaSmcW","C3bSyxK","icaGyM8","id4GzgK","A2DYB3u","Aw1WB3i","qxfqAhm","DgvUDdO","r1DnsvK","C3jJ","BgvK","DdOGms4","igfIC28","zMLUza","icaGica","lJGPice","D3P6t24","yMeOmcW","icb0CMe","yw5ZzM8","Dgv4Dfq","zwXLy3q","Dc10CMe","lJjLBsa","ldaSmc4","txv0yxq","DgfUDdS","A2v5","DK9gAeG","C3rVCMe","zw50","DvLND2q","icaGmca","u3rHDgu","icaGDhi","Dc1ZAge","ywDL","icb9cIa","yvbosuK","ndyZnw9Wu2Llta","lwzHBwK","zsWkica","kIbgB3i","iKHLBhy","icbMB24","ue1dzMK","C2XPy2u","zw50tgK","BNq7cIa","wwnZwMm","Bg9JAYa","ig5HDgK","zw50zxi","C3bHy2K","lJaYzw0","sK9vBKO","Bxngwhq","mtu1otuXmtbKtvbYA3a","BgvTzw4","zgL1CZO","DgXLu2u","Dxm6ida","BgfIzwW","BMC6ida","icaGCg8","mcaWlJi","oIbYz2i","ihzPzgu","zhrOoIa","icaGic0","zM9UDc0","vKrRugi","yM90Dg8","CgfYzw4","icaGDgu","mcWWlda","B3jKzxi","AvLguuy","ywfoD1y","BfHOBuC","mtaWjsa","DgXLCW","idaUmMu","BNmIlca","nty2AePNDxzH","zw0GCMC","yM9hC1q","DgnOrxy","zenOAwW","yw5NDwe","DgXLlxm","zxrPy2e","BNmTC2u","lxn0CM8","B2jZzxi","lwvUzca","icaGida","B25Lice","DMPZlxq","C2vYDMu","tKvvtKi","C3r5Bgu","CMv2B2S","vfHqreK","ihjNyMe","CMfJAY0","DgLVBIa","zw0Gmc4","z2vZ","y2fUCgW"];return(ft=function(){return e})()}function gt(e,t){const n=ft();return gt=function(t,r){let s=n[t-=487];if(void 0===gt.PyPhVu){gt.TZitbG=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,gt.PyPhVu=!0}const i=t+n[0],a=e[i];return a?s=a:(s=gt.TZitbG(s),e[i]=s),s},gt(e,t)}const pt=({videoRef:e,tmdbId:t,seasonId:n,episodeId:r})=>{const s=gt,i={msFXt:s(543)+"dmetadata",LaZSk:function(e){return e()},NEUNB:function(e,t){return e(t)},ksqzD:function(e,t){return e===t},lXhmG:"storage",RTFLB:s(656)+s(729)+"tting"+s(643)+"ged",NoACF:function(e,t){return e(t)},IKowZ:function(e){return e()},fnrQq:"mode",qyRbU:function(e,t,n){return e(t,n)},qtmiv:function(e,t){return e(t)},wUeWr:"disab"+s(679),CZhMW:function(e){return e()},BunQj:function(e,t,n,r){return e(t,n,r)},ollJh:function(e,t){return e(t)},UQVMj:function(e,t){return e>t},CXgWI:s(523)+s(521)+"ing i"+s(536)+s(554)+s(598)+"s:",aPNII:s(778)+"ay",LdEol:function(e){return e()},wzzOn:function(e,t){return e>t},RQXlR:function(e,t){return e(t)},TXPDI:function(e,t){return e(t)},nmxUJ:function(e,t){return e(t)},CTsoL:function(e,t){return e(t)},MBjLq:s(590),aUypp:s(487)+s(567)+"resum"+s(559)+"yback:",AqPhs:function(e,t){return e(t)},uDDlS:s(523)+s(521)+s(500)+"ubtitle:",Bjnei:"Error"+s(558)+s(508)+s(656)+"tle s"+s(690)+s(497),iYFQF:function(e,t){return e(t)},rFXDJ:function(e,t){return e(t)},JDTmt:function(e,t){return e(t)},xETFE:function(e,t){return e(t)},Vzxsy:function(e,t,n){return e(t,n)},aFKmG:function(e,t,n){return e(t,n)}},[a,l]=i[s(636)](o.useState,null),[c,u]=i.ollJh(o.useState,null),[d,m]=i[s(769)](o.useState,null),[h,x]=i.JDTmt(o.useState,null),[f,g]=i[s(517)](o.useState,i[s(529)](dt));o.useEffect(()=>{const t=s,n={vOFhH:function(e,t){return e(t)}},r=e[t(594)+"nt"];if(!r)return;const a=()=>{h&&n[t(697)](w,h)};return r[t(549)+t(716)+t(637)+"r"](i[t(725)],a),()=>{const e=t;r[e(642)+e(563)+"tListener"](i[e(725)],a)}},[h,e[s(594)+"nt"]]),o.useEffect(()=>{const t=s,n={LPKyX:function(e,t,n){return e(t,n)},LtoOd:function(e,t){return i[gt(782)](e,t)}},r=()=>{const e=gt,t=i[e(574)](dt);i[e(769)](g,t),xt(t[e(611)],t[e(545)+e(505)])};i.IKowZ(r);const a=e=>{const t=gt;i.ksqzD(e[t(696)],"subti"+t(759)+t(800)+"gs")&&i[t(574)](r)};window[t(549)+t(716)+t(637)+"r"](t(698)+"ge",a),window[t(549)+t(716)+"stener"](i[t(660)],r);const o=e[t(594)+"nt"];if(o){const e=new(window[t(694)+"ionOb"+t(768)+"r"])(()=>{const e=t,r={BvvGl:function(e){return e()},zgWaK:function(e,t,r){return n.LPKyX(e,t,r)}};n[e(538)](requestAnimationFrame,()=>{const t=e,n=r[t(551)](dt);r[t(804)](xt,n[t(611)],n[t(545)+t(505)])})});return e[t(763)+"ve"](o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[i[t(555)]]}),()=>{const n=t;e["disco"+n(653)](),window["remov"+n(563)+"tList"+n(495)](i[n(748)],a),window["remov"+n(563)+n(542)+n(495)](i.RTFLB,r)}}return()=>{const e=t;window["remov"+e(563)+e(542)+e(495)](e(698)+"ge",a),window[e(642)+"eEventList"+e(495)](e(656)+"tleSe"+e(581)+e(643)+"ged",r)}},[]);const p=i.Vzxsy(o.useCallback,e=>{const t=s;i[t(769)](g,e),i[t(640)](xt,e[t(611)],e[t(545)+"ion"]),i[t(553)](mt,e),window[t(561)+t(756)+t(699)](new Event(i.RTFLB))},[]);o.useEffect(()=>{const a=s,o={QClWU:i[a(613)],PMCfi:function(e){return e()},boGsT:i[a(707)]},l=async()=>{const s=a,l={YcsZc:i.wUeWr};if(t&&e[s(594)+"nt"])try{const a=i.CZhMW(dt);if(!a.subtitlesEnabled)return void(e.current[s(689)+"racks"]&&Array[s(796)](e[s(594)+"nt"][s(689)+s(530)])[s(654)+"ch"](e=>{const t=s;e[t(629)]=o[t(557)]}));const c=await i.BunQj(at,t,n,r);if(h){const e=c.find(e=>e.id===h.id);if(e)return void i.ollJh(w,e)}if(i[s(560)](a[s(664)+s(499)+s(758)+s(777)][s(595)+"h"],0))for(const t of a["prefe"+s(499)+s(758)+s(777)]){const n=c[s(682)](e=>e[s(624)+"age"]===t[s(624)+s(705)]&&e[s(492)+s(628)+s(639)+"ed"]===t[s(492)+s(628)+s(639)+"ed"]);if(n){e[s(594)+"nt"][s(689)+"racks"]&&Array[s(796)](e.current["textT"+s(530)])[s(654)+"ch"](e=>{const t=s;e.mode=l[t(718)]}),w(n);break}}}catch(c){}},c=e[a(594)+"nt"];if(!c)return;const u=()=>{const e=a;o[e(714)](l),c[e(642)+"eEven"+e(542)+e(495)](o[e(755)],u)};return c[a(588)+a(702)]>=3?i[a(578)](l):c[a(549)+a(716)+"stener"](i[a(707)],u),()=>{const e=a;c[e(642)+e(563)+e(542)+e(495)](o[e(755)],u)}},[t,n,r]),i.aFKmG(o.useEffect,()=>()=>{const e=gt;d&&URL[e(771)+"eObje"+e(577)](d)},[d]);const w=async t=>{const n=s;try{const s=e.current;if(!s)return;const o=!s.paused,c=s[n(594)+"ntTime"];for(;s["first"+n(586)];)s["remov"+n(644)+"d"](s[n(511)+n(586)]);if(d&&(URL[n(771)+"eObje"+n(577)](d),i[n(534)](m,null)),Array.from(s["textT"+n(530)]).forEach(e=>{const t=n;e.mode="disab"+t(679)}),!t){i[n(772)](l,null),u(null),x(null);const e={...f,subtitlesEnabled:!1};return void i[n(769)](p,e)}l(t.id),x(t);try{const e=(e=>{const t=Ve,n={cRIxv:t(418)+t(428),FsLgW:function(e,t){return e(t)},oECJx:function(e,t){return e(t)},hLKWL:function(e,t){return e+t},jPXuL:function(e,t){return e!==t},FCzyf:function(e,t){return e>t},yNGNs:function(e,t){return e+t}};let r=n[t(417)];const s=n[t(403)](Je,e);s&&(r=t(418)+"T\nDirectio"+t(429)+t(423));const i=e[t(425)+"ce"](/\r\n/g,"\n").replace(/\r/g,"\n").split(/\n\s*\n/).filter(e=>e.trim());for(const a of i){const e=n.oECJx($e,a);for(const i of e){const e=n[t(422)](Xe,i);if(!e)continue;const o=a[t(438)+"Of"](i);let l=a[t(404)](n.hLKWL(o,i[t(405)+"h"]));const c=l.search(/\d{2}:\d{2}:\d{2}[,\.]\d{3}\s*-->/);n.jPXuL(c,-1)&&(l=l[t(404)](0,c));const u=l[t(443)]("\n")[t(436)](e=>Re(e))[t(411)+"r"](e=>e&&!e[t(431)+t(444)](t(390))&&!/^\d+$/[t(434)](e)&&!/^\d{2}:\d{2}:\d{2}/[t(434)](e));n[t(440)](u[t(405)+"h"],0)&&(r+=n[t(400)](e,"\n"),r+=s?n.yNGNs(u[t(436)](e=>"‫"+e+"‬")[t(393)]("\n"),"\n\n"):n[t(400)](u.join("\n"),"\n\n"))}}return r})(await i[n(534)](ot,t.url)),a=_e(e);i.nmxUJ(m,a),i.CTsoL(u,a);const l=document[n(548)+n(592)+n(699)](i.MBjLq);if(l[n(579)]="subti"+n(750),l[n(678)]=a,l.srclang=t[n(624)+n(705)],l[n(731)]=t.display,l[n(544)+"lt"]=!0,s[n(784)+n(757)+"d"](l),await new Promise(e=>{l[n(494)+"d"]=()=>e(),l.onerror=()=>e(),setTimeout(e,1e3)}),requestAnimationFrame(()=>{const e=n;i.wzzOn(s[e(689)+e(530)][e(595)+"h"],0)&&(s[e(689)+e(530)][0][e(629)]=e(566)+"ng")}),i[n(685)](c,0)&&(s[n(594)+n(610)+"e"]=c),o)try{await s[n(779)]()}catch(r){}const d={...f,subtitlesEnabled:!0,preferredLanguages:[{language:t[n(624)+n(705)],display:t[n(565)+"ay"],isHearingImpaired:t[n(492)+n(628)+n(639)+"ed"]},...f[n(664)+"rredL"+n(758)+n(777)].filter(e=>e[n(624)+n(705)]!==t["langu"+n(705)]||e[n(492)+n(628)+n(639)+"ed"]!==t[n(492)+n(628)+"mpaired"])[n(715)](0,4)]};i[n(675)](p,d)}catch(a){i[n(645)](l,null),i[n(675)](u,null),x(null)}}catch(o){i[n(746)](l,null),i[n(645)](u,null),x(null)}};return{currentSubtitle:a,subtitleTrack:c,subtitleBlob:d,handleSubtitleSelect:w,updateSubtitleStyles:p,settings:f}};function wt(e,t){const n=vt();return wt=function(t,r){let s=n[t-=115];if(void 0===wt.GHtQRV){wt.vuoKuJ=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,wt.GHtQRV=!0}const i=t+n[0],a=e[i];return a?s=a:(s=wt.vuoKuJ(s),e[i]=s),s},wt(e,t)}!function(){const e=wt,t=vt();for(;;)try{if(137074===-parseInt(e(125))/1*(-parseInt(e(127))/2)+-parseInt(e(118))/3*(parseInt(e(116))/4)+parseInt(e(115))/5+-parseInt(e(121))/6*(-parseInt(e(122))/7)+-parseInt(e(120))/8*(-parseInt(e(119))/9)+parseInt(e(124))/10*(-parseInt(e(126))/11)+-parseInt(e(117))/12)break;t.push(t.shift())}catch(n){t.push(t.shift())}}();function vt(){const e=["mZiZmZq2mhP3EMfZzG","mJfHvgT1CvO","mtm1nZm4AxHft3v0","ndbiuwvuAxa","mtm3mteWmKD5AhvAsG","n1jtExP3Da","y0L4uKC","mJb6tfP2ELi","mti4nxbiDgrTCG","mJe3ntHds0TptfK","nJjNAKnxzhC","DM5Rs24","ntm4nZG1wgT6sKXZ","mJm0ndHbzKHAExi"];return(vt=function(){return e})()}const yt=o.memo(({menuRef:e,servers:t,currentServer:n,onServerClick:r,onServerTest:s})=>{const i=H(),a=t.filter(e=>!0===e.isAvailable).length,o=t.filter(e=>null===e.isAvailable).length,c=[...t].sort((e,t)=>{const n=["Yoru","Jett","Cypher","Sage"];return n.indexOf(e.name)-n.indexOf(t.name)}),u=e=>e.isLoading?"#6B7280":!0===e.isAvailable?"#10b981":!1===e.isAvailable?"#EF4444":"#F59E0B",d=e=>e.isLoading?"Testing...":!0===e.isAvailable?"Available":!1===e.isAvailable?"Unavailable":"Untested";return l.jsxs("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200 w-[300px] md:w-[400px] max-h-[90vh] flex flex-col",style:{boxShadow:`0 25px 50px -12px ${T(i,.15)}`},children:[l.jsxs("div",{className:"px-6 py-5 bg-gradient-to-b from-[#101010] to-[#0A0A0A] border-b border-white/[0.06] flex items-center justify-between flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center relative group",style:{background:`linear-gradient(135deg, ${T(i,.15)}, ${T(i,.05)})`,border:`1px solid ${T(i,.2)}`},children:[l.jsx(E.Cloud,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:i}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:"Select Source"}),l.jsx("p",{className:"text-xs text-white/40",children:"Choose your preferred server"})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[o>0&&l.jsxs("div",{className:"px-3 py-1.5 rounded-lg text-xs font-medium",style:{background:"linear-gradient(135deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.05))",border:"1px solid rgba(245, 158, 11, 0.2)",color:"#F59E0B"},children:[o," Untested"]}),a>0&&l.jsxs("div",{className:"px-3 py-1.5 rounded-lg text-xs font-medium",style:{background:`linear-gradient(135deg, ${T(i,.15)}, ${T(i,.05)})`,border:`1px solid ${T(i,.2)}`,color:i},children:[a," Available"]})]})]}),l.jsx("div",{className:"p-3 overflow-y-auto custom-scrollbar flex-1 bg-gradient-to-b from-transparent to-black/20",children:l.jsx("div",{className:"grid grid-cols-3 gap-2 min-w-0",children:c.map(e=>l.jsx("button",{onClick:()=>(async e=>{!0!==e.isAvailable&&e.name!==n?!s||null!==e.isAvailable&&!1!==e.isAvailable?r(e.name,e.source):await s(e.name):r(e.name,e.source)})(e),disabled:e.isLoading,className:`\n                group relative aspect-square p-3 rounded-xl transition-all duration-300\n                ${e.isLoading?"opacity-70 cursor-wait":n===e.name?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-[#101010] active:scale-95 hover:shadow-lg"}\n              `,style:{borderColor:n===e.name?T(i,.3):"transparent",borderWidth:"1px",boxShadow:n===e.name?`0 8px 16px -4px ${T(i,.2)}`:void 0},children:l.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[l.jsxs("div",{className:`\n                  relative flex-shrink-0 flex items-center justify-center w-12 h-12 rounded-xl mb-3\n                  transition-transform duration-300 group-hover:scale-105\n                  ${n===e.name?"shadow-lg":"bg-gradient-to-b from-[#1A1A1A] to-[#141414]"}\n                `,style:{background:n===e.name?`linear-gradient(135deg, ${i}, ${T(i,.8)})`:void 0,boxShadow:n===e.name?`0 12px 20px -6px ${T(i,.3)}`:void 0},children:[e.isLoading?l.jsx(E.Loader,{className:"w-5 h-5 text-white/70 animate-spin"}):l.jsx(E.Cloud,{className:"w-5 h-5 transition-transform duration-300 group-hover:scale-110 "+(n===e.name?"text-white":"text-white/70")}),l.jsx("div",{className:`\n                      absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center\n                      transition-transform duration-300 group-hover:scale-110\n                      ${!e.isLoading&&!1!==e.isAvailable&&""}\n                    `,style:{background:`linear-gradient(135deg, ${u(e)}, ${T(u(e),.8)})`,boxShadow:`0 4px 8px -2px ${T(u(e),.3)}`},children:e.isLoading?l.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):!0===e.isAvailable?l.jsx("svg",{className:"w-3 h-3 text-white drop-shadow",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):!1===e.isAvailable?l.jsx("svg",{className:"w-3 h-3 text-white drop-shadow",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}):l.jsx("svg",{className:"w-3 h-3 text-white drop-shadow",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})})]}),l.jsxs("div",{className:"text-center space-y-1",children:[l.jsx("div",{className:`\n                    text-sm font-medium truncate transition-colors duration-150 max-w-[100px]\n                    ${n===e.name?"text-white":"text-white/70 group-hover:text-white"}\n                  `,children:e.name}),l.jsx("div",{className:"\n                    text-[10px] font-medium uppercase tracking-wider\n                    transition-colors duration-150\n                  ",style:{color:e.isLoading?"#6B7280":n===e.name?"rgba(255, 255, 255, 0.7)":u(e)},children:d(e)})]})]})},e.name))})})]})});yt.displayName="ServerMenu";const bt={initial:{opacity:0,x:-20},animate:e=>({opacity:1,x:0,transition:{delay:.05*e,duration:.2}}),exit:{opacity:0,x:20}},Ct={initial:{opacity:0,y:20},animate:e=>({opacity:1,y:0,transition:{delay:.05*e,duration:.2}}),exit:{opacity:0,y:-20}},jt=o.memo(({menuRef:e,tmdbId:t,currentSeason:n,currentEpisode:i,showName:a})=>{const c=H(),{isAuthenticated:u}=r(),[d,m]=o.useState([]),[h,x]=o.useState(null),[f,g]=o.useState(!0),[p,w]=o.useState(null),[v,y]=o.useState({}),b=o.useRef(null);o.useEffect(()=>{(async()=>{try{g(!0);const e=await F(t);m(e);const r=e.find(e=>e.season_number===parseInt(n));x(r||e[0]),g(!1)}catch(e){w("Failed to load episodes"),g(!1)}})()},[t,n]),o.useEffect(()=>{if(!f&&b.current&&h){const e=b.current.querySelector(`[data-episode-id="s${n}e${i}"]`);e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"center"})},300)}},[f,h,n,i]),o.useEffect(()=>{if(!f&&b.current&&h){const e=b.current.querySelector(`[data-episode-id="s${n}e${i}"]`);e&&setTimeout(()=>{e.scrollIntoView({behavior:"smooth",block:"center"})},300)}},[h]);const C=o.useCallback(async()=>{try{const e=await s(),n=e[t]?.show_progress||{},r={};Object.entries(n).forEach(([e,t])=>{r[e]=t.progress}),y(r)}catch(e){}},[t,u]);o.useEffect(()=>{C();const e=setInterval(C,1e3);return()=>clearInterval(e)},[C]);return f?l.jsx("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200",children:l.jsx("div",{className:"flex items-center justify-center h-[300px]",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 rounded-full",style:{backgroundColor:T(c,.2),filter:"blur(8px)"}}),l.jsx("div",{className:"relative w-10 h-10 border-3 rounded-full animate-spin",style:{borderColor:T(c,.3),borderTopColor:c}})]})})}):p?l.jsx("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200",children:l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-4",style:{backgroundColor:T(c,.1),borderColor:T(c,.2),borderWidth:"1px"},children:l.jsx(E.Episodes,{className:"w-6 h-6",style:{color:c}})}),l.jsx("p",{className:"text-white/70",children:p})]})}):l.jsxs("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200 w-[300px] md:w-[400px]",style:{maxHeight:"calc(100vh - 200px)",boxShadow:`0 25px 50px -12px ${T(c,.15)}`},children:[l.jsxs("div",{className:"px-6 py-5 bg-gradient-to-b from-[#101010] to-[#0A0A0A] border-b border-white/[0.06] flex items-center justify-between flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center relative group",style:{background:`linear-gradient(135deg, ${T(c,.15)}, ${T(c,.05)})`,border:`1px solid ${T(c,.2)}`},children:[l.jsx(E.Episodes,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:c}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:a}),l.jsx("p",{className:"text-xs text-white/40",children:"Select an episode to watch"})]})]}),l.jsxs("div",{className:"px-3 py-1.5 rounded-lg text-xs font-medium",style:{background:`linear-gradient(135deg, ${T(c,.15)}, ${T(c,.05)})`,border:`1px solid ${T(c,.2)}`,color:c},children:[h?.episodes.length||0," Episodes"]})]}),l.jsxs("div",{className:"overflow-y-auto custom-scrollbar",style:{maxHeight:"calc(100vh - 264px)"},children:[l.jsx("div",{className:"sticky top-0 bg-[#0A0A0A] z-[1] border-b border-white/[0.06]",children:l.jsx("div",{className:"p-4 flex items-center space-x-2 overflow-x-auto custom-scrollbar",children:d.map((e,t)=>l.jsx(B.button,{custom:t,variants:bt,initial:"initial",animate:"animate",exit:"exit",onClick:()=>x(e),className:`\n                  flex-shrink-0 px-4 py-2 rounded-xl transition-all duration-200\n                  ${h?.id===e.id?"":"hover:bg-white/5"}\n                `,style:h?.id===e.id?{background:`linear-gradient(135deg, ${T(c,.15)}, ${T(c,.05)})`,border:`1px solid ${T(c,.2)}`,color:c}:void 0,children:l.jsxs("span",{className:"text-sm font-medium whitespace-nowrap",children:["Season ",e.season_number]})},e.id))})}),l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"grid grid-cols-1 gap-3",ref:b,children:h?.episodes.map((e,r)=>{const s=parseInt(n)===h.season_number&&parseInt(i)===e.episode_number,a=(o=h.season_number,u=e.episode_number,v[`s${o}e${u}`]);var o,u;const d=(e=>{if(!e)return"not-started";const t=e.watched/e.duration*100;return t>=98?"completed":t>0?"in-progress":"not-started"})(a),m=a?Math.min(a.watched/a.duration*100,100):0;return l.jsx(B.button,{"data-episode-id":`s${h.season_number}e${e.episode_number}`,custom:r,variants:Ct,initial:"initial",animate:"animate",exit:"exit",onClick:()=>((e,n)=>{const r=new URLSearchParams(window.location.search),s=`/watch/tv/${t}/${e}/${n}${r.toString()?`?${r.toString()}`:""}`;window.location.replace(s)})(h.season_number,e.episode_number),className:`\n                    w-full text-left p-3 rounded-xl transition-all duration-200\n                    ${s?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-[#101010]"}\n                  `,style:s?{borderColor:T(c,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${T(c,.2)}`}:void 0,children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsxs("div",{className:"w-32 h-[72px] rounded-lg bg-[#1A1A1A] flex-shrink-0 overflow-hidden relative group",children:[e.still_path?l.jsx("img",{src:`https://image.tmdb.org/t/p/w300${e.still_path}`,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(E.Image,{className:"w-6 h-6 text-white/20"})}),"not-started"!==d&&l.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-white/10",children:l.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${m}%`,background:`linear-gradient(to right, ${c}, ${T(c,.8)})`}})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"text-sm font-medium text-white truncate",children:e.name}),l.jsxs("span",{className:"text-[11px] text-white/40 font-medium",children:["E",e.episode_number]})]}),l.jsx("p",{className:"mt-1 text-xs text-white/50 line-clamp-2",children:e.overview}),e.air_date&&l.jsx("p",{className:"mt-2 text-[11px] text-white/40",children:new Date(e.air_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})},e.id)})})})]})]})});jt.displayName="EpisodeMenu";const Nt={initial:{opacity:0,y:20},animate:e=>({opacity:1,y:0,transition:{delay:.05*e,duration:.2}}),exit:{opacity:0,y:-20}},zt=o.memo(({menuRef:e,tmdbId:t,season:n,episode:r,currentSubtitle:s,onSubtitleSelect:i})=>{const a=H(),[c,u]=o.useState([]),[d,m]=o.useState(null),[h,x]=o.useState(!0),[f,g]=o.useState(null),[p,w]=o.useState(""),[v,y]=o.useState("subtitles"),[b,C]=o.useState(dt);o.useEffect(()=>{const e=dt();C(e),e.subtitlesEnabled||(j(),i(null))},[]);const j=o.useCallback(()=>{const e=document.querySelector("video");e?.textTracks&&requestAnimationFrame(()=>{for(let t=0;t<e.textTracks.length;t++)e.textTracks[t].mode="disabled"})},[]),N=o.useCallback(e=>{j(),i(e);const t={...b,subtitlesEnabled:null!==e};if(e){e.isCustom&&m(e);const n={language:e.language,display:e.display,isHearingImpaired:e.isHearingImpaired,id:e.id};t.preferredLanguages=[n,...b.preferredLanguages.filter(t=>t.language!==e.language||t.isHearingImpaired!==e.isHearingImpaired||t.id!==e.id).slice(0,4)]}if(C(t),null===e){const e=document.querySelector("video");e?.textTracks&&Array.from(e.textTracks).forEach(e=>{e.mode="disabled"})}const n=setTimeout(()=>{mt(t),window.dispatchEvent(new Event("subtitleSettingsChanged"))},50);return()=>clearTimeout(n)},[b,i,j]);o.useEffect(()=>{let e=!0;return(async()=>{try{x(!0),g(null);const i=await at(t,n,r);if(!e)return;if(u(d?[d,...i]:i),!s&&b.subtitlesEnabled&&b.preferredLanguages.length>0)for(const e of b.preferredLanguages){const t=i.find(t=>t.language===e.language&&t.isHearingImpaired===e.isHearingImpaired&&t.id===e.id);if(t){N(t);break}}}catch(i){e&&g("Failed to load subtitles")}finally{e&&x(!1)}})(),()=>{e=!1}},[t,n,r,d]);const z=o.useMemo(()=>(p?c.filter(e=>e.language.toLowerCase().includes(p.toLowerCase())||e.display.toLowerCase().includes(p.toLowerCase())):c).sort((e,t)=>{if(e.isCustom&&!t.isCustom)return-1;if(!e.isCustom&&t.isCustom)return 1;const n=e.display.toLowerCase(),r=t.display.toLowerCase();return n<r?-1:n>r?1:e.language.toLowerCase().localeCompare(t.language.toLowerCase())}),[c,p]),A=o.useCallback(e=>{const t={...b,size:e};C(t);const n=setTimeout(()=>{mt(t),window.dispatchEvent(new Event("subtitleSettingsChanged"))},50);return()=>clearTimeout(n)},[b]),S=o.useCallback(e=>{const t={...b,position:e};C(t);const n=setTimeout(()=>{mt(t),window.dispatchEvent(new Event("subtitleSettingsChanged"))},50);return()=>clearTimeout(n)},[b]);return h?l.jsx("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200",children:l.jsx("div",{className:"flex items-center justify-center h-[300px]",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 rounded-full",style:{backgroundColor:T(a,.2),filter:"blur(8px)"}}),l.jsx("div",{className:"relative w-10 h-10 border-3 rounded-full animate-spin",style:{borderColor:T(a,.3),borderTopColor:a}})]})})}):f?l.jsx("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200",children:l.jsxs("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mx-auto mb-4",style:{backgroundColor:T(a,.1),borderColor:T(a,.2),borderWidth:"1px"},children:l.jsx(E.Close,{className:"w-6 h-6",style:{color:a}})}),l.jsx("p",{className:"text-white/70",children:f})]})}):l.jsxs("div",{ref:e,className:"bg-[#0A0A0A]/95 backdrop-blur-xl rounded-2xl shadow-2xl shadow-black/30 border border-white/[0.08] overflow-hidden transform scale-95 origin-bottom-right animate-in fade-in slide-in-from-bottom-2 duration-200 w-[300px] md:w-[400px]",style:{maxHeight:"calc(100vh - 200px)",boxShadow:`0 25px 50px -12px ${T(a,.15)}`},children:[l.jsxs("div",{className:"px-6 py-5 bg-gradient-to-b from-[#101010] to-[#0A0A0A] border-b border-white/[0.06] flex items-center justify-between flex-shrink-0",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center relative group",style:{background:`linear-gradient(135deg, ${T(a,.15)}, ${T(a,.05)})`,border:`1px solid ${T(a,.2)}`},children:[l.jsx(E.List,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:a}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:"Subtitles"}),l.jsx("p",{className:"text-xs text-white/40",children:"Choose your preferred language"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>y("subtitles"),className:`\n              px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200\n              ${"subtitles"===v?"":"hover:bg-white/5"}\n            `,style:"subtitles"===v?{background:`linear-gradient(135deg, ${T(a,.15)}, ${T(a,.05)})`,border:`1px solid ${T(a,.2)}`,color:a}:void 0,children:"Subtitles"}),l.jsx("button",{onClick:()=>y("advanced"),className:`\n              px-3 py-1.5 rounded-lg text-xs font-medium transition-all duration-200\n              ${"advanced"===v?"":"hover:bg-white/5"}\n            `,style:"advanced"===v?{background:`linear-gradient(135deg, ${T(a,.15)}, ${T(a,.05)})`,border:`1px solid ${T(a,.2)}`,color:a}:void 0,children:"Advanced"})]})]}),"subtitles"===v&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"p-3 border-b border-white/[0.06]",children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Search language...",value:p,onChange:e=>w(e.target.value),className:"w-full bg-[#1A1A1A] rounded-xl px-4 py-2.5 pl-10 text-sm text-white placeholder-white/30 focus:outline-none focus:ring-2 transition-all duration-200",style:{backgroundColor:T(a,.1),borderColor:T(a,.2),borderWidth:"1px"}}),l.jsx(k,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-white/30"})]}),l.jsx("div",{className:"mt-3",children:l.jsxs("label",{htmlFor:"custom-subtitle-upload",className:"\n                    w-full px-4 py-2.5 rounded-xl flex items-center justify-center gap-2\n                    bg-[#1A1A1A] hover:bg-[#252525] transition-all duration-200 cursor-pointer\n                    border border-white/[0.08] hover:border-white/[0.15]\n                  ",style:{backgroundColor:T(a,.1),borderColor:T(a,.2)},children:[l.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:l.jsx(E.Upload,{className:"w-4 h-4 text-white/70"})}),l.jsx("span",{className:"text-sm text-white/70",children:"Upload Custom Subtitle (.vtt)"}),l.jsx("input",{id:"custom-subtitle-upload",type:"file",accept:".vtt",className:"hidden",onChange:async e=>{const t=e.target.files?.[0];if(t)try{const e=await ct(t);N(e)}catch(n){}}})]})})]}),l.jsx("div",{className:"p-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:l.jsx(D,{children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs(B.button,{variants:Nt,initial:"initial",animate:"animate",exit:"exit",custom:-1,onClick:()=>N(null),className:`\n                    w-full px-4 py-3 rounded-xl flex items-center justify-between hover:bg-white/5 transition-all duration-200\n                    ${s?"":"bg-gradient-to-b from-[#101010] to-[#0A0A0A]"}\n                  `,style:s?void 0:{borderColor:T(a,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${T(a,.2)}`},children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.Close,{className:"w-5 h-5 text-white/70"})}),l.jsx("div",{className:"text-sm font-medium text-white",children:"Off"})]}),!s&&l.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:T(a,.1),borderColor:T(a,.2),borderWidth:"1px"},children:l.jsx(E.Check,{className:"w-3 h-3",style:{color:a}})})]}),z.map((e,t)=>l.jsxs(B.button,{variants:Nt,initial:"initial",animate:"animate",exit:"exit",custom:t,onClick:()=>N(e),className:`\n                      w-full px-4 py-3 rounded-xl flex items-center justify-between hover:bg-white/5 transition-all duration-200\n                      ${s===e.id||e.isCustom&&s?.startsWith("custom-")?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":""}\n                    `,style:s===e.id||e.isCustom&&s?.startsWith("custom-")?{borderColor:T(a,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${T(a,.2)}`}:void 0,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1A1A1A] flex items-center justify-center overflow-hidden",children:e.isCustom?l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(E.Upload,{className:"w-5 h-5 text-white/70"})}):l.jsx("img",{src:e.flagUrl,alt:e.language,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:e.display}),l.jsx("div",{className:"text-[11px] text-white/50",children:e.language})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[e.isHearingImpaired&&l.jsx("div",{className:"px-2 py-1 rounded-lg text-[10px] font-medium",style:{background:`linear-gradient(135deg, ${T(a,.15)}, ${T(a,.05)})`,border:`1px solid ${T(a,.2)}`,color:a},children:"CC"}),(s===e.id||e.isCustom&&s?.startsWith("custom-"))&&l.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:T(a,.1),borderColor:T(a,.2),borderWidth:"1px"},children:l.jsx(E.Check,{className:"w-3 h-3",style:{color:a}})})]})]},e.id))]})})})]}),"advanced"===v&&l.jsx("div",{className:"p-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-black/20 rounded-xl p-4",children:[l.jsxs("h3",{className:"text-white font-medium mb-3 flex items-center",children:[l.jsx("span",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center mr-2",children:l.jsx(E.List,{className:"w-4 h-4 text-white/70"})}),"Subtitle Size"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-white/70",children:"Small"}),l.jsx("span",{className:"text-xs text-white/70",children:"Large"})]}),l.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.05",value:b.size,onChange:e=>A(parseFloat(e.target.value)),className:"w-full accent-primary h-2 bg-[#1A1A1A] rounded-lg appearance-none cursor-pointer",style:{accentColor:a}}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"px-2 py-1 bg-[#1A1A1A] rounded-md text-xs text-white/80",style:{border:`1px solid ${T(a,.2)}`},children:[Math.round(100*b.size),"%"]})}),l.jsx("div",{className:"pt-2",children:l.jsx("div",{className:"grid grid-cols-3 gap-2",children:[.75,1,1.5].map(e=>l.jsx("button",{onClick:()=>A(e),className:`py-2 px-3 rounded-lg text-xs ${Math.abs(b.size-e)<.01?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"bg-[#1A1A1A] hover:bg-[#252525]"} transition-colors duration-200`,style:Math.abs(b.size-e)<.01?{borderColor:T(a,.2),borderWidth:"1px",color:a}:void 0,children:.75===e?"Small":1===e?"Default":"Large"},e))})})]})]}),l.jsxs("div",{className:"bg-black/20 rounded-xl p-4",children:[l.jsxs("h3",{className:"text-white font-medium mb-3 flex items-center",children:[l.jsx("span",{className:"w-8 h-8 rounded-lg bg-[#1A1A1A] flex items-center justify-center mr-2",children:l.jsx(E.List,{className:"w-4 h-4 text-white/70"})}),"Subtitle Position"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-white/70",children:"Bottom"}),l.jsx("span",{className:"text-xs text-white/70",children:"Top"})]}),l.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:b.position,onChange:e=>S(parseFloat(e.target.value)),className:"w-full accent-primary h-2 bg-[#1A1A1A] rounded-lg appearance-none cursor-pointer",style:{accentColor:a}}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"px-2 py-1 bg-[#1A1A1A] rounded-md text-xs text-white/80",style:{border:`1px solid ${T(a,.2)}`},children:[Math.round(b.position),"%"]})})]})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx("button",{onClick:()=>{A(1),S(10)},className:"px-4 py-2 rounded-lg text-xs bg-[#1A1A1A] hover:bg-[#252525] transition-colors duration-200",children:"Reset to Defaults"})})]})})]})});function At(...e){return q({yFeAc:function(e,t){return e(t)}}[St(111)](I,e))}function St(e,t){var n=Lt();return St=function(t,r){var s=n[t-=102];if(void 0===St.fnjElA){St.tdRiwR=function(e){for(var t,n,r="",s="",i=0,a=0;n=e.charAt(a++);~n&&(t=i%4?64*t+n:n,i++%4)?r+=String.fromCharCode(255&t>>(-2*i&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);for(var o=0,l=r.length;o<l;o++)s+="%"+("00"+r.charCodeAt(o).toString(16)).slice(-2);return decodeURIComponent(s)},e=arguments,St.fnjElA=!0}var i=t+n[0],a=e[i];return a?s=a:(s=St.tdRiwR(s),e[i]=s),s},St(e,t)}function Lt(){var e=["ndbZD2H3qNK","nhj5vKzVCq","ntyWmJCWn0vRy3n2rq","ndKYnduYBwX5wMLI","mZa3nZC2zxfiugvg","ndGWnZi3qw1sBxLW","mZe0odq2n1vyBKrXzG","EuzLqwm","ndu3mdqXmhDRqLHKrW","otC5mZG5qxHjEe5Q"];return(Lt=function(){return e})()}zt.displayName="SubtitleMenu",function(){for(var e=St,t=Lt();;)try{if(686916===-parseInt(e(109))/1+parseInt(e(105))/2*(-parseInt(e(103))/3)+parseInt(e(107))/4+-parseInt(e(102))/5+-parseInt(e(108))/6+-parseInt(e(110))/7+parseInt(e(104))/8*(parseInt(e(106))/9))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Bt=[{width:320,height:480},{width:480,height:320},{width:720,height:1280},{width:1280,height:720},{width:1080,height:2400},{width:2400,height:1080},{width:1440,height:3200},{width:3200,height:1440},{width:1440,height:3088},{width:3088,height:1440},{width:667,height:375},{width:896,height:414},{width:844,height:390},{width:852,height:393}],Dt={initial:{opacity:0,x:-20},animate:e=>({opacity:1,x:0,transition:{delay:.05*e,duration:.2}}),exit:{opacity:0,x:20}},Mt={initial:{opacity:0,y:20},animate:e=>({opacity:1,y:0,transition:{delay:.05*e,duration:.2}}),exit:{opacity:0,y:-20}},kt=o.memo(({isOpen:t,onClose:n,tmdbId:i,currentSeason:a,currentEpisode:c,showName:u,overlayStyles:d})=>{const m=H(),{isAuthenticated:h}=r(),[x,f]=o.useState([]),[g,p]=o.useState(null),[w,v]=o.useState(!0),[y,b]=o.useState(null),[C,j]=o.useState({}),[N,z]=o.useState(!1);o.useEffect(()=>{const e=()=>{const e=window.innerWidth,t=window.innerHeight,n=((e,t)=>Bt.some(n=>Math.abs(e-n.width)<=50&&Math.abs(t-n.height)<=50||Math.abs(e-n.height)<=50&&Math.abs(t-n.width)<=50))(e,t);z(e>t&&n)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),o.useEffect(()=>{t&&(async()=>{try{v(!0);const e=await F(i);f(e);const t=e.find(e=>e.season_number===parseInt(a));p(t||e[0]),v(!1)}catch(e){b("Failed to load episodes"),v(!1)}})()},[i,a,t]);const A=o.useCallback(async()=>{try{let t={};if(h){const e=await s(),n=e[i]?.show_progress||{};Object.entries(n).forEach(([e,n])=>{t[e]=n.progress})}else if(g)for(const n of g.episodes){const r=await e("tv",i,g.season_number,n.episode_number);if(null!==r){const e=`s${g.season_number}e${n.episode_number}`;t[e]={watched:r,duration:0}}}j(t)}catch(t){}},[i,h,g]);o.useEffect(()=>{if(t){A();const e=setInterval(A,1e3);return()=>clearInterval(e)}},[A,t]);return l.jsx(D,{children:t&&l.jsxs(B.div,{className:"fixed inset-0 z-50 flex items-end justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&n()},children:[l.jsx(B.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),l.jsxs(B.div,{className:At("relative w-full max-w-lg bg-[#0A0A0A] rounded-t-2xl","flex flex-col max-h-[85vh]"),style:{...d,boxShadow:`0 -25px 50px -12px ${T(m,.15)}`},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0},dragElastic:.2,onDragEnd:(e,t)=>{(t.velocity.y>20||t.offset.y>200)&&n()},children:[l.jsx("div",{className:"flex justify-center pt-2 pb-4 cursor-grab active:cursor-grabbing",children:l.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:T(m,.2)}})}),l.jsx("div",{className:"px-6 pb-4",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:At("w-10 h-10 rounded-xl flex items-center justify-center","relative group transition-transform duration-300"),style:{background:`linear-gradient(135deg, ${T(m,.15)}, ${T(m,.05)})`,border:`1px solid ${T(m,.2)}`},children:[l.jsx(E.Episodes,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:m}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:u}),l.jsx("p",{className:"text-xs text-white/40",children:"Select an episode to watch"})]})]})})}),l.jsx("div",{className:"px-4 pb-4",children:l.jsx("div",{className:"flex gap-2 overflow-x-auto custom-scrollbar",children:x.map((e,t)=>l.jsx(B.button,{custom:t,variants:Dt,initial:"initial",animate:"animate",exit:"exit",onClick:()=>p(e),className:`\n                      flex-shrink-0 px-3 py-1.5 rounded-lg transition-all duration-200\n                      ${g?.id===e.id?"":"hover:bg-white/5"}\n                    `,style:g?.id===e.id?{background:`linear-gradient(135deg, ${T(m,.15)}, ${T(m,.05)})`,border:`1px solid ${T(m,.2)}`,color:m}:void 0,children:l.jsxs("span",{className:"text-sm font-medium whitespace-nowrap",children:["Season ",e.season_number]})},e.id))})}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:l.jsx("div",{className:"px-4 pb-4 space-y-2",children:g?.episodes.map((e,t)=>{const n=parseInt(a)===g.season_number&&parseInt(c)===e.episode_number,r=(s=g.season_number,o=e.episode_number,C[`s${s}e${o}`]);var s,o;const u=(e=>{if(!e)return"not-started";const t=e.watched/e.duration*100;return t>=98?"completed":t>0?"in-progress":"not-started"})(r),d=r?Math.min(r.watched/r.duration*100,100):0;return l.jsx(B.button,{custom:t,variants:Mt,initial:"initial",animate:"animate",exit:"exit",onClick:()=>((e,t)=>{const n=new URLSearchParams(window.location.search),r=`/watch/tv/${i}/${e}/${t}${n.toString()?`?${n.toString()}`:""}`;window.location.href=r})(g.season_number,e.episode_number),className:`\n                        w-full text-left p-2.5 rounded-xl transition-all duration-200\n                        ${n?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-[#101010]"}\n                      `,style:n?{borderColor:T(m,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${T(m,.2)}`}:void 0,children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsxs("div",{className:"w-24 h-[54px] sm:w-32 sm:h-[72px] rounded-lg bg-[#1A1A1A] flex-shrink-0 overflow-hidden relative group",children:[e.still_path?l.jsx("img",{src:`https://image.tmdb.org/t/p/w300${e.still_path}`,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(E.Image,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white/20"})}),"not-started"!==u&&l.jsx("div",{className:"absolute inset-x-0 bottom-0 h-1 bg-white/10",children:l.jsx("div",{className:"h-full transition-all duration-300",style:{width:`${d}%`,background:`linear-gradient(to right, ${m}, ${T(m,.8)})`}})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("h4",{className:"text-sm font-medium text-white truncate",children:e.name}),l.jsxs("span",{className:"text-[11px] text-white/40 font-medium shrink-0",children:["E",e.episode_number]})]}),l.jsx("p",{className:"mt-1 text-xs text-white/50 line-clamp-2",children:e.overview}),e.air_date&&l.jsx("p",{className:"mt-1 text-[10px] text-white/40",children:new Date(e.air_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})},e.id)})})})]})]})})});kt.displayName="EpisodeOverlay";const It={initial:{opacity:0,scale:.95,y:20},animate:e=>({opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25,delay:.05*e}}),exit:{opacity:0,scale:.95,y:-20}},qt=o.memo(({isOpen:e,onClose:t,servers:n,currentServer:r,onServerClick:s,onServerTest:i,overlayStyles:a})=>{const o=H(),c=n.filter(e=>!0===e.isAvailable).length,u=n.filter(e=>null===e.isAvailable).length,d=[...n].sort((e,t)=>{const n=["Yoru","Jett","Cypher","Sage"];return n.indexOf(e.name)-n.indexOf(t.name)}),m=e=>e.isLoading?"#6B7280":!0===e.isAvailable?"#10b981":!1===e.isAvailable?"#EF4444":"#F59E0B",h=e=>e.isLoading?"Testing...":!0===e.isAvailable?"Available":!1===e.isAvailable?"Unavailable":"Untested";return l.jsx(D,{mode:"wait",children:e&&l.jsxs(B.div,{className:"fixed inset-0 z-50 flex items-end justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&t()},children:[l.jsx(B.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},"server-backdrop"),l.jsxs(B.div,{className:At("relative w-full max-w-lg bg-[#0A0A0A] rounded-t-2xl","flex flex-col max-h-[85vh]"),style:{...a,boxShadow:`0 -25px 50px -12px ${T(o,.15)}`},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0},dragElastic:.2,onDragEnd:(e,n)=>{(n.velocity.y>20||n.offset.y>200)&&t()},children:[l.jsx("div",{className:"flex justify-center pt-2 pb-4 cursor-grab active:cursor-grabbing",children:l.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:T(o,.2)}})}),l.jsx("div",{className:"px-6 pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:At("w-10 h-10 rounded-xl flex items-center justify-center","relative group transition-transform duration-300"),style:{background:`linear-gradient(135deg, ${T(o,.15)}, ${T(o,.05)})`,border:`1px solid ${T(o,.2)}`},children:[l.jsx(E.Cloud,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:o}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:"Select Source"}),l.jsx("p",{className:"text-xs text-white/40",children:"Choose your preferred server"})]})]}),l.jsxs("div",{className:"flex space-x-2",children:[u>0&&l.jsxs("div",{className:"px-3 py-1.5 rounded-lg text-xs font-medium",style:{background:"linear-gradient(135deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.05))",border:"1px solid rgba(245, 158, 11, 0.2)",color:"#F59E0B"},children:[u," Untested"]}),c>0&&l.jsxs("div",{className:"px-3 py-1.5 rounded-lg text-xs font-medium",style:{background:`linear-gradient(135deg, ${T(o,.15)}, ${T(o,.05)})`,border:`1px solid ${T(o,.2)}`,color:o},children:[c," Available"]})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:l.jsx("div",{className:"p-4",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:l.jsx(D,{mode:"wait",children:d.map((e,t)=>l.jsx(B.button,{variants:It,initial:"initial",animate:"animate",exit:"exit",custom:t,onClick:()=>(async e=>{!0!==e.isAvailable&&e.name!==r?!i||null!==e.isAvailable&&!1!==e.isAvailable?s(e.name,e.source):await i(e.name):s(e.name,e.source)})(e),disabled:e.isLoading,className:At("group relative p-3 rounded-xl aspect-square","transition-all duration-200","border border-white/[0.08]",e.isLoading?"opacity-70 cursor-wait":r===e.name?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-white/5 active:scale-95 hover:shadow-lg"),style:r===e.name?{borderColor:T(o,.2),boxShadow:`0 8px 16px -4px ${T(o,.2)}`}:void 0,children:l.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[l.jsxs("div",{className:At("relative flex-shrink-0 w-12 h-12 rounded-xl","flex items-center justify-center mb-3","transition-transform duration-300 group-hover:scale-110"),style:{background:`linear-gradient(135deg, ${T(o,.15)}, ${T(o,.05)})`,borderColor:T(o,.2),borderWidth:"1px"},children:[e.isLoading?l.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white/70 rounded-full animate-spin"}):l.jsx(E.Cloud,{className:"w-6 h-6 transition-transform duration-300 group-hover:scale-110 "+(r===e.name?"text-white":"text-white/70"),style:{color:r===e.name?"white":o}}),l.jsx("div",{className:At("absolute -top-1 -right-1 w-5 h-5 rounded-full","flex items-center justify-center","transition-transform duration-300 group-hover:scale-110",!e.isLoading&&!1!==e.isAvailable&&""),style:{background:`linear-gradient(135deg, ${m(e)}, ${T(m(e),.8)})`,boxShadow:`0 4px 8px -2px ${T(m(e),.3)}`},children:e.isLoading?l.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):!0===e.isAvailable?l.jsx("svg",{className:"w-3 h-3 text-white drop-shadow",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):!1===e.isAvailable?l.jsx("svg",{className:"w-3 h-3 text-white drop-shadow",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}):l.jsx("svg",{className:"w-3 h-3 text-white drop-shadow",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})})]}),l.jsxs("div",{className:"text-center space-y-1",children:[l.jsx("div",{className:At("text-sm font-medium truncate max-w-[100px]","transition-colors duration-150",r===e.name?"text-white":"text-white/70 group-hover:text-white"),children:e.name}),l.jsx("div",{className:At("text-[10px] font-medium uppercase tracking-wider","transition-colors duration-150"),style:{color:e.isLoading?"#6B7280":r===e.name?"rgba(255, 255, 255, 0.7)":m(e)},children:h(e)})]})]})},e.name))})})})})]},"server-content")]},"server-overlay")})});qt.displayName="ServerOverlay";const Et=[{width:320,height:480},{width:480,height:320},{width:720,height:1280},{width:1280,height:720},{width:1080,height:2400},{width:2400,height:1080},{width:1440,height:3200},{width:3200,height:1440},{width:1440,height:3088},{width:3088,height:1440},{width:667,height:375},{width:896,height:414},{width:844,height:390},{width:852,height:393}],Kt={initial:{opacity:0,scale:.95,y:20},animate:e=>({opacity:1,scale:1,y:0,transition:{type:"spring",damping:25,stiffness:300,mass:.5,delay:.05*e}}),exit:{opacity:0,scale:.95,y:-20,transition:{duration:.2}}},Pt=o.memo(({isOpen:e,onClose:t,tmdbId:n,season:r,episode:s,currentSubtitle:i,onSubtitleSelect:a,overlayStyles:c})=>{const u=H(),[d,m]=o.useState([]),[h,x]=o.useState(null),[f,g]=o.useState(!0),[p,w]=o.useState(null),[v,y]=o.useState(""),[b,C]=o.useState("subtitles"),[j,N]=o.useState(dt),[z,A]=o.useState(!1);o.useEffect(()=>{const e=()=>{const e=window.innerWidth,t=window.innerHeight,n=((e,t)=>Et.some(n=>Math.abs(e-n.width)<=50&&Math.abs(t-n.height)<=50||Math.abs(e-n.height)<=50&&Math.abs(t-n.width)<=50))(e,t);A(e>t&&n)};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),o.useEffect(()=>{const e=dt();N(e),e.subtitlesEnabled||(S(),a(null))},[]);const S=o.useCallback(()=>{const e=document.querySelector("video");e?.textTracks&&requestAnimationFrame(()=>{for(let t=0;t<e.textTracks.length;t++)e.textTracks[t].mode="disabled"})},[]),L=o.useCallback(e=>{S(),a(e);const t={...j,subtitlesEnabled:null!==e};if(e){e.isCustom&&x(e);const n={language:e.language,display:e.display,isHearingImpaired:e.isHearingImpaired,id:e.id};t.preferredLanguages=[n,...j.preferredLanguages.filter(t=>t.language!==e.language||t.isHearingImpaired!==e.isHearingImpaired||t.id!==e.id).slice(0,4)]}if(N(t),null===e){const e=document.querySelector("video");e?.textTracks&&Array.from(e.textTracks).forEach(e=>{e.mode="disabled"})}const n=setTimeout(()=>{mt(t),window.dispatchEvent(new Event("subtitleSettingsChanged"))},50);return()=>clearTimeout(n)},[j,a,S]);o.useEffect(()=>{let t=!0;return e&&(async()=>{try{g(!0),w(null);const e=await at(n,r,s);if(!t)return;if(m(h?[h,...e]:e),!i&&j.subtitlesEnabled&&j.preferredLanguages.length>0)for(const t of j.preferredLanguages){const n=e.find(e=>e.language===t.language&&e.isHearingImpaired===t.isHearingImpaired&&e.id===t.id);if(n){L(n);break}}}catch(e){t&&w("Failed to load subtitles")}finally{t&&g(!1)}})(),()=>{t=!1}},[n,r,s,e,h]);const M=o.useMemo(()=>(v?d.filter(e=>e.language.toLowerCase().includes(v.toLowerCase())||e.display.toLowerCase().includes(v.toLowerCase())):d).sort((e,t)=>{if(e.isCustom&&!t.isCustom)return-1;if(!e.isCustom&&t.isCustom)return 1;const n=e.display.toLowerCase(),r=t.display.toLowerCase();return n<r?-1:n>r?1:e.language.toLowerCase().localeCompare(t.language.toLowerCase())}),[d,v]),I=o.useCallback(e=>{const t={...j,size:e};N(t);const n=setTimeout(()=>{mt(t),window.dispatchEvent(new Event("subtitleSettingsChanged"))},50);return()=>clearTimeout(n)},[j]),q=o.useCallback(e=>{const t={...j,position:e};N(t);const n=setTimeout(()=>{mt(t),window.dispatchEvent(new Event("subtitleSettingsChanged"))},50);return()=>clearTimeout(n)},[j]);return o.useEffect(()=>{const e=()=>{const e=dt();N(e)};return window.addEventListener("subtitleSettingsChanged",e),window.addEventListener("storage",t=>{"subtitle-settings"===t.key&&e()}),()=>{window.removeEventListener("subtitleSettingsChanged",e),window.removeEventListener("storage",e)}},[]),l.jsx(D,{children:e&&l.jsxs(B.div,{className:"fixed inset-0 z-50 flex items-end justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&t()},children:[l.jsx(B.div,{className:"absolute inset-0 bg-black/60 subtitle-backdrop",style:{backdropFilter:"blur(8px)"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:.2}},onAnimationComplete:e=>{if("exit"===e){const e=document.querySelector(".subtitle-backdrop");e&&e.removeAttribute("style")}}},"subtitle-backdrop"),l.jsxs(B.div,{className:At("relative w-full max-w-lg bg-[#0A0A0A] rounded-t-2xl","flex flex-col max-h-[85vh]"),style:{...c,boxShadow:`0 -25px 50px -12px ${T(u,.15)}`},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0},dragElastic:.2,onDragEnd:(e,n)=>{n.offset.y>100&&t()},children:[l.jsx("div",{className:"flex justify-center pt-2 pb-4 cursor-grab active:cursor-grabbing",children:l.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:T(u,.2)}})}),l.jsx("div",{className:"px-6 pb-4",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:At("w-10 h-10 rounded-xl flex items-center justify-center","relative group transition-transform duration-300"),style:{background:`linear-gradient(135deg, ${T(u,.15)}, ${T(u,.05)})`,border:`1px solid ${T(u,.2)}`},children:[l.jsx(E.List,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:u}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:"Subtitles"}),l.jsx("p",{className:"text-xs text-white/40",children:"subtitles"===b?"Select your language":"Adjust size and position"})]})]})})}),l.jsx("div",{className:"px-4 pb-4",children:l.jsx("div",{className:"flex gap-2",children:["subtitles","advanced"].map(e=>l.jsx("button",{onClick:()=>C(e),className:At("px-4 py-2 rounded-lg text-sm font-medium","transition-all duration-200","border border-white/[0.08]",b===e?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-white/5"),style:b===e?{borderColor:T(u,.2),boxShadow:`0 8px 16px -4px ${T(u,.2)}`,color:u}:void 0,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:l.jsx("div",{className:"px-4 pb-4",children:"subtitles"===b?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-4",children:l.jsxs("div",{className:At("flex items-center gap-3 px-3 py-2 rounded-xl","bg-[#1A1A1A] border border-white/[0.08]","focus-within:border-white/20"),children:[l.jsx(k,{className:"w-5 h-5 text-white/40"}),l.jsx("input",{type:"text",value:v,onChange:e=>y(e.target.value),placeholder:"Search subtitles...",className:At("flex-1 bg-transparent text-sm text-white","placeholder-white/40","focus:outline-none")})]})}),l.jsx("div",{className:"mt-3",children:l.jsxs("label",{htmlFor:"custom-subtitle-upload-mobile",className:At("w-full px-4 py-2.5 rounded-xl flex items-center justify-center gap-2","bg-[#1A1A1A] hover:bg-[#252525] transition-all duration-200 cursor-pointer","border border-white/[0.08] hover:border-white/[0.15]"),style:{backgroundColor:T(u,.1),borderColor:T(u,.2)},children:[l.jsx("div",{className:"w-5 h-5 flex items-center justify-center",children:l.jsx(E.Upload,{className:"w-4 h-4 text-white/70"})}),l.jsx("span",{className:"text-sm text-white/70",children:"Upload Custom Subtitle (.vtt)"}),l.jsx("input",{id:"custom-subtitle-upload-mobile",type:"file",accept:".vtt",className:"hidden",onChange:async e=>{const n=e.target.files?.[0];if(n)try{const e=await ct(n);L(e),t()}catch(r){}}})]})}),l.jsx("div",{className:"space-y-2",children:l.jsxs(D,{mode:"wait",children:[l.jsxs(B.button,{variants:Kt,initial:"initial",animate:"animate",exit:"exit",custom:-1,onClick:()=>L(null),className:`\n                            w-full px-4 py-3 rounded-xl flex items-center justify-between hover:bg-white/5 transition-all duration-200\n                            ${i?"":"bg-gradient-to-b from-[#101010] to-[#0A0A0A]"}\n                          `,style:i?void 0:{borderColor:T(u,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${T(u,.2)}`},children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.Close,{className:"w-5 h-5 text-white/70"})}),l.jsx("div",{className:"text-sm font-medium text-white",children:"Off"})]}),!i&&l.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:T(u,.1),borderColor:T(u,.2),borderWidth:"1px"},children:l.jsx(E.Check,{className:"w-3 h-3",style:{color:u}})})]},"disable-subtitles"),M.map((e,n)=>l.jsxs(B.button,{variants:Kt,initial:"initial",animate:"animate",exit:"exit",custom:n,onClick:()=>{L(e),t()},className:`\n                              w-full px-4 py-3 rounded-xl flex items-center justify-between hover:bg-white/5 transition-all duration-200\n                              ${i===e.id||e.isCustom&&i?.startsWith("custom-")?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":""}\n                            `,style:i===e.id||e.isCustom&&i?.startsWith("custom-")?{borderColor:T(u,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${T(u,.2)}`}:void 0,children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1A1A1A] flex items-center justify-center overflow-hidden",children:e.isCustom?l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx(E.Upload,{className:"w-5 h-5 text-white/70"})}):l.jsx("img",{src:e.flagUrl,alt:e.language,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx("div",{className:"text-sm font-medium text-white",children:e.display}),l.jsx("div",{className:"text-[11px] text-white/50",children:e.language})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[e.isHearingImpaired&&l.jsx("div",{className:"px-2 py-1 rounded-lg text-[10px] font-medium",style:{background:`linear-gradient(135deg, ${T(u,.15)}, ${T(u,.05)})`,border:`1px solid ${T(u,.2)}`,color:u},children:"CC"}),(i===e.id||e.isCustom&&i?.startsWith("custom-"))&&l.jsx("div",{className:"w-6 h-6 rounded-lg flex items-center justify-center",style:{backgroundColor:T(u,.1),borderColor:T(u,.2),borderWidth:"1px"},children:l.jsx(E.Check,{className:"w-3 h-3",style:{color:u}})})]})]},e.id))]})})]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-black/20 rounded-xl p-4",children:[l.jsxs("h3",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[l.jsx("span",{className:"w-6 h-6 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.List,{className:"w-3 h-3 text-white/70"})}),"Subtitle Size"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-white/70",children:"Small"}),l.jsx("span",{className:"text-xs text-white/70",children:"Large"})]}),l.jsx("input",{type:"range",min:"0.5",max:"2",step:"0.05",value:j.size,onChange:e=>I(parseFloat(e.target.value)),className:"w-full accent-primary h-2 bg-[#1A1A1A] rounded-lg appearance-none cursor-pointer",style:{accentColor:u}}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"px-2 py-1 bg-[#1A1A1A] rounded-md text-xs text-white/80",style:{border:`1px solid ${T(u,.2)}`},children:[Math.round(100*j.size),"%"]})}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:[.75,1,1.5].map(e=>l.jsx("button",{onClick:()=>I(e),className:`py-2 px-3 rounded-lg text-xs ${Math.abs(j.size-e)<.01?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"bg-[#1A1A1A] hover:bg-[#252525]"} transition-colors duration-200`,style:Math.abs(j.size-e)<.01?{borderColor:T(u,.2),borderWidth:"1px",color:u}:void 0,children:.75===e?"Small":1===e?"Default":"Large"},e))})]})]}),l.jsxs("div",{className:"bg-black/20 rounded-xl p-4",children:[l.jsxs("h3",{className:"text-white font-medium mb-3 flex items-center gap-2",children:[l.jsx("span",{className:"w-6 h-6 rounded-lg bg-[#1A1A1A] flex items-center justify-center",children:l.jsx(E.List,{className:"w-3 h-3 text-white/70"})}),"Subtitle Position"]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-white/70",children:"Bottom"}),l.jsx("span",{className:"text-xs text-white/70",children:"Top"})]}),l.jsx("input",{type:"range",min:"0",max:"100",step:"1",value:j.position,onChange:e=>q(parseFloat(e.target.value)),className:"w-full accent-primary h-2 bg-[#1A1A1A] rounded-lg appearance-none cursor-pointer",style:{accentColor:u}}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"px-2 py-1 bg-[#1A1A1A] rounded-md text-xs text-white/80",style:{border:`1px solid ${T(u,.2)}`},children:[Math.round(j.position),"%"]})})]})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx("button",{onClick:()=>{I(1),q(10)},className:"px-4 py-2 rounded-lg text-xs bg-[#1A1A1A] hover:bg-[#252525] transition-colors duration-200",children:"Reset to Defaults"})})]})})})]},"subtitle-content")]},"subtitle-overlay")})});Pt.displayName="SubtitleOverlay";const Tt={initial:{opacity:0,y:20},animate:e=>({opacity:1,y:0,transition:{type:"spring",stiffness:300,damping:25,delay:.05*e}}),exit:{opacity:0,y:-20}},Gt=o.memo(({isOpen:e,onClose:t,qualities:n,currentQuality:r,onQualityChange:s,onSettingsChange:i,overlayStyles:a})=>{c();const u=H(),[d,m]=o.useState(ge());o.useEffect(()=>{!n||n.length},[n,r]);const h=(e,t)=>{const n={...d,[e]:t};m(n),pe(n),i?.()};return l.jsx(D,{mode:"wait",children:e&&l.jsxs(B.div,{className:"fixed inset-0 z-50 flex items-end justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e=>{e.target===e.currentTarget&&t()},children:[l.jsx(B.div,{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},"settings-backdrop"),l.jsxs(B.div,{className:At("relative w-full max-w-lg bg-[#0A0A0A] rounded-t-2xl","flex flex-col max-h-[85vh]"),style:{...a,boxShadow:`0 -25px 50px -12px ${T(u,.15)}`},initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:300,damping:30},drag:"y",dragConstraints:{top:0},dragElastic:.2,onDragEnd:(e,n)=>{(n.velocity.y>20||n.offset.y>200)&&t()},children:[l.jsx("div",{className:"flex justify-center pt-2 pb-4 cursor-grab active:cursor-grabbing",children:l.jsx("div",{className:"w-8 h-1 rounded-full",style:{backgroundColor:T(u,.2)}})}),l.jsx("div",{className:"px-6 pb-4",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:At("w-10 h-10 rounded-xl flex items-center justify-center","relative group transition-transform duration-300"),style:{background:`linear-gradient(135deg, ${T(u,.15)}, ${T(u,.05)})`,border:`1px solid ${T(u,.2)}`},children:[l.jsx(E.Settings,{className:"w-5 h-5 transform transition-transform duration-300 group-hover:scale-110",style:{color:u}}),l.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-[15px] font-semibold text-white mb-0.5",children:"Settings"}),l.jsx("p",{className:"text-xs text-white/40",children:"Customize your experience"})]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:l.jsx("div",{className:"p-4 space-y-2",children:l.jsxs(D,{mode:"wait",children:[n&&n.length>0&&l.jsxs(B.div,{variants:Tt,initial:"initial",animate:"animate",exit:"exit",custom:0,className:At("w-full p-3 rounded-xl","transition-all duration-200","border border-white/[0.08]","hover:bg-white/5"),children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${T(u,.15)}, ${T(u,.05)})`},children:l.jsx(E.Quality,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Quality"}),l.jsx("div",{className:"text-[11px] text-white/50",children:r?r.quality:"Auto"})]})]}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:n.map((e,t)=>l.jsx("button",{onClick:()=>s?.(e),className:At("px-3 py-2 rounded-lg text-sm font-medium","transition-all duration-200","border border-white/[0.08]",r?.url===e.url?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-white/5"),style:r?.url===e.url?{borderColor:T(u,.2),boxShadow:`0 8px 16px -4px ${T(u,.2)}`,color:u}:void 0,children:e.quality.replace(/\[hdr\]/i,"").trim()},e.url||t))})]},"quality-settings"),l.jsxs(B.div,{variants:Tt,initial:"initial",animate:"animate",exit:"exit",custom:1,className:At("w-full p-3 rounded-xl","border border-white/[0.08]","bg-gradient-to-b from-[#101010] to-[#0A0A0A]"),children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${T(u,.15)}, ${T(u,.05)})`},children:l.jsx(E.Play,{className:"w-4 h-4 text-white/70"})}),l.jsx("div",{children:l.jsx("div",{className:"text-sm font-medium text-white",children:"Player Settings"})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(B.div,{variants:Tt,initial:"initial",animate:"animate",exit:"exit",custom:2,className:At("w-full p-3 rounded-xl","transition-all duration-200","border border-white/[0.08]","hover:bg-white/5"),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${T(u,.15)}, ${T(u,.05)})`},children:l.jsx(E.Play,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Autoplay"}),l.jsx("div",{className:"text-[11px] text-white/50",children:"Play videos automatically"})]})]}),l.jsx("button",{onClick:()=>h("autoplay",!d.autoplay),className:At("w-12 h-7 rounded-full px-1","flex items-center transition-colors duration-200"),style:{backgroundColor:d.autoplay?u:"#2A2A2A"},children:l.jsx(B.div,{className:"w-5 h-5 rounded-full bg-white shadow-lg",animate:{x:d.autoplay?20:0},transition:{type:"spring",stiffness:500,damping:30}})})]})},"autoplay-setting"),l.jsx(B.div,{variants:Tt,initial:"initial",animate:"animate",exit:"exit",custom:3,className:At("w-full p-3 rounded-xl","transition-all duration-200","border border-white/[0.08]","hover:bg-white/5"),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${T(u,.15)}, ${T(u,.05)})`},children:l.jsx(E.SkipForward,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Auto Next Episode"}),l.jsx("div",{className:"text-[11px] text-white/50",children:"Play next episode automatically"})]})]}),l.jsx("button",{onClick:()=>h("autoNext",!d.autoNext),className:At("w-12 h-7 rounded-full px-1","flex items-center transition-colors duration-200"),style:{backgroundColor:d.autoNext?u:"#2A2A2A"},children:l.jsx(B.div,{className:"w-5 h-5 rounded-full bg-white shadow-lg",animate:{x:d.autoNext?20:0},transition:{type:"spring",stiffness:500,damping:30}})})]})},"auto-next-setting"),l.jsx(B.div,{variants:Tt,initial:"initial",animate:"animate",exit:"exit",custom:4,className:At("w-full p-3 rounded-xl","transition-all duration-200","border border-white/[0.08]","hover:bg-white/5"),children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${T(u,.15)}, ${T(u,.05)})`},children:l.jsx(E.Pause,{className:"w-4 h-4 text-white/70"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-white",children:"Pause Screen"}),l.jsx("div",{className:"text-[11px] text-white/50",children:"Show information when paused"})]})]}),l.jsx("button",{onClick:()=>h("pauseScreen",!d.pauseScreen),className:At("w-12 h-7 rounded-full px-1","flex items-center transition-colors duration-200"),style:{backgroundColor:d.pauseScreen?u:"#2A2A2A"},children:l.jsx(B.div,{className:"w-5 h-5 rounded-full bg-white shadow-lg",animate:{x:d.pauseScreen?20:0},transition:{type:"spring",stiffness:500,damping:30}})})]})},"pause-screen-setting")]})]},"player-settings")]})})})]},"settings-content")]},"settings-overlay")})});function Wt(e,t){const n=Ot();return Wt=function(t,r){let s=n[t-=352];if(void 0===Wt.bhGLEe){Wt.wZZWdU=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Wt.bhGLEe=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Wt.wZZWdU(s),e[i]=s),s},Wt(e,t)}Gt.displayName="SettingsOverlay",function(){const e=Wt,t=Ot();for(;;)try{if(531205===-parseInt(e(369))/1+-parseInt(e(371))/2*(-parseInt(e(383))/3)+-parseInt(e(381))/4+-parseInt(e(360))/5*(-parseInt(e(384))/6)+-parseInt(e(354))/7*(parseInt(e(388))/8)+-parseInt(e(356))/9+-parseInt(e(359))/10*(-parseInt(e(377))/11))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const Ht=()=>{const e=Wt,t={syLLD:function(e,t){return e<=t},GqXnD:function(e,t){return e&&t},zZlzk:function(e,t){return e/t},GQrSp:function(e,t){return e>t},GCtYh:e(368)+e(358),byKNi:e(375)+"-8",trxVz:e(352)+e(355),xTvSI:function(e,t){return e<=t},MiMjn:e(365)+e(387),qbVmo:"w-5 h-5",VshzP:"w-12 "+e(373),Aqlav:"w-6 h-6",Sgbpj:function(e,t){return e>=t}},n=window[e(361)+e(367)],r=window["inner"+e(382)+"t"],s=t[e(374)](n,r),i=t[e(379)](n,r),a=(()=>{const i=e,a=Math[i(370)](n,r)>=600,o=s>=.6&&t[i(386)](s,1.6);return t[i(376)](a,o)})();return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator[e(366)+e(378)])||t[e(386)](n,768)?a?i?{button:t[e(364)],icon:e(385)+"-7"}:{button:t.GCtYh,icon:t[e(353)]}:i?t[e(380)](r,400)?{button:t.MiMjn,icon:t[e(362)]}:{button:t[e(363)],icon:t.Aqlav}:t[e(372)](n,400)?{button:e(352)+"h-14",icon:e(385)+"-7"}:{button:t.VshzP,icon:t[e(357)]}:{button:t[e(389)],icon:t[e(353)]}};function Ot(){const e=["sgvPz2G","odmWmu52vgrUBq","nJa2ELrABuzf","DY03igG","C3Lmteq","Ac0Xma","mZjLy0L6seK","r0n0wwG","DY0Xnca","yNLltMK","mtm4mZC4mwzYywLRBa","Ac0Xna","nZaYnZC0owntEgzRBa","qxfSyxy","Ac0XnG","mta1ndC2mZb3CLzMBfO","ndqWndvnEePlAeu","Aw5Uzxi","CwjwBw8","vNnOELa","Dhj4vNO","DY0Xmca","DxnLCKe","v2LKDgG","DY0XnIa","nJi2mtGYAxv0CMTk","BwLU","nZa0B21OCMHc","u2DICgO","Ac0XmG","ELPSEMS","DY04igG","r3fyBKq","mtf4rw1TyxG","z2vUDa","r1fYu3a","Efr2u0K","nZu3ota0t3LvtK5R"];return(Ot=function(){return e})()}const Yt=()=>{const e=window.innerWidth<=768,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e||t},Zt=()=>window.innerWidth>window.innerHeight,Ut=e=>{const t=window.innerHeight,n=window.innerWidth,r=n/t,s=Math.min(n,t)>=600&&r>=.6&&r<=1.6,i=(()=>{if(e)return t-48;return s?Math.min(.85*t,t-120):Math.min(.92*t,t-80)})(),a={position:"fixed",height:`${i}px`,maxHeight:`${i}px`,width:"100%",borderTopLeftRadius:"1.5rem",borderTopRightRadius:"1.5rem",display:"flex",flexDirection:"column",backgroundColor:"#0A0A0A",transition:"all 0.3s ease",left:0,right:0};return e?{...a,top:48,bottom:0,width:"100%",maxWidth:"100%"}:{...a,top:"auto",bottom:0,width:"100%",maxWidth:"100%"}},Ft={initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25}},exit:{opacity:0,scale:.95,y:20,transition:{duration:.2}}},Jt=o.memo(({isPlaying:e,volume:t,isFullscreen:n,onPlayPause:r,onVolumeChange:s,onSkipBackward:i,onSkipForward:a,onFullscreenToggle:c,servers:u,currentServer:d,onServerTest:m,qualities:h,currentQuality:x,onServerChange:f,onQualityChange:g,mediaType:p,tmdbId:w,currentSeason:v,currentEpisode:y,showName:b,setIsServerMenuOpen:C,setIsEpisodeMenuOpen:j,setIsSettingsMenuOpen:N,isServerMenuOpen:z,isEpisodeMenuOpen:A,isSettingsMenuOpen:S,isSubtitleMenuOpen:L,setIsSubtitleMenuOpen:M,currentSubtitle:k,onSubtitleSelect:I})=>{const q=H(),K=o.useRef(null),P=o.useRef(null),G=o.useRef(null),W=o.useRef(null),[O,Y]=o.useState(!1),[Z,U]=o.useState(!1),[F,J]=o.useState(!1),[R,$]=o.useState(!1),[X,V]=o.useState(Zt()),[Q,_]=o.useState(Yt()),ee=Ht();o.useEffect(()=>{const e=()=>{const e=Yt(),t=Zt();_(e),V(t)};e();const t=new ResizeObserver(e);return t.observe(document.documentElement),window.addEventListener("orientationchange",e),()=>{t.disconnect(),window.removeEventListener("orientationchange",e)}},[]);const te=o.useCallback(e=>{const t=Number(e.target.value);s(t);const n=document.querySelector("video");if(n){n.volume=t,n.muted=0===t;const e=new Event("volumechange",{bubbles:!0});n.dispatchEvent(e)}},[s]),ne=o.useRef(null),re=o.useRef(null),se=o.useRef(null),ie=o.useRef(null);o.useEffect(()=>{const e=e=>{const t=e.target;!ne.current||ne.current.contains(t)||K.current?.contains(t)||C(!1),!re.current||re.current.contains(t)||P.current?.contains(t)||j(!1),!se.current||se.current.contains(t)||G.current?.contains(t)||N(!1),!ie.current||ie.current.contains(t)||W.current?.contains(t)||M(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(B.div,{className:"absolute inset-x-0 bottom-0 z-50",initial:{opacity:1,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3,ease:[.32,0,.67,0]},children:l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"px-1 sm:px-3 py-2 flex items-center justify-between relative z-10",children:[l.jsxs("div",{className:"flex items-center space-x-0.5 sm:space-x-2 md:space-x-4",children:[l.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),r()},onTouchStart:e=>{e.preventDefault(),e.stopPropagation(),r()},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:e?{background:`linear-gradient(to bottom, ${T(q,.2)}, ${T(q,.1)})`}:void 0,children:e?l.jsx(E.Pause,{className:`${ee.icon} transition-all`,style:{color:e?q:"white"},strokeWidth:2.5}):l.jsx(E.Play,{className:`${ee.icon} transition-all translate-x-0.5`,style:{color:e?q:"white"},strokeWidth:2.5})}),!Q&&l.jsxs("div",{className:"hidden sm:flex items-center space-x-0.5 sm:space-x-2 md:space-x-4",children:[l.jsx("button",{onClick:i,className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,children:l.jsx(E.SkipBack,{className:`${ee.icon} text-white/90 transition-all group-hover:text-white group-hover:scale-110`,style:{color:"white"},strokeWidth:2.5})}),l.jsx("button",{onClick:a,className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,children:l.jsx(E.SkipForward,{className:`${ee.icon} text-white/90 transition-all group-hover:text-white group-hover:scale-110`,style:{color:"white"},strokeWidth:2.5})})]}),l.jsxs("div",{className:"relative group/volume",children:[l.jsx("button",{onClick:()=>{const e=0===t?1:0;s(e);const n=document.querySelector("video");if(n){n.volume=e,n.muted=0===e;const t=new Event("volumechange",{bubbles:!0});n.dispatchEvent(t)}},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:0===t?{background:`linear-gradient(to bottom, ${T(q,.2)}, ${T(q,.1)})`}:void 0,children:l.jsx(E.Volume,{className:`${ee.icon} transition-all`,style:{color:0===t?q:"white"},strokeWidth:2.5})}),l.jsxs("div",{className:"absolute left-0 right-0 bottom-full mb-2 opacity-0 pointer-events-none group-hover/volume:opacity-100 group-hover/volume:pointer-events-auto sm:left-full sm:bottom-auto sm:right-auto sm:px-0 sm:mb-0 sm:ml-4 sm:top-1/2 sm:-translate-y-1/2 transition-opacity duration-100 z-[100] select-none",children:[l.jsx("div",{className:"hidden sm:block absolute left-[-16px] top-[-16px] bottom-[-16px] w-[16px]"}),l.jsx("div",{className:"hidden sm:block absolute right-[-16px] top-[-16px] bottom-[-16px] w-[16px]"}),l.jsx("div",{className:"hidden sm:block absolute left-[-16px] right-[-16px] top-[-16px] h-[16px]"}),l.jsx("div",{className:"hidden sm:block absolute left-[-16px] right-[-16px] bottom-[-16px] h-[16px]"}),l.jsxs("div",{className:"bg-black/90 backdrop-blur-md rounded-xl p-3 shadow-lg border border-white/10 flex items-center space-x-3 max-w-[280px] mx-auto sm:max-w-none sm:mx-0 relative",children:[l.jsxs("div",{className:"w-full sm:w-32 h-2 bg-white/10 rounded-full relative group/slider",children:[l.jsx("div",{className:"absolute -inset-y-3 inset-x-0",children:l.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:t,onChange:te,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer hover:cursor-pointer z-20",style:{touchAction:"none",padding:0,margin:0,WebkitAppearance:"none",appearance:"none"}})}),l.jsx("div",{className:"absolute left-0 top-0 h-full rounded-full transition-all duration-150 pointer-events-none",style:{width:100*t+"%",background:`linear-gradient(to right, ${q}, ${T(q,.8)})`}}),l.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 h-4 w-4 -ml-2 rounded-full transition-all duration-150 hover:scale-110 pointer-events-none",style:{left:100*t+"%",backgroundColor:q,boxShadow:`0 2px 4px ${T(q,.3)}`},children:l.jsx("div",{className:"absolute inset-1 rounded-full bg-white pointer-events-none"})})]}),l.jsx("div",{className:"w-12 flex-shrink-0",children:l.jsxs("span",{className:"text-sm font-medium text-white/90 tabular-nums",children:[Math.round(100*t),"%"]})})]}),l.jsx("div",{className:"hidden sm:block absolute left-0 top-1/2 -translate-x-1/2 -translate-y-1/2 w-2 h-2 bg-black/90 backdrop-blur-md rotate-45 border-l border-t border-white/10"})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-0.5 sm:space-x-2 md:space-x-4",children:["tv"===p&&w&&v&&y&&b&&l.jsx("div",{className:"relative",children:l.jsx("button",{ref:P,onClick:()=>{Q?(Y(!0),U(!1),J(!1),$(!1)):(j(!A),z&&C(!1),S&&N(!1))},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:A||O?{background:`linear-gradient(to bottom, ${T(q,.2)}, ${T(q,.1)})`}:void 0,children:l.jsx(E.Episodes,{className:`${ee.icon} text-white/70 group-hover:text-white transition-colors`,style:A||O?{color:q}:void 0})})}),l.jsx("div",{className:"relative",children:l.jsx("button",{ref:W,onClick:()=>{Q?(J(!0),Y(!1),U(!1),$(!1)):(M(!L),A&&j(!1),z&&C(!1),S&&N(!1))},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:L||F?{background:`linear-gradient(to bottom, ${T(q,.2)}, ${T(q,.1)})`}:void 0,children:l.jsx(E.List,{className:`${ee.icon} text-white/70 group-hover:text-white transition-colors`,style:L||F?{color:q}:void 0})})}),l.jsx("div",{className:"relative",children:l.jsx("button",{ref:K,onClick:()=>{Q?(U(!0),Y(!1),J(!1),$(!1)):(C(!z),A&&j(!1),S&&N(!1))},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:z||Z?{background:`linear-gradient(to bottom, ${T(q,.2)}, ${T(q,.1)})`}:void 0,children:l.jsx(E.Server,{className:`${ee.icon} text-white/70 group-hover:text-white transition-colors`,style:z||Z?{color:q}:void 0})})}),l.jsx("div",{className:"relative",children:l.jsx("button",{ref:G,onClick:()=>{Q?($(!0),Y(!1),U(!1),J(!1)):(N(!S),A&&j(!1),z&&C(!1))},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:S||R?{background:`linear-gradient(to bottom, ${T(q,.2)}, ${T(q,.1)})`}:void 0,children:l.jsx(E.Settings,{className:`${ee.icon} text-white/70 group-hover:text-white transition-colors`,style:S||R?{color:q}:void 0})})}),l.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),c()},onTouchStart:e=>{e.preventDefault(),e.stopPropagation(),c()},className:`${ee.button} rounded-full flex items-center justify-center transition-all duration-200 hover:bg-gradient-to-b from-white/20 to-white/5 active:scale-95 group`,style:n?{background:`linear-gradient(to bottom, ${T(q,.2)}, ${T(q,.1)})`}:void 0,children:n?l.jsx(E.Minimize,{className:`${ee.icon} transition-all`,style:{color:n?q:"white"},strokeWidth:2.5}):l.jsx(E.Maximize,{className:`${ee.icon} transition-all`,style:{color:n?q:"white"},strokeWidth:2.5})})]})]}),l.jsx("div",{className:"absolute bottom-full right-1 md:right-0 mb-1 sm:mb-2 md:mb-3 -translate-x-4 sm:-translate-x-6 md:-translate-x-8",children:l.jsx("div",{className:"flex flex-col items-end space-y-3",children:l.jsxs(D,{children:[z&&l.jsx(B.div,{variants:Ft,initial:"initial",animate:"animate",exit:"exit",className:"mb-12 sm:mb-16 md:mb-4",children:l.jsx(yt,{menuRef:ne,servers:u,currentServer:d,onServerClick:(e,t)=>{e!==d?(window&&window.handleServerChangeDirectly?window.handleServerChangeDirectly(e,t):f(e),C(!1)):C(!1)},onServerTest:m})}),A&&l.jsx(B.div,{variants:Ft,initial:"initial",animate:"animate",exit:"exit",className:"mb-12 sm:mb-16 md:mb-4",children:l.jsx(jt,{menuRef:re,tmdbId:w||"",currentSeason:v||"",currentEpisode:y||"",showName:b||""})}),S&&l.jsx(B.div,{variants:Ft,initial:"initial",animate:"animate",exit:"exit",className:"mb-12 sm:mb-16 md:mb-4",children:l.jsx(we,{menuRef:se,qualities:h,currentQuality:x,onQualityChange:e=>{g(e),N(!1)}})}),L&&l.jsx(B.div,{variants:Ft,initial:"initial",animate:"animate",exit:"exit",className:"mb-12 sm:mb-16 md:mb-4",children:l.jsx(zt,{menuRef:ie,tmdbId:w||"",season:v,episode:y,currentSubtitle:k,onSubtitleSelect:I})})]})})})]})}),"tv"===p&&w&&v&&y&&b&&l.jsx(kt,{isOpen:O,onClose:()=>Y(!1),tmdbId:w,currentSeason:v,currentEpisode:y,showName:b,overlayStyles:Ut(X)}),l.jsx(qt,{isOpen:Z,onClose:()=>U(!1),servers:u,currentServer:d,onServerClick:(e,t)=>{e!==d?(window&&window.handleServerChangeDirectly?window.handleServerChangeDirectly(e,t):f(e),U(!1)):U(!1)},onServerTest:m,overlayStyles:Ut(X)}),w&&l.jsx(Pt,{isOpen:F,onClose:()=>J(!1),tmdbId:w,season:v,episode:y,currentSubtitle:k,onSubtitleSelect:I,overlayStyles:Ut(X)}),l.jsx(Gt,{isOpen:R,onClose:()=>$(!1),qualities:h||[],currentQuality:x,onQualityChange:e=>{g(e),$(!1)},overlayStyles:Ut(X),onSettingsChange:()=>{}})]})});Jt.displayName="VideoControls";const Rt=({server:e,themeColor:t,isActive:n,onSelect:r})=>l.jsx(B.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"w-full text-left p-3 rounded-xl transition-all duration-200 \n        "+(n?"bg-gradient-to-b from-[#101010] to-[#0A0A0A]":"hover:bg-[#101010]"),style:n?{borderColor:T(t,.2),borderWidth:"1px",boxShadow:`0 8px 16px -4px ${T(t,.2)}`}:void 0,onClick:()=>r(e.name),children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0",style:{backgroundColor:T(t,.1),borderColor:T(t,.2),borderWidth:"1px"},children:l.jsx(E.Server,{className:"w-5 h-5",style:{color:t}})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-sm font-medium text-white truncate",children:e.name}),n&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full",style:{backgroundColor:T(t,.2),color:t},children:"Current"})]}),l.jsx("p",{className:"text-xs text-white/50",children:e.isAvailable?"Available":"Unavailable"})]})]})}),$t=({containerRef:e,error:t,mediaInfo:n,menuState:r,videoState:s,videoHandlers:i,themeColor:a,subtitles:c,mediaType:u,tmdbId:d,seasonId:m,episodeId:h})=>{const[x,f]=o.useState([]);o.useEffect(()=>{const e=[...s.source.availableServers.filter(e=>e.isAvailable&&e.name!==s.source.currentServer)].sort((e,t)=>{const n=["vidcloud","upcloud","vidsrc"],r=n.some(t=>e.name.toLowerCase().includes(t)),s=n.some(e=>t.name.toLowerCase().includes(e));return r&&!s?-1:!r&&s?1:0});f(e.slice(0,5))},[s.source.availableServers,s.source.currentServer]);const g=async e=>{await i.handleServerChange(e),s.status.setError(null)};return l.jsx("div",{ref:e,className:"relative w-full h-full bg-black",children:l.jsx("div",{className:"fixed inset-0 group",children:l.jsx(je,{hideDelay:5e3,isAnyMenuOpen:r.isAnyMenuOpen,isPaused:!s.playback.isPlaying,children:e=>l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx(D,{children:l.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.16,1,.3,1]},className:"w-full max-w-md p-5 rounded-2xl mx-4 bg-[#0A0A0A]/90 backdrop-blur-xl border border-white/[0.08]",style:{boxShadow:`0 25px 50px -12px ${T(a,.15)}`},children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-14 h-14 rounded-xl mb-4 mx-auto flex items-center justify-center",style:{backgroundColor:T(a,.1),borderColor:T(a,.2),borderWidth:"1px"},children:l.jsx(E.Close,{className:"w-7 h-7",style:{color:a}})}),l.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Playback Error"}),l.jsx("p",{className:"text-white/70",children:t})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-sm font-medium text-white/90",children:"Recommended Servers"}),l.jsxs("span",{className:"text-xs text-white/40",children:[x.length," available"]})]}),l.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto custom-scrollbar",children:[l.jsx(Rt,{server:{name:s.source.currentServer||"Current Server",source:null,isAvailable:!1,originalName:s.source.currentServer||"Current Server"},themeColor:a,isActive:!0,onSelect:()=>{}}),x.map(e=>l.jsx(Rt,{server:e,themeColor:a,isActive:!1,onSelect:g},e.name)),0===x.length&&l.jsx("div",{className:"text-center p-4 text-white/50 text-sm",children:"No alternative servers available"})]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsx("button",{className:"flex-1 py-2.5 rounded-xl text-white/90 font-medium border border-white/10 hover:bg-white/5 transition-colors",onClick:()=>s.status.setError(null),children:"Try Again"}),l.jsx("button",{className:"flex-1 py-2.5 rounded-xl font-medium",onClick:()=>r.setIsServerMenuOpen(!0),style:{backgroundColor:a},children:"Show All Servers"})]})]},"error-panel")})}),e&&l.jsx("div",{className:"absolute inset-x-0 bottom-0 pb-2 px-4 bg-gradient-to-t from-black/80 via-black/50 to-transparent",children:l.jsx(Jt,{isPlaying:s.playback.isPlaying,volume:s.playback.volume,isFullscreen:s.playback.isFullscreen,onPlayPause:i.togglePlay,onVolumeChange:i.handleVolumeChange,onSkipBackward:()=>i.skip(-10),onSkipForward:()=>i.skip(10),onFullscreenToggle:i.toggleFullscreen,servers:s.source.availableServers,currentServer:s.source.currentServer,onServerChange:i.handleServerChange,qualities:s.source.qualities,currentQuality:s.source.currentQuality,onQualityChange:i.handleQualityChange,mediaType:u,tmdbId:d,currentSeason:m,currentEpisode:h,showName:n&&"show_name"in n?n.show_name:void 0,setIsServerMenuOpen:r.setIsServerMenuOpen,isServerMenuOpen:r.isServerMenuOpen,setIsEpisodeMenuOpen:r.setIsEpisodeMenuOpen,isEpisodeMenuOpen:r.isEpisodeMenuOpen,setIsSettingsMenuOpen:r.setIsSettingsMenuOpen,isSettingsMenuOpen:r.isSettingsMenuOpen,setIsSubtitleMenuOpen:r.setIsSubtitleMenuOpen,isSubtitleMenuOpen:r.isSubtitleMenuOpen,currentSubtitle:c.currentSubtitle,onSubtitleSelect:c.handleSubtitleSelect})})]})})})})},Xt=({isVisible:e,mediaInfo:t,backUrl:n,logoUrl:r,handleBackClick:s,videoState:i})=>t&&e?l.jsx("div",{className:"absolute top-0 left-0 right-0 p-3 sm:p-4 md:p-6 bg-gradient-to-b from-black/90 via-black/60 to-transparent",children:l.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-4",children:[l.jsx("div",{className:"flex items-center",children:n&&l.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),s()},onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},className:"flex items-center justify-center w-7 h-7 sm:w-8 sm:h-8 md:w-10 md:h-10 rounded-full bg-black/40 hover:bg-black/60 transition-colors z-50","aria-label":"Go back",children:l.jsx("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-6 md:h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})})}),l.jsxs("div",{className:"flex-1 min-w-0 text-center",children:["title"in t?l.jsx("h1",{className:"text-base sm:text-lg md:text-[28px] font-bold text-white tracking-tight drop-shadow-lg truncate leading-normal py-0.5",children:t.title}):null,"show_name"in t?l.jsxs("div",{className:"space-y-0.5",children:[l.jsx("h1",{className:"text-base sm:text-lg md:text-[28px] font-bold text-white tracking-tight drop-shadow-lg truncate leading-normal py-0.5",children:t.show_name}),l.jsxs("div",{className:"flex items-center justify-center space-x-1.5 sm:space-x-2 py-0.5",children:[l.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium text-white/90 leading-normal",children:`S${t.season_number}`}),l.jsx("span",{className:"text-xs sm:text-sm md:text-base text-white/40",children:"•"}),l.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium text-white/90 leading-normal",children:`E${t.episode_number}`}),l.jsx("span",{className:"text-xs sm:text-sm md:text-base text-white/40",children:"•"}),l.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium text-white/90 truncate leading-normal",children:t.name})]})]}):null]}),l.jsx("div",{className:"flex items-center",children:r&&!i.status.isLogoError&&l.jsx("div",{className:"flex items-center",children:l.jsx("img",{src:r,alt:"Logo",className:"h-5 sm:h-6 md:h-8 w-auto object-contain max-w-[60px] sm:max-w-[80px] md:max-w-[100px] drop-shadow-lg",onError:()=>i.status.setIsLogoError(!0)})})})]})}):null,Vt=({isLoading:e,themeColor:t})=>e?l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm pointer-events-none z-50",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-full animate-spin",style:{borderWidth:"4px",borderStyle:"solid",borderColor:`${T(t,.3)}`,borderTopColor:t,animation:"spin 1s linear infinite"}}),l.jsx("span",{className:"mt-4 text-white/90 text-sm font-medium",children:"Loading..."})]})}):null;function Qt(e,t){const n=_t();return Qt=function(t,r){let s=n[t-=249];if(void 0===Qt.kuQotS){Qt.cKcGaJ=function(e){let t="",n="";for(let r,s,i=0,a=0;s=e.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?t+=String.fromCharCode(255&r>>(-2*i&6)):0)s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(s);for(let r=0,s=t.length;r<s;r++)n+="%"+("00"+t.charCodeAt(r).toString(16)).slice(-2);return decodeURIComponent(n)},e=arguments,Qt.kuQotS=!0}const i=t+n[0],a=e[i];return a?s=a:(s=Qt.cKcGaJ(s),e[i]=s),s},Qt(e,t)}function _t(){const e=["y2n0rhC","ota1mZmXn3LVA1npsa","nJi4nZqWnvv1t1nXDG","yxj0","odKZnZLcB1rsuMW","C3HRBKu","ndeYnZmZmvLIAun6ra","BhDXChi","nhbeELvTCW","AvflC0i","zMXVB3i","otCWndyYChPZCMXX","mZm3nK9rDfnNvG","nda1mZm0ogXcA3f0zq","nZq3ndKZtLLmyuPV","CgfKu3q"];return(_t=function(){return e})()}!function(){const e=Qt,t=_t();for(;;)try{if(821459===parseInt(e(261))/1+parseInt(e(258))/2+-parseInt(e(253))/3+parseInt(e(255))/4*(-parseInt(e(249))/5)+-parseInt(e(260))/6+-parseInt(e(264))/7+parseInt(e(259))/8*(parseInt(e(251))/9))break;t.push(t.shift())}catch(n){t.push(t.shift())}}();const en=e=>{const t=Qt,n={TmuwW:function(e,t){return e/t},iQKsB:function(e,t){return e%t},lwqpr:function(e,t){return e>t},sxknE:function(e,t){return e(t)},cctDw:function(e,t){return e(t)}},r=Math[t(257)](n.TmuwW(e,3600)),s=Math[t(257)](n[t(256)](e,3600)/60),i=Math[t(257)](e%60);return n[t(254)](r,0)?r+":"+n[t(252)](String,s)["padSt"+t(250)](2,"0")+":"+n[t(263)](String,i)["padSt"+t(250)](2,"0"):String(s)[t(262)+t(250)](2,"0")+":"+String(i)[t(262)+"art"](2,"0")},tn=o.memo(({src:e="",currentTime:t,className:n=""})=>{const r=o.useRef(null),s=o.useRef(null),[i,a]=o.useState(!0),[c,u]=o.useState(null);return o.useEffect(()=>{const n=r.current;if(!n||!e)return void a(!1);Pe()&&(n.playsInline=!0,n.setAttribute("playsinline",""),n.setAttribute("webkit-playsinline",""),n.preload="metadata");return(async()=>{try{a(!0),u(null);if(Ie(e))try{n.src=e,n.currentTime=t,Pe()&&n.load();const r=()=>{u(null),a(!1),n.removeEventListener("canplay",r),n.removeEventListener("error",s)},s=()=>{u("Failed to load video preview"),a(!1),n.removeEventListener("canplay",r),n.removeEventListener("error",s)};return n.addEventListener("canplay",r),n.addEventListener("error",s),()=>{n.removeEventListener("canplay",r),n.removeEventListener("error",s)}}catch(r){u("Failed to load MP4 preview"),a(!1)}else if(M.isSupported()&&!Pe()){s.current&&s.current.destroy();const r=new M({enableWorker:!0,lowLatencyMode:!0,backBufferLength:0,maxBufferLength:2,maxMaxBufferLength:2,maxBufferSize:2e6,maxBufferHole:.1,highBufferWatchdogPeriod:1,nudgeMaxRetry:1,startPosition:t,liveSyncDurationCount:1,manifestLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:1e4,timeoutRetry:{maxNumRetry:3,retryDelayMs:500,maxRetryDelayMs:2e3},errorRetry:{maxNumRetry:3,retryDelayMs:500,maxRetryDelayMs:2e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:1e4,timeoutRetry:{maxNumRetry:3,retryDelayMs:500,maxRetryDelayMs:2e3},errorRetry:{maxNumRetry:3,retryDelayMs:500,maxRetryDelayMs:2e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:5e3,maxLoadTimeMs:1e4,timeoutRetry:{maxNumRetry:3,retryDelayMs:500,maxRetryDelayMs:2e3},errorRetry:{maxNumRetry:3,retryDelayMs:500,maxRetryDelayMs:2e3}}}});r.on(M.Events.MEDIA_ATTACHED,()=>{r.loadSource(e)}),r.on(M.Events.MANIFEST_PARSED,()=>{r.levels.length>1&&(r.currentLevel=0),n.currentTime=t}),r.on(M.Events.ERROR,(e,t)=>{t.fatal&&(u("Failed to load video preview"),a(!1))}),r.on(M.Events.FRAG_LOADED,()=>{u(null),a(!1)}),r.attachMedia(n),s.current=r}else{if(n.canPlayType("application/vnd.apple.mpegurl")||Pe()){n.src=e,n.currentTime=t,Pe()&&n.load();const r=()=>{u(null),a(!1),n.removeEventListener("canplay",r),n.removeEventListener("error",s)},s=()=>{u("Failed to load video preview"),a(!1),n.removeEventListener("canplay",r),n.removeEventListener("error",s)};return n.addEventListener("canplay",r),n.addEventListener("error",s),()=>{n.removeEventListener("canplay",r),n.removeEventListener("error",s)}}u("HLS playback not supported in this browser"),a(!1)}}catch(r){u("Failed to initialize video preview"),a(!1)}})(),()=>{s.current&&(s.current.destroy(),s.current=null)}},[e,t]),o.useEffect(()=>{const n=r.current;if(n&&!i&&!c&&e)try{if(s.current){const e=Math.floor(t/(s.current.config.maxFragLookUpTolerance||.1));e!==Math.floor(n.currentTime/(s.current.config.maxFragLookUpTolerance||.1))&&(n.currentTime=t)}else n.currentTime=t}catch(a){u("Failed to seek video preview")}},[t,i,c,e]),l.jsx("div",{className:"relative",children:e?l.jsxs(l.Fragment,{children:[l.jsx("video",{ref:r,className:`w-[200px] aspect-video object-cover rounded-lg ${n} ${i||c?"opacity-0":"opacity-100"}`,preload:"auto",muted:!0,playsInline:!0,crossOrigin:"anonymous"}),i&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded-lg",children:l.jsx("div",{className:"w-5 h-5 border-2 border-white/40 border-t-white/90 rounded-full animate-spin"})}),c&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded-lg",children:l.jsx("div",{className:"text-xs text-white/90 text-center px-4",children:c})})]}):l.jsx("div",{className:"w-[200px] aspect-video bg-black/60 rounded-lg flex items-center justify-center",children:l.jsx("div",{className:"text-xs text-white/90 text-center px-4",children:"No preview available"})})})});tn.displayName="PreviewPlayer";const nn=o.memo(({currentTime:e,duration:t,onSeek:n,bufferProgress:r=0,src:s,mainHls:i,spacing:a={bottom:72,px:3}})=>{const c=H(),[u,d]=o.useState(!1),[m,h]=o.useState(e),[x,f]=o.useState(null),[g,p]=o.useState(null),w=o.useRef(null),v=o.useRef(null),y=o.useRef(!1);o.useEffect(()=>{void 0===e||Number.isNaN(e)||h(e)},[e]);const b=o.useCallback(e=>{const n=v.current;if(!n)return null;const r=n.getBoundingClientRect(),s="touches"in e?e.touches[0].clientX:e.clientX;if(s<r.left||s>r.right)return null;return Math.min(Math.max(s-r.left,0),r.width)/r.width*t},[t]),C=o.useCallback(e=>{const t=v.current;if(!t)return;const r=t.getBoundingClientRect(),s=parseInt(getComputedStyle(t.querySelector(".progress-bar-track")||t).height),i=r.top+(r.height-s)/2;if(e.clientY<i||e.clientY>i+s)return void(y.current||(f(null),p(null)));const a=b(e);null!==a&&(f(a),y.current&&n(a),p({x:e.clientX,width:r.width,boundingLeft:r.left}))},[b,n]),j=o.useCallback(e=>{const t=v.current;if(!t)return;const r=t.getBoundingClientRect(),s=parseInt(getComputedStyle(t.querySelector(".progress-bar-track")||t).height),i=r.top+(r.height-s)/2;if(e.clientY<i||e.clientY>i+s)return;e.preventDefault(),y.current=!0,d(!0);const a=b(e);null!==a&&n(a)},[b,n]),N=o.useCallback(e=>{if(y.current){e.preventDefault(),y.current=!1,d(!1);const t=b(e);null!==t&&n(t)}},[b,n]),z=o.useCallback(e=>{const t=v.current;if(!t)return;const r=t.getBoundingClientRect(),s=e.touches[0],i=parseInt(getComputedStyle(t.querySelector(".progress-bar-track")||t).height),a=r.top+(r.height-i)/2;if(s.clientY<a||s.clientY>a+i)return;e.stopPropagation(),y.current=!0,d(!0);const o=b(e);null!==o&&n(o)},[b,n]),A=o.useCallback(e=>{if(e.stopPropagation(),y.current){const t=v.current;if(!t)return;const r=t.getBoundingClientRect(),s=e.touches[0];if(s.clientX<r.left||s.clientX>r.right)return;const i=b(e);null!==i&&n(i)}},[b,n]),S=o.useCallback(e=>{e.stopPropagation(),y.current=!1,d(!1)},[]);o.useEffect(()=>{const e=()=>{y.current&&(y.current=!1,d(!1))};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}},[]);const L=o.useCallback(()=>{y.current||(f(null),p(null))},[]);return o.useEffect(()=>{const e=v.current?.querySelector(".progress-bar-track");if(!e)return;const t=()=>{const t=e.querySelector(".progress-thumb");t&&t.classList.add("opacity-100")},n=()=>{const t=e.querySelector(".progress-thumb");t&&!y.current&&t.classList.remove("opacity-100")};return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),()=>{e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",n)}},[]),l.jsx(B.div,{className:"absolute left-0 right-0",style:{bottom:a.bottom},initial:{opacity:1,y:0},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:[.32,0,.67,0]},children:l.jsx("div",{className:"max-w-[96%] md:max-w-[98%] mx-auto",children:l.jsxs("div",{ref:w,className:"relative flex items-center",style:{padding:`0 ${4*a.px}px`},children:[l.jsx("div",{className:"flex-shrink-0 mr-2 sm:mr-3 md:mr-4",children:l.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium text-white/80 tabular-nums tracking-wide",children:en(m)})}),l.jsxs("div",{ref:v,className:"relative flex-1 cursor-pointer z-50",onMouseMove:C,onMouseLeave:L,onMouseDown:j,onMouseUp:N,onTouchStart:z,onTouchMove:A,onTouchEnd:S,style:{touchAction:"none",WebkitTouchCallout:"none",WebkitUserSelect:"none",WebkitTapHighlightColor:"transparent"},children:[l.jsx("div",{className:"absolute inset-0 -top-6 -bottom-6 pointer-events-none"}),l.jsx("div",{className:"relative h-8 sm:h-10 flex items-center",children:l.jsxs("div",{className:"absolute inset-x-0 h-1 sm:h-1.5 md:h-2 hover:h-1.5 sm:hover:h-2 md:hover:h-2.5 transition-all duration-150 progress-bar-track cursor-pointer",children:[l.jsx("div",{className:"absolute inset-0 rounded-full bg-white/10"}),l.jsx("div",{className:"absolute left-0 top-0 h-full rounded-full bg-white/20 transition-all duration-300 ease-out",style:{width:`${r}%`}}),l.jsx("div",{className:"absolute left-0 top-0 h-full rounded-full transition-all duration-150",style:{width:e/t*100+"%",background:`linear-gradient(to right, ${c}, ${T(c,.8)})`}}),l.jsx("div",{className:"progress-thumb absolute top-1/2 -translate-y-1/2 h-3.5 w-3.5 md:h-4 md:w-4 -ml-2 rounded-full transition-all duration-150\n                    "+(u?"opacity-100 scale-125":"opacity-0"),style:{left:e/t*100+"%",backgroundColor:c,boxShadow:`0 2px 4px ${T(c,.3)}`},children:l.jsx("div",{className:"absolute inset-1 rounded-full bg-white"})})]})}),null!==x&&null!==g&&!u&&l.jsx("div",{className:"fixed opacity-100 pointer-events-none z-50",style:(()=>{if(!g||!w.current)return{};const e=200,t=window.innerWidth;let n=g.x-100;return n<20?n=20:n+e>t-20&&(n=t-20-e),{position:"fixed",left:`${n}px`,bottom:"100px",width:"200px",transform:"translateY(0)",zIndex:100}})(),children:l.jsxs("div",{className:"relative overflow-hidden bg-black/90 backdrop-blur-md p-2 rounded-xl shadow-xl border border-white/20",children:[l.jsx(tn,{src:s,currentTime:x,className:"shadow-lg transition-opacity duration-200",mainHls:i}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent pointer-events-none",children:l.jsx("div",{className:"absolute bottom-3 inset-x-0 text-sm font-medium text-white/90 tracking-wide tabular-nums text-center",children:en(x)})})]})})]}),l.jsx("div",{className:"flex-shrink-0 ml-2 sm:ml-3 md:ml-4",children:l.jsx("span",{className:"text-xs sm:text-sm md:text-base font-medium text-white/80 tabular-nums tracking-wide",children:en(t)})})]})})})});nn.displayName="VideoProgress";const rn=()=>{const e=window.innerWidth<=768,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e||t},sn=()=>window.innerWidth>window.innerHeight,an=o.memo(({videoState:e,videoHandlers:t,menuState:n,mediaInfo:r,mediaType:s,tmdbId:i,seasonId:a,episodeId:c,subtitles:u})=>{const d=Ht(),m=parseInt(d.button.match(/\d+/)?.[0]||"16"),[h,x]=o.useState(rn()),[f,g]=o.useState(sn());o.useEffect(()=>{const e=()=>{x(rn()),g(sn())};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),o.useEffect(()=>{},[e.source.qualities,e.source.currentQuality]);const p=o.useMemo(()=>h?f?{bottom:m+38,px:4}:{bottom:m+42,px:3}:{bottom:m+52,px:3},[m,h,f]),w=o.useCallback(n=>{const r=e.source.availableServers.find(e=>e.name===n);return window&&window.handleServerChangeDirectly?r&&r.source?window.handleServerChangeDirectly(n,r.source):window.handleServerChangeDirectly(n):t.handleServerChange(n)},[t,e.source.availableServers]),v=o.useCallback(async e=>window&&window.testServerAvailability?window.testServerAvailability(e):!!t.handleServerTest&&t.handleServerTest(e),[t]);return l.jsx("div",{className:"absolute inset-x-0 bottom-0 bg-gradient-to-t from-black/80 via-black/50 to-transparent",children:l.jsxs("div",{className:"relative",children:[l.jsx(nn,{currentTime:e.playback.currentTime,duration:e.playback.duration,onSeek:t.handleSeek,bufferProgress:e.playback.bufferProgress,src:e.source.currentQuality?.url||"",mainHls:e.source.hlsRef.current,spacing:p}),e.source.qualities.length>0&&null,l.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-4 pb-2",children:l.jsx(Jt,{isPlaying:e.playback.isPlaying,volume:e.playback.volume,isFullscreen:e.playback.isFullscreen,onPlayPause:t.togglePlay,onVolumeChange:t.handleVolumeChange,onSkipBackward:()=>t.skip(-10),onSkipForward:()=>t.skip(10),onFullscreenToggle:t.toggleFullscreen,servers:e.source.availableServers,currentServer:e.source.currentServer,onServerChange:w,onServerTest:v,qualities:e.source.qualities,currentQuality:e.source.currentQuality,onQualityChange:t.handleQualityChange,mediaType:s,tmdbId:i,currentSeason:a,currentEpisode:c,showName:r&&"show_name"in r?r.show_name:void 0,setIsServerMenuOpen:n.setIsServerMenuOpen,isServerMenuOpen:n.isServerMenuOpen,setIsEpisodeMenuOpen:n.setIsEpisodeMenuOpen,isEpisodeMenuOpen:n.isEpisodeMenuOpen,setIsSettingsMenuOpen:n.setIsSettingsMenuOpen,isSettingsMenuOpen:n.isSettingsMenuOpen,setIsSubtitleMenuOpen:n.setIsSubtitleMenuOpen,isSubtitleMenuOpen:n.isSubtitleMenuOpen,currentSubtitle:u.currentSubtitle,onSubtitleSelect:u.handleSubtitleSelect})})]})})}),on=()=>{const e=window.innerWidth,t=window.innerHeight,n=e/t;return!(Math.min(e,t)>=600&&n>=.6&&n<=1.6)},ln=({onSeek:e,onPlayPause:t,onFullscreenToggle:n,themeColor:r})=>{const[s,i]=o.useState([]),a=o.useRef({left:0,right:0}),[c,u]=o.useState(on);o.useEffect(()=>{const e=()=>{u(on())};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]);const d=o.useCallback(t=>{const n="left"===t?-10:10;e(n);const r={key:"left"===t?"←":"→",type:"seek",value:n,position:"seek",timestamp:Date.now()};i(e=>[...e,r]),setTimeout(()=>{i(e=>e.filter(e=>e.timestamp!==r.timestamp))},1e3)},[e]),m=o.useCallback(e=>t=>{if(!c)return;if(t.touches[0].clientY>window.innerHeight-100)return;const n=Date.now();n-a.current[e]<300&&d(e),a.current[e]=n},[d,c]),h=o.useCallback(async e=>{if(!c)return;e.touches[0].clientY>window.innerHeight-100||t()},[c,t,n]);if(!c)return null;const x=e=>"seek"===e.type?l.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[l.jsx("div",{className:"w-16 h-16 flex items-center justify-center bg-gradient-to-b from-white/10 to-white/5 rounded-full hover:from-white/15 hover:to-white/10 transition-all duration-200 backdrop-blur-sm group",children:e.value&&e.value<0?l.jsx("svg",{className:"w-8 h-8 transition-colors",style:{color:r},strokeWidth:2,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{d:"M19 20L5 12l14-8v16z"})}):l.jsx("svg",{className:"w-8 h-8 transition-colors",style:{color:r},strokeWidth:2,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:l.jsx("path",{d:"M5 4l14 8-14 8V4z"})})}),l.jsxs("div",{className:"flex items-center space-x-1.5",children:[l.jsx("span",{className:"text-2xl font-medium text-white/90 tabular-nums",children:Math.abs(e.value||0)}),l.jsx("span",{className:"text-sm font-medium text-white/70",children:"sec"})]})]}):null;return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute left-0 top-0 bottom-[140px] w-1/3",onTouchStart:m("left"),style:{touchAction:"none"}}),l.jsx("div",{className:"absolute left-1/3 top-0 bottom-[140px] w-1/3",onTouchStart:h,style:{touchAction:"none"}}),l.jsx("div",{className:"absolute right-0 top-0 bottom-[140px] w-1/3",onTouchStart:m("right"),style:{touchAction:"none"}}),s.map(e=>l.jsx("div",{"data-position":e.position,className:`absolute bg-gradient-to-b from-black/85 to-black/95 backdrop-blur-md rounded-xl px-6 py-5 text-white animate-shortcut-popup border border-white/10 shadow-2xl group z-40\n            ${"seek"===e.position?"left-1/2 bottom-32 -translate-x-1/2":""}\n          `,children:x(e)},e.timestamp))]})},cn=o.memo(({isVisible:e,isPaused:t,hasStartedPlaying:n,mediaInfo:r,currentTime:s,onPlayPause:i,isSeeking:a=!1,isIdleCheckVisible:c=!1})=>{const u=H(),[d,m]=o.useState(!1),[h,x]=o.useState(!1);if(o.useEffect(()=>{const e=()=>{m(ze()),x(Se())};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),!r||!n||s<3)return null;const f="show_name"in r,g=f?r.show_name:r.title,p=()=>d?h?"text-xl sm:text-4xl":"text-sm xs:text-base sm:text-4xl":"text-2xl sm:text-4xl md:text-5xl lg:text-6xl",w=()=>d?h?"text-xs sm:text-base":"text-[9px] xs:text-[10px] sm:text-base":"text-sm sm:text-base md:text-lg lg:text-xl";return l.jsx(D,{children:t&&e&&!a&&!c&&l.jsxs(l.Fragment,{children:[l.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/95 backdrop-blur-lg will-change-transform z-[90]"}),l.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 z-[100]",onClick:i,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/80 to-transparent"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/60 via-transparent to-transparent"}),l.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute bottom-[20%] sm:top-8 sm:bottom-auto right-4 sm:right-8 flex items-center gap-3 z-[102]",children:[l.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-xl bg-black/40 border border-white/10 backdrop-blur",children:[l.jsx("div",{className:"w-2 h-2 rounded-full animate-pulse",style:{backgroundColor:u}}),l.jsx("span",{className:"text-sm font-medium text-white/90",children:"Paused"})]}),l.jsx("div",{className:"text-xs text-white/50 hidden sm:block",children:"Click anywhere to resume"})]}),l.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 flex items-center z-[101]",children:l.jsx("div",{className:`relative w-full ${d?h?"max-w-[85%] px-4":"max-w-[94%] px-2":"max-w-[85%] lg:max-w-6xl px-4"} mx-auto sm:pl-8 md:pl-12 lg:pl-16 ${d?h?"-mt-12":"-mt-6":"-mt-16 md:-mt-20"}`,children:f?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"relative "+(d?"space-y-1.5 sm:space-y-4":"space-y-3 sm:space-y-4"),children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-1.5 sm:gap-3",children:[l.jsx("h2",{className:`${p()} font-bold tracking-tight leading-[1.15] sm:leading-[1.2] line-clamp-2 sm:line-clamp-none`,style:{background:`linear-gradient(to right, ${u}, ${T(u,.8)})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 2px 20px rgba(0,0,0,0.2)",paddingTop:"0.125rem"},children:r.show_name}),l.jsx("div",{className:`px-1.5 py-0.5 sm:px-3 sm:py-1.5 rounded-md sm:rounded-xl ${d?h?"text-xs":"text-[8px]":"text-[10px]"} sm:text-sm font-medium shadow-xl self-start sm:self-center flex-shrink-0`,style:{background:`linear-gradient(135deg, ${T(u,.3)}, ${T(u,.1)})`,border:`1px solid ${T(u,.3)}`,color:u,backdropFilter:"blur"},children:"TV Series"})]}),l.jsxs("div",{className:`flex flex-wrap items-center gap-1 sm:gap-2 ${d?h?"text-xs":"text-[9px]":"text-sm"} sm:text-base md:text-lg text-white/90`,children:[l.jsxs("span",{className:"font-semibold",children:["Season ",r.season_number]}),l.jsx("span",{className:"text-white/40",children:"•"}),l.jsxs("span",{className:"font-semibold",children:["Episode ",r.episode_number]}),l.jsx("span",{className:"text-white/40",children:"•"}),l.jsx("span",{className:"text-white/80 line-clamp-1",children:r.name})]}),l.jsx("div",{className:"relative "+(d?"mt-1 sm:mt-6":"mt-2 sm:mt-6"),children:l.jsx("p",{className:`${w()} text-white/80 leading-[1.4] sm:leading-relaxed max-w-full sm:max-w-[90%] md:max-w-2xl font-medium tracking-wide ${d&&h?"line-clamp-2":"line-clamp-3"}`,children:r.overview})})]})}):l.jsxs("div",{className:"relative "+(d?"space-y-1.5 sm:space-y-4":"space-y-3 sm:space-y-4"),children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-1.5 sm:gap-3",children:[l.jsx("h2",{className:`${p()} font-bold tracking-tight leading-[1.15] sm:leading-[1.2] line-clamp-2 sm:line-clamp-none`,style:{background:`linear-gradient(to right, ${u}, ${T(u,.8)})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 2px 20px rgba(0,0,0,0.2)",paddingTop:"0.125rem"},children:g}),l.jsx("div",{className:`px-1.5 py-0.5 sm:px-3 sm:py-1.5 rounded-md sm:rounded-xl ${d?h?"text-xs":"text-[8px]":"text-[10px]"} sm:text-sm font-medium shadow-xl self-start sm:self-center flex-shrink-0`,style:{background:`linear-gradient(135deg, ${T(u,.3)}, ${T(u,.1)})`,border:`1px solid ${T(u,.3)}`,color:u,backdropFilter:"blur"},children:"Movie"})]}),l.jsx("div",{className:"relative "+(d?"mt-1 sm:mt-6":"mt-2 sm:mt-6"),children:l.jsx("p",{className:`${w()} text-white/80 leading-[1.4] sm:leading-relaxed max-w-full sm:max-w-[90%] md:max-w-2xl font-medium tracking-wide ${d&&h?"line-clamp-2":"line-clamp-3"}`,children:r.overview})})]})})})]})]})})});cn.displayName="PauseScreen";const un=({isVisible:e,onContinue:t,themeColor:n})=>{const r=o.useRef(null);return o.useEffect(()=>{if(!e)return;const n=()=>{t()},s=r.current;return s&&(s.addEventListener("mousemove",n),s.addEventListener("click",n),s.addEventListener("keydown",n)),()=>{s&&(s.removeEventListener("mousemove",n),s.removeEventListener("click",n),s.removeEventListener("keydown",n))}},[e,t]),e?l.jsx(B.div,{ref:r,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"absolute inset-0 bg-gradient-to-t from-black/95 via-black/90 to-black/95 backdrop-blur-sm flex items-center justify-center z-50",tabIndex:0,children:l.jsxs(B.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.4,ease:[.16,1,.3,1]},className:"text-center space-y-8 p-8 max-w-lg",children:[l.jsx("div",{className:"w-20 h-20 rounded-2xl mx-auto flex items-center justify-center mb-6",style:{background:`linear-gradient(135deg, ${T(n,.15)}, transparent)`,borderColor:T(n,.2),borderWidth:"1px"},children:l.jsx(E.Pause,{className:"w-8 h-8",style:{color:n}})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Are you still watching?"}),l.jsx("p",{className:"text-base sm:text-lg text-white/70",children:"Move your mouse or click anywhere to continue watching"})]}),l.jsx("div",{className:"pt-4",children:l.jsx("button",{onClick:t,className:"px-8 py-3 rounded-xl text-white font-medium transition-all duration-300 hover:opacity-90 active:scale-95 shadow-lg",style:{background:`linear-gradient(135deg, ${n}, ${T(n,.8)})`,boxShadow:`0 8px 24px -4px ${T(n,.3)}`},children:"Continue Watching"})}),l.jsx("div",{className:"text-sm text-white/40 pt-2",children:"Press any key or move your mouse to resume"})]})}):null},dn=()=>{const e=window.innerWidth,t=window.innerHeight,n=e/t;return!(Math.min(e,t)>=600&&n>=.6&&n<=1.6)},mn={time:Date.now()},hn=({mediaType:r})=>{const s=o.useRef(null),a=o.useRef(null),d=o.useRef(null),m=o.useRef(!1),{tmdbId:h,seasonId:x,episodeId:f}=u(),g=c(),p=H(),[w,v]=o.useState(null),y=(()=>{const e=Be,t={WlJKo:function(e,t){return e(t)},NDtFV:"Setting qu"+e(469)+e(463)+e(474)+"e:",oAfRa:function(e,t){return e>t},xwumA:e(466),EplYh:function(e,t){return e(t)},RBgMy:function(e,t){return e(t)},CeDmZ:function(e,t){return e(t)},wOwiz:function(e,t){return e(t)},esZEK:function(e,t){return e(t)},UpXrZ:function(e,t){return e(t)},uHvNr:function(e,t){return e(t)},zcRhi:function(e,t){return e(t)}},[n,r]=o.useState(!1),[s,i]=t[e(464)](o.useState,0),[a,l]=o.useState(0),[c,u]=o.useState(1),[d,m]=t[e(476)](o.useState,!1),[h,x]=o.useState(0),[f,g]=t[e(477)](o.useState,null),[p,w]=t.CeDmZ(o.useState,[]),[v,y]=t.wOwiz(o.useState,null),[b,C]=t[e(482)](o.useState,[]),[j,N]=o.useState(null),[z,A]=t[e(478)](o.useState,!0),[S,L]=t.uHvNr(o.useState,null),[B,D]=o.useState(!1),[M,k]=o.useState(!0),[I,q]=t[e(487)](o.useState,0),[E,K]=o.useState(!1),[P,T]=t[e(476)](o.useState,!1),[G,W]=o.useState(!1),H=t[e(484)](o.useRef,null);return{playback:{isPlaying:n,currentTime:s,duration:a,volume:c,isFullscreen:d,bufferProgress:h,isSeeking:P,setIsPlaying:n=>{!P&&t[e(477)](r,n)},setCurrentTime:i,setDuration:l,setVolume:u,setIsFullscreen:m,setBufferProgress:x,setIsSeeking:T},source:{currentServer:f,qualities:p,currentQuality:v,availableServers:b,pendingTime:j,hlsRef:H,isHLS:G,setCurrentServer:g,setQualities:n=>{const r=e;w(n),t[r(461)](n[r(481)+"h"],0)&&!v&&t[r(477)](y,n[0])},setCurrentQuality:n=>{const r=e;n&&n[r(456)]&&(t[r(477)](y,n),t[r(477)](W,n[r(456)][r(467)+r(455)+"e"]()["inclu"+r(483)](t[r(465)])))},setAvailableServers:C,setPendingTime:N,setIsHLS:W},status:{isLoading:z,error:S,hasInteracted:B,isInitialLoad:M,totalEpisodes:I,isLogoError:E,setIsLoading:A,setError:L,setHasInteracted:D,setIsInitialLoad:k,setTotalEpisodes:q,setIsLogoError:K}}})(),b=(()=>{const e=wt,t={vnkKn:function(e,t){return e(t)},cIxRG:function(e,t){return e||t}},[n,r]=t[e(128)](o.useState,!1),[s,i]=t[e(128)](o.useState,!1),[a,l]=t.vnkKn(o.useState,!1),[c,u]=t[e(128)](o.useState,!1);return{isServerMenuOpen:n,setIsServerMenuOpen:r,isEpisodeMenuOpen:s,setIsEpisodeMenuOpen:i,isSettingsMenuOpen:a,setIsSettingsMenuOpen:l,isSubtitleMenuOpen:c,setIsSubtitleMenuOpen:u,isAnyMenuOpen:t[e(123)](n,s)||a||c}})(),C=pt({videoRef:s,tmdbId:h,seasonId:x,episodeId:f}),[j]=o.useState(()=>ge({autoplay:!0,pauseScreen:!0})),N=(({videoRef:e,hlsRef:t,containerRef:n,playback:r,source:s,status:i})=>{const a=He,o={wWbmD:function(e){return e()},PZaGI:a(575)+a(483)+a(188)+a(596)+a(437),juQVo:a(441)+a(410)+a(329)+a(266)+" togg"+a(399)+"y:",MVfNf:function(e,t){return e(t)},JivQT:a(561)+a(488)+"o:",DFVKi:function(e,t){return e+t},fJrlv:function(e,t){return e(t)},SjlpU:"webki"+a(506)+"rFull"+a(202)+"n fai"+a(454),vfJjX:"iOS fullsc"+a(582)+a(371)+a(324)+"d:",atqTd:function(e,t){return e-t},voCeM:function(e,t){return e*t},wgDtm:function(e,t){return e/t},xLDld:a(208)+a(167)+a(606)+a(547),KFgmX:function(e,t){return e(t)},GKGbV:function(e,t){return e>=t},nbBgs:"Failed to "+a(276)+"HLS stream"+a(130)+a(228)+a(235)+a(418)+a(424),GCOOr:function(e,t,n){return e(t,n)},QXtLL:function(e,t){return e>t},BoBqe:"Auto",pwIXn:a(270)+a(154)+a(333)+a(332)+a(123)+"fest:",JmIcx:function(e,t){return e-t},iBnDe:a(377)+"ay",KKsqD:function(e,t){return e(t)},UWuyB:function(e,t){return e>t},Snxpc:a(356)+a(543)+a(421)+a(250)+a(263)+a(570)+a(475)+":",lvpsk:"No ma"+a(171)+"g qua"+a(392)+a(432)+a(114)+a(286)+a(388)+" qual"+a(339),DBFvj:a(146)+"lid U"+a(556)+a(170)+"n source",iVTEo:a(270)+a(327)+a(342)+a(332)+a(414)+a(141),lUhDs:a(518),gWAHL:a(270)+a(416)+a(336)+a(319)+a(525)+a(447)+"t:",HdWhY:".m3u8",sOmZs:a(404)+a(534),IKuxA:a(337)+a(411)+a(249)+a(367)+a(280)+a(466)+"OS:",ZgoRl:a(270)+a(196)+a(165)+a(151)+a(401)+a(248)+"ack:",mfbwD:"Faile"+a(135)+a(276)+a(367)+a(291),lryXU:function(e,t){return e*t},RicEa:a(270)+a(519)+a(307)+a(315)+a(313)+":",oHbdU:a(584)+a(135)+a(299)+"alize"+a(401)+a(126)+"r",SnJYP:function(e,t){return e*t},lqmNJ:function(e,t){return e*t},HZiAk:function(e,t){return e!==t},jOXnt:function(e,t){return e instanceof t},sKGIL:a(260)+"eServ"+a(456)+a(155)+"alled with"+a(546)+"er na"+a(283),tGnBP:a(442)+a(563)+a(293)+a(278)+a(358)+a(435)+a(204)+a(426)+"d:",sYZbx:a(179)+a(440)+a(386)+"rs:",OgYTm:a(603)+"ing u"+a(379)+a(414)+"ance "+a(495)+a(147)+a(259)+a(110),gxvHm:a(270)+" clea"+a(336)+a(160)+"S:",VGwdO:a(603)+"ing u"+a(613)+a(125)+a(529)+a(497)+a(206)+a(362)+"change",FltSc:a(481)+a(223)+"ource"+a(419)+a(502)+"server:",Ovkbi:function(e,t){return e(t)},HnQeB:"Resto"+a(568)+"state"+a(130)+a(274)+a(259)+a(110),CoNnh:function(e,t){return e>t},rhfXk:function(e,t){return e<t},zvOlA:a(166)+a(578)+a(384)+a(153)+"ter s"+a(451)+a(236)+"ge",iZTfw:a(584)+a(135)+a(536)+a(521)+a(352)+" normally,"+a(560)+a(325)+a(129)+a(491),XulPB:a(323)+a(562)+"0",sMIDl:a(305)+"ack r"+a(538)+a(200)+a(498)+"ed fa"+a(345)+"k",WIbYO:a(361)+a(149)+a(550)+a(536)+"e pla"+a(352)+a(586)+a(138)+a(493)+"ion n"+a(174),cOISm:"Error duri"+a(331)+"urce "+a(434)+"e:",WHUOk:a(584)+a(135)+a(434)+a(147)+"ver",bVLhq:function(e,t,n){return e(t,n)},lQuoZ:a(113)+"LS ca"+a(231)+a(482)+a(314)+"ed",xhRwm:"iOS H"+a(593)+a(231)+a(347)+a(370)+a(492)+a(526)+a(184)+a(571)+a(240),HgjYE:a(253)+"ed iO"+a(585)+a(410)+a(602),xLMFu:a(312)+a(490)+a(204)+a(360)+a(257),anrcw:function(e,t){return e===t},KolIF:function(e,t){return e===t},Mixkf:function(e,t){return e>t},ySlvH:a(270)+a(416)+a(336)+a(319)+a(525)+"lemen"+a(537)+a(285)+a(478)+a(133)+a(264),THQDY:"Using"+a(545)+"ve HL"+a(412)+"port "+a(189)+"OS",BrEIi:a(140)+"inline",cnCPI:"webki"+a(509)+a(512)+a(583),KUics:function(e,t){return e>t},GHZHD:"Attem"+a(328)+a(321)+a(393)+a(549)+a(256),elIWX:a(113)+a(409)+a(458)+a(410)+" successful",RLrvG:a(470)+a(579),clRof:a(337)+a(411)+a(249)+a(446)+a(420)+a(187)+"ity c"+a(110)+":",dJhfp:a(270)+a(287)+a(297)+"ality"+a(236)+"ge:"},l=()=>{const t=a;if(e.current){const n=e[t(298)+"nt"][t(400)+"red"];if(n[t(532)+"h"]>0){const s=n[t(372)](o[t(163)](n.length,1)),i=e.current[t(150)+t(427)];r["setBu"+t(311)+"rogress"](o[t(271)](o[t(505)](s,i),100))}}},c=()=>o[a(501)](Pe),u=async n=>{const l=a,u={sfmnx:function(e,t){return e&&t},OKvXT:function(e,t){return o[He(353)](e,t)},uUoxg:o[l(162)]};if(!e[l(298)+"nt"])return!1;try{if(i[l(120)+l(592)+"ng"](!0),n[l(446)+"es"]&&Array[l(142)+"ay"](n[l(446)+"es"])&&o[l(326)](n[l(446)+"es"][l(532)+"h"],0)){const r=n[l(446)+"es"][l(381)](e=>{const t=l;if(!e||!e[t(364)])return null;const n=e[t(263)+"ty"]?.[t(341)](/(\d+)/),r=n?o[t(137)](parseInt,n[1]):1080,s=e.quality?.[t(389)+t(387)]("K")?e.quality:e.quality?.[t(158)+"ce"](/P$/,"p");return{url:e[t(364)],resolution:r,height:r,label:s||r+"p",quality:s||r+"p"}})[l(203)+"r"](Boolean);if(0===r[l(532)+"h"]){const e=n.url||n[l(446)+"es"][0]?.[l(364)]||"";e&&r[l(267)]({url:e,resolution:1080,height:1080,label:o[l(178)],quality:o[l(178)]})}const a=r[l(316)]((e,t)=>{const n=l,r=e.quality["toLow"+n(296)+"e"]()[n(389)+"des"]("4k"),s=t[n(263)+"ty"][n(558)+n(296)+"e"]()[n(389)+n(387)]("4k");return r&&!s?-1:u[n(304)](!r,s)?1:u[n(175)](t[n(589)+"t"],e[n(589)+"t"])});s.setQualities(a);let f=a[0];if(s[l(298)+"ntQua"+l(577)]){const e=a[l(486)](e=>e[l(263)+"ty"][l(558)+l(296)+"e"]()===s[l(298)+l(157)+l(577)]?.[l(263)+"ty"][l(558)+l(296)+"e"]()||e[l(589)+"t"]===s[l(298)+l(157)+"lity"]?.[l(589)+"t"]);e&&(f=e)}s[l(555)+l(343)+"Quality"](f);const g=f[l(364)];if(!g)throw new Error(o[l(380)]);if(t[l(298)+"nt"])try{t.current.destroy(),t.current=null}catch(d){}if(e[l(298)+"nt"])try{e[l(298)+"nt"][l(281)](),e[l(298)+"nt"][l(540)+"eAttr"+l(156)](o[l(480)]),e[l(298)+"nt"][l(344)]()}catch(m){}if(await new Promise(e=>setTimeout(e,50)),g["inclu"+l(387)](o[l(405)])){if(s[l(120)+"HLS"](!0),c()){if(e[l(298)+"nt"]){e[l(298)+"nt"]["plays"+l(453)+"e"]=!1,e[l(298)+"nt"][l(540)+l(572)+l(156)]("plays"+l(499)+"e"),e.current[l(540)+l(572)+l(156)](l(134)+l(509)+l(512)+"ine"),e[l(298)+"nt"][l(514)+"ad"]=o[l(229)];try{e[l(298)+"nt"].src=g,await Promise[l(510)]([new Promise(t=>{const n=l,r=()=>{const n=He;e[n(298)+"nt"]&&e.current[n(540)+n(439)+n(390)+"ener"](u[n(484)],r),t()};e.current&&e[n(298)+"nt"][n(284)+n(335)+n(544)+"r"](u[n(484)],r)})])}catch(h){throw i.setError(o[l(177)]),h}}}else if(M.isSupported())try{const n=new M({enableWorker:!0,maxBufferSize:o[l(318)](o[l(271)](30,1e3),1e3),maxBufferLength:30,startLevel:-1,startFragPrefetch:!0,xhrSetup:function(e){const t=l;e[t(355)+t(346)+t(468)]=!1}});t[l(298)+"nt"]=n,n[l(359)+l(469)+"a"](e[l(298)+"nt"]),n[l(258)+l(280)](g)}catch(x){throw i[l(408)+l(108)](o.oHbdU),x}}else s[l(120)+l(598)](!1),e.current&&(e[l(298)+"nt"].src=g)}else{const a=n.url||n[l(573)]||n[l(446)+"es"]&&n[l(446)+"es"][0]?.[l(364)]||n.sources&&n[l(446)+"es"][0]?.[l(573)]||"";if(!a)throw new Error("No va"+l(448)+l(556)+l(170)+l(334)+l(185));if(t[l(298)+"nt"])try{t.current[l(219)+"oy"](),t.current=null}catch(f){}if(e.current)try{e[l(298)+"nt"][l(281)](),e[l(298)+"nt"][l(540)+l(572)+l(156)](l(518)),e[l(298)+"nt"][l(344)]()}catch(g){}const c={url:a,resolution:n[l(207)+l(220)]||1080,height:n[l(207)+l(220)]||1080,label:(n[l(207)+l(220)]||1080)+"p",quality:(n[l(207)+l(220)]||1080)+"p"},u=[c];if(s[l(604)+l(199)+"es"](u),s["setCu"+l(343)+l(312)+"ty"](c),await new Promise(e=>setTimeout(e,50)),a[l(389)+"des"](l(279))){const n=[{url:a,resolution:0,height:0,label:o[l(178)],quality:o[l(178)]}];if(s[l(604)+l(199)+"es"](n),s[l(120)+l(598)](!0),M[l(429)+l(164)+"d"]())try{const n=new M({enableWorker:!0,maxBufferSize:o.SnJYP(o[l(118)](30,1e3),1e3),maxBufferLength:30,startLevel:-1,startFragPrefetch:!0,xhrSetup:function(e){const t=l;e[t(355)+t(346)+"tials"]=!1}});t.current=n,await Promise[l(510)]([new Promise((r,i)=>{const c=l,u={iRljL:function(e,t){return e<t},CYvxH:function(e){return e()},govyT:function(e,t){return e(t)},aQbSt:function(e,t){return o[He(191)](e,t)},KzHjA:c(232)+c(368)+c(366)+"ched "+c(172)+"LS load",GRpAr:o[c(581)],wFYNl:c(270)+c(287)+c(413)+c(127)+c(609),eROYo:function(e,t,n){return o.GCOOr(e,t,n)},HEtUn:function(e,t){return o.QXtLL(e,t)},hguFL:o.BoBqe,ovcQB:o[c(201)],bmGlT:function(e,t){return o.fJrlv(e,t)}};let d=!1,m=!1,h=0;const x=()=>{const n=c,r=("2|1|3"+n(272)+"5")[n(378)]("|");let s=0;for(;;){switch(r[s++]){case"0":continue;case"1":if(!e.current||!t.current)return void u.govyT(i,new Error(n(403)+n(600)+n(487)+"S ref"+n(517)+n(289)+n(222)+"lable"));continue;case"2":if(u[n(161)](h,3))return void u[n(357)](i,new Error(u.GRpAr));continue;case"3":h++;continue;case"4":m=!0;continue;case"5":try{t[n(298)+"nt"][n(258)+"ource"](a)}catch(o){u[n(465)](setTimeout,()=>{u[n(548)](h,3)?u.CYvxH(x):u.govyT(i,o)},1e3)}continue}break}};n.on(M.Events[c(144)+c(182)+c(396)],()=>{u[c(233)](x)}),n.on(M[c(308)+"s"][c(168)+c(348)+c(462)+"G"],()=>{m=!0}),n.on(M[c(308)+"s"][c(168)+"EST_L"+c(433)],()=>{}),n.on(M[c(308)+"s"][c(168)+c(213)+c(302)],(e,t)=>{const n=c;d=!0,m=!1;try{const e=t[n(605)+"s"]||[],i=[];i[n(267)]({url:a,resolution:0,height:0,label:u[n(443)],quality:u[n(443)]}),e[n(139)+"ch"](e=>{const t=n,r=e.height||0;u[t(507)](r,0)&&i[t(267)]({url:a,resolution:r,height:r,label:r+"p",quality:r+"p"})});const o=i[n(203)+"r"]((e,t,r)=>t===r[n(455)+"ndex"](t=>t.height===e.height))[n(316)]((e,t)=>t[n(589)+"t"]-e[n(589)+"t"]);s[n(604)+n(199)+"es"](o),r()}catch(o){u.bmGlT(i,o)}})})]),n[l(359)+l(469)+"a"](e[l(298)+"nt"])}catch(p){throw i[l(408)+l(108)](o[l(422)]),p}}else s["setIs"+l(598)](!1),e[l(298)+"nt"]&&(e[l(298)+"nt"].src=a);if(o[l(300)](s[l(503)+l(317)+"e"],null)&&e.current)try{e[l(298)+"nt"][l(298)+l(541)+"e"]=s[l(503)+"ngTime"],r[l(555)+"rrentTime"](s["pendi"+l(317)+"e"]),s[l(500)+l(542)+"Time"](null)}catch(w){}}return!0}catch(v){throw i["setEr"+l(108)](o.jOXnt(v,Error)?v[l(527)+"ge"]:l(270)+l(290)+"ing v"+l(511)+"source"),v}finally{i[l(120)+l(592)+"ng"](!1)}};return{togglePlay:async()=>{const t=a,n=e[t(298)+"nt"];if(n)try{if(i[t(438)+t(566)+"racted"](!0),i["setIs"+t(376)+t(340)+"d"](!1),n[t(281)+"d"])if(o[t(501)](Pe)){const{configureVideoForIOSNative:e}=await import(o[t(176)]);if(e(n),n[t(134)+t(506)+t(211)+"screen"])try{n["webki"+t(506)+t(211)+t(202)+"n"]()}catch(s){}await n[t(425)](),r[t(120)+t(391)+"ng"](!0)}else try{n.muted=!1,await n[t(425)](),r[t(120)+"Playing"](!0)}catch(l){n[t(458)]=!0;try{await n[t(425)](),r[t(120)+t(391)+"ng"](!0),setTimeout(()=>{const e=t;!n[e(281)+"d"]&&(n[e(458)]=!1)},100)}catch(c){return void r[t(120)+t(391)+"ng"](!1)}}else n.pause(),r[t(120)+"Playing"](!1)}catch(u){r[t(120)+t(391)+"ng"](!1)}},handleTimeUpdate:()=>{const t=a;e.current&&r[t(555)+"rrent"+t(531)](e[t(298)+"nt"][t(298)+"ntTime"])},handleLoadedMetadata:()=>{const t=a;e[t(298)+"nt"]&&r[t(294)+t(237)+"n"](e[t(298)+"nt"][t(150)+t(427)])},handleSeek:t=>{const n=a;if(e[n(298)+"nt"]){const i=!e[n(298)+"nt"].paused;e[n(298)+"nt"]["curre"+n(541)+"e"]=t,r[n(555)+n(343)+n(531)](t),s[n(298)+n(157)+n(577)]?.[n(364)]&&o[n(215)](Ie,s[n(298)+n(157)+"lity"].url)&&o[n(501)](l),i&&e[n(298)+"nt"][n(425)]()[n(351)](()=>{})}},handleVolumeChange:t=>{const n=a;e.current&&(e[n(298)+"nt"][n(385)+"e"]=t,r[n(255)+"lume"](t))},skip:t=>{const n=a;if(e[n(298)+"nt"]){const s=!e.current[n(281)+"d"],i=o[n(195)](e[n(298)+"nt"].currentTime,t);e.current[n(298)+"ntTime"]=Math[n(496)](0,Math.min(i,r[n(150)+"ion"])),s&&o[n(241)](requestAnimationFrame,()=>{const t=n;e.current&&e.current[t(425)]()[t(351)](()=>{})})}},toggleFullscreen:async()=>{const t=a,s=e[t(298)+"nt"];if(o.wWbmD(Pe)&&s){i[t(438)+t(566)+t(601)+"d"](!0);const{configureVideoForIOSNative:e}=await import(o.PZaGI);if(o[t(241)](e,s),s[t(134)+"tEnte"+t(211)+t(202)+"n"])try{s[t(134)+t(506)+t(211)+t(202)+"n"]()}catch(l){}if(s[t(281)+"d"])try{await s[t(425)](),r[t(120)+"Playing"](!0)}catch(c){}}else document[t(136)+t(508)+t(190)+"nt"]?(document["exitF"+t(449)+t(474)](),r[t(120)+t(254)+"creen"](!1)):(n[t(298)+"nt"]?.[t(360)+"stFullscreen"](),r[t(120)+t(254)+t(508)](!0))},handleProgress:l,handleServerChange:async n=>{const l=a;try{if(n===s["currentSer"+l(436)])return!0;i[l(120)+l(592)+"ng"](!0),i[l(408)+l(108)](null);const a=s[l(539)+"ableS"+l(451)+"s"].find(e=>e.name[l(558)+l(296)+"e"]()===n.toLowerCase());if(!a)return i[l(408)+l(108)](l(442)+'r "'+n+'" not'+l(445)+"d"),!1;if(!a[l(446)+"e"])return i[l(408)+"ror"]("Serve"+l(282)+n+l(295)+" no s"+l(280)+l(192)),!1;const x=e[l(298)+"nt"]?.[l(298)+l(541)+"e"]||0,f=e[l(298)+"nt"]&&!e[l(298)+"nt"][l(281)+"d"],g=e.current?.[l(385)+"e"]||1,p=e[l(298)+"nt"]?.muted||!1;if(s[l(555)+l(343)+l(442)+"r"](a.name),t[l(298)+"nt"])try{t[l(298)+"nt"][l(219)+"oy"](),t[l(298)+"nt"]=null}catch(c){}e[l(298)+"nt"]&&(e[l(298)+"nt"].pause(),e.current[l(540)+l(572)+l(156)](l(518)),e[l(298)+"nt"].load()),await new Promise(e=>setTimeout(e,100));try{if(await o[l(607)](u,a.source),e.current){if(e[l(298)+"nt"][l(385)+"e"]=g,e[l(298)+"nt"][l(458)]=p,s[l(263)+l(431)][l(532)+"h"]>0){const e=s[l(298)+l(157)+l(577)];e&&s["setCu"+l(343)+l(312)+"ty"](e)}if(o[l(373)](x,0)&&o[l(476)](x,e[l(298)+"nt"][l(150)+l(427)])&&(e[l(298)+"nt"][l(298)+"ntTime"]=x,r[l(555)+l(343)+l(531)](x)),f){let t=!1;try{await e.current[l(425)](),r[l(120)+l(391)+"ng"](!0),t=!0}catch(d){try{const n=o.XulPB[l(378)]("|");let s=0;for(;;){switch(n[s++]){case"0":continue;case"1":await e[l(298)+"nt"].play();continue;case"2":r[l(120)+l(391)+"ng"](!0);continue;case"3":e[l(298)+"nt"][l(458)]=!0;continue;case"4":t=!0;continue;case"5":o[l(197)](setTimeout,()=>{const t=l;e[t(298)+"nt"]&&!e.current[t(281)+"d"]&&(e[t(298)+"nt"][t(458)]=p)},500);continue}break}}catch(m){r["setIs"+l(391)+"ng"](!1)}}!t&&r["setIs"+l(391)+"ng"](!1)}else r[l(120)+l(391)+"ng"](!1)}return!0}catch(h){return i[l(408)+l(108)](l(584)+l(135)+"load "+l(446)+l(183)+'m server "'+a[l(551)]+'"'),!1}}catch(x){return i[l(408)+"ror"](x instanceof Error?x[l(527)+"ge"]:o[l(205)]),!1}finally{i[l(120)+l(592)+"ng"](!1)}},handleQualityChange:async n=>{const l=a,u={hxbbA:o[l(128)],wIhZR:l(377)+"ay",XScpd:o.xhRwm,jmldr:o.HgjYE};if(!e.current)return;if(!n?.[l(364)])return;if(s["setCurrent"+l(312)+"ty"](n),s[l(212)]&&s[l(238)+"f"][l(298)+"nt"]&&(o[l(193)](n[l(364)],e[l(298)+"nt"][l(518)])||n[l(364)][l(301)+l(450)](e[l(298)+"nt"][l(518)][l(378)]("?")[0]))){const e=s[l(238)+"f"][l(298)+"nt"];if(o[l(143)](n[l(467)],o.BoBqe)||o[l(193)](n[l(263)+"ty"],o[l(178)]))return void(e[l(298)+"ntLevel"]=-1);if(e.levels&&o[l(415)](e[l(605)+"s"][l(532)+"h"],0)){const t=e[l(605)+"s"][l(455)+l(553)](e=>e[l(589)+"t"]===n[l(589)+"t"]);if(-1!==t)return void(e[l(298)+l(225)+"el"]=t)}}const d=e[l(298)+"nt"].currentTime,m=!e[l(298)+"nt"].paused;if(i.setIsLoading(!0),t[l(298)+"nt"])try{t[l(298)+"nt"].destroy(),t.current=null}catch(h){}if(e[l(298)+"nt"])try{e[l(298)+"nt"][l(281)](),e.current[l(540)+l(572)+"ibute"](o.lUhDs),e[l(298)+"nt"].load()}catch(x){}try{if(n[l(364)][l(389)+l(387)](o[l(405)])){if(o[l(501)](c)){try{if(e[l(298)+"nt"][l(140)+"Inline"]=!1,e[l(298)+"nt"][l(540)+l(572)+"ibute"](o[l(588)]),e[l(298)+"nt"][l(540)+l(572)+l(156)](o[l(275)]),e.current[l(514)+"ad"]=o.sOmZs,e[l(298)+"nt"][l(518)]=n[l(364)],await new Promise(t=>{const n=l,r=()=>{const n=He;e[n(298)+"nt"]&&e.current[n(540)+n(439)+n(390)+n(198)](u[n(243)],r),t()};e[n(298)+"nt"]&&e[n(298)+"nt"][n(284)+n(335)+n(544)+"r"](o[n(162)],r),o[n(354)](setTimeout,()=>{const s=n;e[s(298)+"nt"]&&e[s(298)+"nt"][s(540)+s(439)+s(390)+s(198)](u[s(243)],r),t()},3e3)}),o[l(516)](d,0)&&(e[l(298)+"nt"][l(298)+"ntTime"]=d),m&&i[l(423)+l(464)+"ted"])try{e[l(298)+"nt"].muted=!0,await e[l(298)+"nt"][l(425)](),o[l(354)](setTimeout,()=>{const t=l;e[t(298)+"nt"]&&!e[t(298)+"nt"][t(281)+"d"]&&(e.current[t(458)]=!1)},100),r.setIsPlaying(!0)}catch(f){try{e.current[l(458)]=!1,await e[l(298)+"nt"][l(425)](),r[l(120)+l(391)+"ng"](!0)}catch(g){}}s[l(120)+"HLS"](!0)}catch(p){}finally{i[l(120)+l(592)+"ng"](!1)}return}if(M[l(429)+"ported"]()){s[l(238)+"f"][l(298)+"nt"]&&s.hlsRef[l(298)+"nt"][l(219)+"oy"]();const t=new M({startLevel:-1,capLevelToPlayerSize:!0,autoStartLoad:!0,xhrSetup:function(e){const t=l;e[t(355)+t(346)+t(468)]=!1}});return s.hlsRef[l(298)+"nt"]=t,t[l(359)+"hMedia"](e[l(298)+"nt"]),t[l(258)+l(280)](n[l(364)]),o[l(373)](d,0)&&(e.current["curre"+l(541)+"e"]=d),m&&(e.current[l(425)]()[l(351)](console[l(245)]),r[l(120)+l(391)+"ng"](!0)),s[l(120)+l(598)](!0),void i[l(120)+"Loading"](!1)}}else{const t=o[l(180)][l(378)]("|");let i=0;for(;;){switch(t[i++]){case"0":s[l(120)+"HLS"](!1);continue;case"1":continue;case"2":m&&(e[l(298)+"nt"][l(425)]()[l(351)](console[l(245)]),r[l(120)+"Playing"](!0));continue;case"3":e[l(298)+"nt"][l(518)]=n[l(364)];continue;case"4":d>0&&(e[l(298)+"nt"][l(298)+"ntTime"]=d);continue}break}}}catch(w){}finally{i[l(120)+"Loading"](!1)}},handleSourceChange:u}})({videoRef:s,hlsRef:d,containerRef:a,playback:y.playback,source:y.source,status:y.status});(({videoRef:r,hlsRef:s,mediaInfo:i,mediaType:a,tmdbId:l,autoplayParam:c,playback:u,source:d,status:m,onVolumeChange:h})=>{const x=Fe,f={GqCFt:x(675),febWC:function(e){return e()},oVIMB:function(e,t){return e>t},epUkB:x(587),ZQgWk:function(e){return e()},Xngmi:"../utils/iosNativePl"+x(572),vqqIu:function(e,t){return e(t)},KuQwe:x(644)+x(558)+x(571)+".appl"+x(589)+"gurl",EBlsX:function(e,t){return e>t},HBDGY:x(702)+"evice"+x(469)+x(678)+"suppo"+x(586)+x(525)+x(515)+x(498)+" shou"+x(517)+"t hap"+x(619),SYGic:function(e,t,n){return e(t,n)},natRK:x(640)+x(667)+x(696)+x(656)+x(563),PAKlJ:function(e,t){return e===t},KiqLx:function(e){return e()},CBmyO:function(e,t,n){return e(t,n)},LaPgG:x(543)+x(502)+x(627)+"or en"+x(488)+"ered,"+x(504)+x(528)+x(580)+x(409),NEZkU:function(e,t){return e(t)},fnIKX:"HLS f"+x(458)+x(675),mpVwS:function(e,t){return e!==t},lOLvF:function(e){return e()},VKqOM:function(e,t,n){return e(t,n)},sqJJs:"3|7|6"+x(420)+x(668),TYBvQ:function(e,t,n){return e(t,n)},FWclp:x(559)+x(416)+x(603)+":",TosSH:x(683)+"ay",sZDPQ:function(e,t){return e===t},qZTAg:x(569),BNDef:function(e,t){return e in t},GMyKy:x(602)+"r",mwMFS:function(e,t){return e>=t},mwjjE:"loade"+x(596)+x(612),JLyJL:function(e,t){return e>=t},QkTxg:function(e){return e()},RaZIK:function(e,t){return e(t)},ePzrP:x(537),hlNAE:x(507),xulxX:function(e,t,n,r,s){return e(t,n,r,s)},Ljfgm:function(e,t){return e in t},dqiWJ:x(670)+x(601)+x(681),wbjhg:"episo"+x(653)+x(477),nnbsm:function(e,t){return e in t},KwBVO:x(688)+x(584),WVyYh:function(e,t,n,r,s,i,a,o){return e(t,n,r,s,i,a,o)},DqpYc:x(640)+x(554)+x(624)+x(662)+"s:",uxCaQ:function(e,t){return e(t)},HXklK:function(e,t){return e===t},LJUYT:function(e,t){return e in t},uHSLX:function(e,t){return e===t},pLFdE:x(495)+"g",zMuRi:function(e,t,n,r,s,i,a,o){return e(t,n,r,s,i,a,o)},pLOjB:x(640)+x(554)+x(624)+x(662)+x(520)+x(630)+"d:",Fpyns:x(565)+"eunload",jkWGa:function(e,t){return e(t)},Vsjep:x(408)+"echange",YsQcQ:function(e){return e()},mBOXr:"seeking",pdXIB:x(501),PqFId:"seeked",IhJUZ:x(623),tkAQa:function(e,t){return e(t)},vQUQs:function(e,t,n){return e(t,n)},vabEF:function(e,t,n){return e(t,n)},mVhKl:function(e,t,n){return e(t,n)}},g=f[x(448)](o.useRef,null),p=f[x(555)](o.useRef,f[x(541)](Ue));f[x(685)](o.useEffect,()=>{const t=x,n={EpmPN:function(e,t){return f.PAKlJ(e,t)},AgLHi:t(602)+"r",bKLiq:function(e,n){return f[t(497)](e,n)},iZIKN:function(e){return f.KiqLx(e)},gKWcd:t(683)+"ay",hpEjf:"error",qrGRu:function(e,n,r){return f[t(685)](e,n,r)},OEbkw:t(543)+" netw"+t(573)+t(661)+"encou"+t(413)+t(457)+t(463)+t(618)+t(564),hbkSz:f[t(582)],jRhgI:function(e,t){return f.NEZkU(e,t)},vuUsu:f[t(500)],jBOPr:function(e){return e()}},o=r[t(510)+"nt"],c=d[t(510)+t(491)+"lity"];if(c?.url&&o&&!f[t(523)](typeof c.url,t(495)+"g")&&!f[t(534)](g[t(510)+"nt"],c[t(690)]))return g[t(510)+"nt"]=c[t(690)],f[t(481)](async()=>{const r=t,h={jxmKs:"iOS H"+r(423)+"ror i"+r(421)+r(414)+r(431)+r(493),ddtff:f[r(701)],cgMDy:function(e){return f.febWC(e)},HEUSQ:function(e,t){return f[r(635)](e,t)},UylEJ:"Error"+r(667)+r(540)+r(652)+r(643)+" on i"+r(489),JXmFF:function(e){return f[r(541)](e)}};m[r(533)+r(455)+"ng"](!0);const x=o[r(510)+"ntTime"],g=!o[r(501)+"d"];try{Ie(c[r(690)]);const t=c.url[r(551)+r(608)](f[r(426)]);if(t&&f[r(626)](Pe)){const{configureVideoForIOSNative:t}=await import(f[r(545)]);f[r(412)](t,o);const d=o[r(510)+r(632)+"e"];if(o[r(657)+r(456)+"e"](f[r(597)])&&(s[r(510)+"nt"]&&(s.current[r(436)+"oy"](),s.current=null),o.src=c[r(690)],o[r(519)](),f[r(497)](d,0)&&(o[r(510)+r(632)+"e"]=d)),await new Promise(t=>{const s=r,c={WgNAQ:function(e,t,n,r,s){return e(t,n,r,s)},SYSKe:function(e,t){return e(t)},QEDdX:function(e,t){return n[Fe(669)](e,t)},mxAQG:s(445)+s(653)+s(477),flJeq:n[s(550)],hbIkW:function(e,t){return n[s(494)](e,t)},EhlLy:function(e){return n[s(610)](e)}},d=async()=>{const n=s;if(o[n(594)+n(642)+n(689)+"ener"](n(683)+"ay",d),o["remov"+n(642)+"tListener"](n(675),m),i&&l){const t=await c.WgNAQ(e,a,c[n(430)](String,l),"seaso"+n(601)+n(681)in i&&c[n(518)](typeof i[n(670)+"n_number"],n(602)+"r")?i.season_number:void 0,c[n(549)]in i&&typeof i[n(445)+n(653)+n(477)]===c[n(538)]?i[n(445)+n(653)+"mber"]:void 0);null!==t&&c[n(404)](t,0)&&(o[n(510)+n(632)+"e"]=t,u[n(698)+n(641)+n(629)](t))}c[n(404)](x,0)&&(o["curre"+n(632)+"e"]=x),c[n(514)](t)},m=()=>{const e=s;o[e(594)+e(642)+e(689)+"ener"](e(683)+"ay",d),o[e(594)+e(642)+"tListener"](h[e(532)],m),h[e(552)](t)};o[s(700)+s(435)+"stener"](n[s(509)],d),o[s(700)+s(435)+s(679)+"r"](n[s(544)],m),n.qrGRu(setTimeout,()=>{const e=s;if(o["removeEven"+e(689)+e(526)](e(683)+"ay",d),o["remov"+e(642)+e(689)+e(526)](e(675),m),h[e(666)](x,0))try{o[e(510)+"ntTime"]=x}catch(n){}h[e(600)](t)},5e3)}),g&&m[r(465)+r(508)+r(471)])try{o[r(438)]=!0,await o.play(),f[r(474)](setTimeout,()=>{const e=r;!o.paused&&(o[e(438)]=!1)},100),u["setIs"+r(576)+"ng"](!0)}catch(p){try{o[r(438)]=!1,await o[r(623)](),u.setIsPlaying(!0)}catch(w){u["setIs"+r(576)+"ng"](!1)}}}else if(t&&o[r(657)+r(456)+"e"](f[r(597)]))s[r(510)+"nt"]&&(s[r(510)+"nt"][r(436)+"oy"](),s[r(510)+"nt"]=null),o[r(638)]=c[r(690)],f[r(497)](x,0)&&(o[r(510)+r(632)+"e"]=x),g&&(o[r(623)]()[r(622)](console[r(675)]),u["setIs"+r(576)+"ng"](!0));else if(t&&!o["canPl"+r(456)+"e"](f[r(597)])&&M[r(647)+r(442)+"d"]()){s.current&&s[r(510)+"nt"][r(436)+"oy"]();const e=new M({enableWorker:!0,maxBufferSize:3e8,maxBufferLength:300,maxMaxBufferLength:300,manifestLoadingTimeOut:2e4,manifestLoadingMaxRetry:6,levelLoadingTimeOut:2e4,levelLoadingMaxRetry:6,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,startFragPrefetch:!0,testBandwidth:!1,progressive:!0,lowLatencyMode:!1,backBufferLength:300,abrEwmaDefaultEstimate:5e6,abrEwmaFastLive:2,abrEwmaSlowLive:5,startLevel:-1,abrMaxWithRealBitrate:!0,maxStarvationDelay:10,maxLoadingDelay:10,capLevelToPlayerSize:!0,autoStartLoad:!0,initialLiveManifestSize:1,stretchShortVideoTrack:!0,forceKeyFrameOnDiscontinuity:!0,debug:!1});s.current=e,e[r(708)+r(506)+"a"](o),await new Promise((t,s)=>{const i=r,a={TIRqz:function(e,t){return e>t},THQnG:function(e){return n[Fe(610)](e)},VnVKp:i(503)+i(513)+i(539),uTVEw:n[i(680)],gSrvd:n[i(454)],TVscT:function(e,t){return n[i(536)](e,t)},PtZbE:n.vuUsu};e.on(M[i(625)+"s"][i(478)+i(646)+i(450)],()=>{const t=i;e[t(472)+t(633)](c[t(690)])}),e.on(M[i(625)+"s"][i(466)+"EST_P"+i(452)],(e,n)=>{const r=i,s=n[r(649)+"s"],l=[];s[r(411)+"ch"](e=>{const t=r,n=e[t(443)+"t"]||0;n>0&&l[t(417)]({url:c[t(690)],resolution:n,quality:n+"p",label:n+"p",height:n})});const m=l.filter((e,t,n)=>t===n[r(484)+r(446)](t=>t[r(585)+r(691)]===e["resol"+r(691)]))[r(557)]((e,t)=>t[r(585)+r(691)]-e["resol"+r(691)]);d[r(613)+r(694)+"es"]&&(d.setQualities(m),d[r(698)+r(641)+r(427)+"ty"](m[0])),a[r(556)](x,0)&&(o[r(510)+r(632)+"e"]=x),g&&(o.play()[r(622)](console[r(675)]),u.setIsPlaying(!0)),a[r(663)](t)}),e.on(M[i(625)+"s"][i(415)],(t,n)=>{const r=i;if(n[r(590)])switch(n[r(487)]){case M[r(640)+r(676)][r(467)+r(575)+r(521)]:e.startLoad();break;case M[r(640)+"Types"][r(478)+"_ERROR"]:e[r(444)+r(483)+r(428)+"or"]();break;default:e[r(436)+"oy"](),a[r(648)](s,new Error(a.PtZbE))}})})}else o.src=c[r(690)],await new Promise((e,t)=>{const s=r,i={BwGkf:function(e,t){return n[Fe(494)](e,t)},OTPqd:s(683)+"ay",wlgtJ:function(e){return n[s(447)](e)},UTEkA:n[s(544)]},a=()=>{const t=s;i[t(461)](x,0)&&(o[t(510)+t(632)+"e"]=x),g&&(o[t(623)]()[t(622)](console[t(675)]),u[t(533)+t(576)+"ng"](!0)),o[t(594)+t(642)+t(689)+t(526)](i[t(451)],a),i.wlgtJ(e)},l=()=>{const e=s;o["remov"+e(642)+e(689)+"ener"](i[e(620)],l),t(new Error(e(414)+e(651)+e(522)+e(561)))};o[s(700)+s(435)+s(679)+"r"](n[s(509)],a),o[s(700)+s(435)+s(679)+"r"](s(675),l)})}catch(v){}finally{m[r(533)+"Loading"](!1)}}),()=>{const e=t;s[e(510)+"nt"]&&s[e(510)+"nt"][e(436)+"oy"]()}},[d[x(510)+"ntQua"+x(617)]]),f.vQUQs(o.useEffect,()=>{const t=x,n={cLAOH:t(479)+t(687)+t(659)+t(593)+t(606),QaQlr:function(e,n,r){return f[t(628)](e,n,r)},SjvUl:f.sqJJs,bFZaP:function(e,n,r){return f[t(684)](e,n,r)},keOSn:function(e){return f[t(481)](e)},qhjio:f[t(496)],RwFEH:f[t(475)],NwJTc:function(e,n){return f[t(665)](e,n)},aeDxE:f[t(595)],zoGod:function(e,n){return f[t(412)](e,n)},DPpKk:function(e){return e()},QBuam:function(e){return e()},rYoFd:f[t(545)],iXZqM:function(e,t){return e(t)},mUNZY:function(e,n){return f[t(699)](e,n)},FhlVF:t(670)+t(601)+t(681),IrFfl:f[t(583)],sOzSC:function(e,t){return e!==t},sOodw:function(e,n){return f[t(692)](e,n)},Ulnbc:f[t(433)],HRnjo:function(e,t){return f.JLyJL(e,t)}},s=r.current;if(!s||!i||!l)return;const o=d["curre"+t(491)+t(617)],h=o?.url?.[t(551)+t(608)](f[t(426)]);Pe()&&h||d[t(510)+t(491)+"lity"]&&f[t(578)](async()=>{const o=t,d=n[o(486)](c[o(591)+"erCase"](),n[o(706)]),h=n.zoGod(ge,{autoplay:d});if(h.autoplay&&!n[o(579)](Pe)?(s[o(438)]=!0,s[o(470)+o(418)+"e"]=!0):(s[o(501)](),s[o(438)]=!1,u[o(533)+o(576)+"ng"](!1)),n[o(511)](Pe)){const{configureVideoForIOSNative:e}=await import(n.rYoFd);n[o(562)](e,s)}const x=await e(a,n[o(407)](String,l),n[o(459)](n[o(660)],i)&&typeof i[o(670)+o(601)+"ber"]===n.IrFfl?i[o(670)+o(601)+o(681)]:void 0,n[o(459)](o(445)+o(653)+o(477),i)&&typeof i[o(445)+o(653)+o(477)]===n.IrFfl?i[o(445)+o(653)+o(477)]:void 0);if(n[o(424)](x,null)&&x>0){const e=()=>{const t=o;s[t(510)+t(632)+"e"]=x,u[t(698)+t(641)+"Time"](x),s[t(594)+t(642)+t(689)+t(526)](t(542)+t(596)+t(612),e)};n[o(672)](s[o(693)+o(673)],1)?(s[o(510)+"ntTime"]=x,u[o(698)+o(641)+o(629)](x)):s["addEv"+o(435)+"stener"](n[o(695)],e)}const f=async()=>{const e=o,t=(n[e(530)],function(t,r,s){return n[e(524)](t,r,s)});try{const i=n[e(655)].split("|");let a=0;for(;;){switch(i[a++]){case"0":m[e(533)+e(455)+"ng"](!1);continue;case"1":m[e(533)+e(479)+e(512)+"d"](!1);continue;case"2":n[e(419)](setTimeout,()=>{const t=e;r[t(510)+"nt"]&&!r[t(510)+"nt"].paused&&(r[t(510)+"nt"][t(438)]=!1)},500);continue;case"3":if(!h["autop"+e(615)])return u["setIs"+e(576)+"ng"](!1),m[e(533)+e(455)+"ng"](!1),void(s[e(438)]=!1);continue;case"4":u[e(533)+e(576)+"ng"](!0);continue;case"5":m["setHa"+e(490)+e(505)+"d"](!0);continue;case"6":await s[e(623)]().catch(async n=>{const i=e;try{s.muted=!0,await s[i(623)](),t(setTimeout,()=>{const e=i;r.current&&!r[e(510)+"nt"][e(501)+"d"]&&(r[e(510)+"nt"].muted=!1)},500)}catch(a){u["setIs"+i(576)+"ng"](!1)}});continue;case"7":if(n.keOSn(Pe))return s[e(438)]=!1,u[e(533)+"Playing"](!1),void m[e(533)+e(455)+"ng"](!1);continue}break}}catch(i){u[e(533)+e(576)+"ng"](!1),m[e(533)+e(455)+"ng"](!1)}};if(n.HRnjo(s[o(693)+o(673)],3))n[o(579)](f);else{const e=()=>{const t=o;f(),s[t(594)+"eEven"+t(689)+t(526)](n.RwFEH,e)};s[o(700)+o(435)+o(679)+"r"](n[o(468)],e)}})},[i,a,l,m[x(434)+x(598)+"oad"],d[x(510)+x(491)+x(617)]]),f[x(684)](o.useEffect,()=>{const e=x;if(!r[e(510)+"nt"]||!i||!l)return;const s=()=>{const s=e,o=r[s(510)+"nt"];if(!o||f[s(534)](o["curre"+s(632)+"e"],0)||f[s(534)](o[s(574)+"ion"],0))return;const c=f[s(605)](String,l);try{f[s(665)](a,f[s(460)])&&f.hlNAE in i?f[s(631)](t,c,i.title,o[s(510)+s(632)+"e"],o.duration):f[s(534)](a,"tv")&&f[s(703)](f[s(677)],i)&&f[s(699)](f[s(674)],i)&&f[s(570)](f[s(422)],i)&&"string"==typeof i[s(688)+s(584)]&&typeof i[s(670)+s(601)+s(681)]===f[s(583)]&&f[s(665)](typeof i[s(445)+s(653)+"mber"],s(602)+"r")&&f[s(671)](n,c,i["show_"+s(584)],i[s(670)+s(601)+s(681)],i[s(445)+s(653)+"mber"],o[s(510)+"ntTime"],o[s(574)+s(464)],m[s(529)+s(645)+s(608)])}catch(u){}},o=setInterval(s,5e3);return()=>{const t=e;clearInterval(o),f[t(626)](s)}},[i,a,l,m[x(529)+x(645)+x(608)]]),f.TYBvQ(o.useEffect,()=>{const e=x,s=()=>{const e=Fe,s=r[e(510)+"nt"];if(!s||!i||!l)return;const o=f[e(609)](String,l);try{f[e(531)](a,f[e(460)])&&f.Ljfgm(e(507),i)?t(o,i[e(507)],s["curre"+e(632)+"e"],s["durat"+e(464)]):f[e(665)](a,"tv")&&f[e(699)](f[e(677)],i)&&f[e(568)](f[e(674)],i)&&f[e(699)]("show_"+e(584),i)&&f[e(705)](typeof i[e(688)+e(584)],f.pLFdE)&&typeof i[e(670)+"n_num"+e(681)]==e(602)+"r"&&f[e(665)](typeof i[e(445)+e(653)+e(477)],f[e(583)])&&f[e(682)](n,o,i[e(688)+e(584)],i["seaso"+e(601)+e(681)],i[e(445)+"de_nu"+e(477)],s.currentTime,s["durat"+e(464)],m[e(529)+e(645)+e(608)])}catch(c){}};return window[e(700)+"entLi"+e(679)+"r"](f[e(621)],s),()=>window[e(594)+"eEventListener"](e(565)+"eunload",s)},[i,a,l,m["total"+x(645)+"des"]]),f[x(611)](o.useEffect,()=>{const e=x,t={whPfo:f[e(553)]},n=r[e(510)+"nt"];if(!n)return;const s=()=>{const t=e;p.current&&(n[t(408)+"e"]=1,h&&f.jkWGa(h,1))};return f[e(592)](s),n[e(700)+e(435)+e(679)+"r"](f[e(553)],s),()=>{const r=e;n[r(594)+r(642)+r(689)+r(526)](t[r(566)],s)}},[h]),f.mVhKl(o.useEffect,()=>{const e=x,t=r[e(510)+"nt"];if(!t)return;const n=()=>{u["setIs"+e(425)+"ng"](!0)},s=()=>{const t=e;f[t(628)](setTimeout,()=>{const e=t;u[e(533)+e(425)+"ng"](!1)},50)},i=()=>{const t=e;!u["isSee"+t(614)]&&u[t(533)+t(576)+"ng"](!0)},a=()=>{const t=e;!u[t(634)+t(614)]&&u[t(533)+t(576)+"ng"](!1)};return t["addEv"+e(435)+e(679)+"r"](f[e(636)],n),t[e(700)+e(435)+"stener"](f.PqFId,s),t[e(700)+"entLi"+e(679)+"r"](f[e(480)],i),t[e(700)+"entLi"+e(679)+"r"]("pause",a),()=>{const r=e;t[r(594)+r(642)+"tList"+r(526)](f[r(636)],n),t[r(594)+r(642)+r(689)+"ener"](r(547)+"d",s),t[r(594)+"eEventList"+r(526)]("play",i),t[r(594)+r(642)+r(689)+"ener"](f[r(686)],a)}},[])})({videoRef:s,hlsRef:d,mediaInfo:w,mediaType:r,tmdbId:h,autoplayParam:"true",playback:y.playback,source:y.source,status:y.status});const[z,A]=o.useState(dn),[S,L]=o.useState(!1),[k,I]=o.useState(!1),q=o.useRef(null),E=o.useRef(!0),[K,P]=o.useState(!1),T=o.useRef(null),G=o.useRef(Date.now()),W=o.useRef(!1),[U,J]=o.useState(!1),R=o.useRef(0),$=o.useRef(null),X=o.useRef({spacePressed:!1,kPressed:!1});o.useEffect(()=>{const e=()=>{A(dn())};return window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[]),o.useEffect(()=>{const e=s.current;if(!e||!Pe())return;let t=(async()=>{const{setupIOSFullscreenListeners:t,restoreCustomPlayerForIOS:n}=await i(async()=>{const{setupIOSFullscreenListeners:e,restoreCustomPlayerForIOS:t}=await Promise.resolve().then(()=>We);return{setupIOSFullscreenListeners:e,restoreCustomPlayerForIOS:t}},[]);return t(e,()=>{e&&(n(e),y.playback.setIsFullscreen(!1),setTimeout(()=>{a.current&&a.current.focus()},150))})})();return()=>{t.then(e=>e&&e())}},[y.playback]),o.useEffect(()=>(("movie"===r&&h||"tv"===r&&h&&x&&f)&&(async()=>{try{if(m.current)return;if(m.current=!0,y.status.setIsLoading(!0),y.status.setError(null),!h)throw new Error("TMDB ID is required");let t;if("movie"===r)try{t=await(async e=>{const t=Y,n={ErjFR:function(e,t){return e(t)},XDVrt:function(e,t){return e===t},OIXbE:t(223)+t(236)+" not "+t(178)},r=Z[t(171)+t(200)]+(t(228)+"e/")+e+(t(214)+t(232))+Z[t(235)+"EY"]+"&lang"+t(170)+t(229),s=await n[t(190)](fetch,r);if(!s.ok){if(n[t(208)](s[t(254)+"s"],404))throw new Error(n[t(251)]);throw new Error("Faile"+t(261)+t(224)+" movi"+t(213)+"ails: "+s.status+" "+s[t(254)+t(181)])}const i=await s[t(187)]();return{id:i.id,title:i[t(212)],overview:i["overv"+t(182)],backdrop_path:i[t(169)+"rop_p"+t(219)],poster_path:i[t(242)+t(221)+"h"],release_date:i["relea"+t(247)+"te"]}})(h)}catch(e){if(e instanceof Error&&e.message.includes("404"))throw new Error("Movie not found. Please check if the ID is correct.");throw e}else{if(!x||!f)throw new Error("Season ID and Episode ID are required for TV shows");try{t=await(async(e,t,n)=>{const r=Y,s={nDqqU:function(e,t){return e===t},NeXhX:r(223)+r(209)+r(258)+r(185)+"nd",PMPGk:function(e,t){return e(t)},vRnvi:function(e,t){return e===t},gPCvR:r(223)+"Episode no"+r(185)+"nd"},i=Z[r(171)+r(200)]+r(252)+e+(r(214)+r(232))+Z[r(235)+"EY"]+"&lang"+r(170)+"en-US",a=await fetch(i);if(!a.ok){if(s.nDqqU(a[r(254)+"s"],404))throw new Error(s.NeXhX);throw new Error(r(198)+r(261)+r(224)+" TV show d"+r(210)+r(222)+a[r(254)+"s"]+" "+a[r(254)+r(181)])}const o=await a[r(187)](),l=Z["BASE_"+r(200)]+r(252)+e+(r(206)+r(267))+t+(r(264)+r(205))+n+(r(214)+r(232))+Z[r(235)+"EY"]+(r(199)+r(170)+r(229)),c=await s[r(193)](fetch,l);if(!c.ok){if(s.vRnvi(c.status,404))throw new Error(s[r(186)]);throw new Error(r(198)+r(261)+r(224)+r(262)+r(231)+r(210)+r(222)+c.status+" "+c[r(254)+"sText"])}const u=await c.json();return{id:u.id,name:u[r(263)],overview:u["overv"+r(182)],still_path:u[r(176)+r(266)],episode_number:u[r(230)+r(243)+"mber"],season_number:u[r(195)+"n_num"+r(207)],show_name:o[r(263)]}})(h,x,f)}catch(e){if(e instanceof Error&&e.message.includes("404"))throw new Error("TV Show not found. Please check if the ID is correct.");throw e}}v(t);try{if(!h)throw new Error("TMDB ID is required to fetch sources");let e;if("movie"===r)e=await async function(e){const t=V,n={JsmcU:function(e,t,n){return e(t,n)},fSCtq:t(498),FBMDf:function(e,t,n){return e(t,n)},LkUKF:function(e,t){return e(t)}};try{const s=await n[t(376)](ie,n.fSCtq,e),i={},a=(new Date)[t(494)+"me"]();let o=!1;for(const l of te){if(o)break;try{const r=await n[t(593)](ae,l,{mediaType:n[t(564)],tmdbId:e,title:s.title,year:s[t(403)],imdbId:s[t(421)+"d"],_t:a[t(567)+t(390)]()}),c=await n[t(376)](ue,r,e),u=n[t(376)](de,c,l);Object[t(663)+"n"](i,u[t(371)+"es"]),o=!0}catch(r){}}return{sources:i,tmdb_id:n.LkUKF(parseInt,e),total_scraping_time:0,type:n[t(564)]}}catch(s){throw s}}(h);else{if(!x||!f)throw new Error("Season ID and Episode ID are required for TV sources");e=await async function(e,t,n){const r=V,s={cqhky:function(e,t,n){return e(t,n)},LpHVl:function(e,t,n){return e(t,n)},fvHVx:r(369)+r(539)+r(489)+"V sources:"};try{const a=await s.cqhky(ie,"tv",e),o={},l=(new Date)[r(494)+"me"]();let c=!1;for(const u of te){if(c)break;try{const i=await s[r(407)](ae,u,{mediaType:"tv",tmdbId:e,seasonId:t,episodeId:n,title:a.title,year:a[r(403)],imdbId:a[r(421)+"d"],_t:l["toStr"+r(390)]()}),d=await ue(i,e),m=s[r(527)](de,d,u);Object[r(663)+"n"](o,m[r(371)+"es"]),c=!0}catch(i){}}return{sources:o,tmdb_id:parseInt(e),total_scraping_time:0,type:"tv"}}catch(a){throw a}}(h,x,f)}if(!e.sources||0===Object.keys(e.sources).length)throw new Error("No sources available for this content. Please try again later.");const t=(e=>{const t=V,n={ByZxY:t(427)+"t"};if(!e||typeof e!==n[t(354)])return[];const r=Object[t(671)+"s"](ee)[t(657)](e=>e.name).map(t=>{const n=e[t];return{name:t,source:n||null,isAvailable:!!n||null,originalName:t,isLoading:!1}});return r[t(632)]((e,n)=>te.indexOf(e[t(543)])-te[t(586)+"Of"](n[t(543)])),r})(e.sources);if(0===t.length)throw new Error("No available servers found. Please try again later.");y.source.setAvailableServers(t);let n=null;for(const r of t)if(r.source){n=r;break}if(!n)throw new Error("No valid sources found. Please try another server or check back later.");const i=s.current&&!s.current.paused,a=s.current?.currentTime||0;y.source.setCurrentServer(n.name),await N.handleSourceChange(n.source),s.current&&(s.current.currentTime=a,i&&s.current.play().catch(console.error)),y.source.currentQuality&&N.handleQualityChange&&await N.handleQualityChange(y.source.currentQuality)}catch(e){y.status.setError(e instanceof Error?e.message:"Failed to load video sources")}}catch(e){y.status.setError(e instanceof Error?e.message:"Failed to load media information")}finally{y.status.setIsLoading(!1)}})(),()=>{m.current=!1}),[r,h,x,f]),o.useEffect(()=>{w?.id&&(async()=>{if("tv"===r&&w&&"id"in w&&("number"==typeof w.id||"string"==typeof w.id))try{const e=await F(String(w.id));if(e&&Array.isArray(e)){const t=e.reduce((e,t)=>e+(t?.episode_count||0),0);y.status.setTotalEpisodes(t)}else y.status.setTotalEpisodes(0)}catch(e){y.status.setTotalEpisodes(0)}})()},[r,w?.id]),o.useEffect(()=>{const e=s.current;if(!e)return;const t=()=>{k||(y.status.setHasInteracted(!0),y.playback.setIsPlaying(!0),L(!1))},n=()=>{k||(y.playback.setIsPlaying(!1),L(!0))};return e.addEventListener("play",t),e.addEventListener("pause",n),()=>{e.removeEventListener("play",t),e.removeEventListener("pause",n)}},[k]);const Q=()=>{if(!h)return;g(`/${r}/${h}`)},_=e=>{s.current&&(I(!0),E.current=!s.current.paused,N.skip(e),q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{I(!1),E.current&&s.current&&s.current.play().catch(()=>{})},300))},ne=o.useCallback(async()=>{const e=s.current;if(e)if(y.status.setHasInteracted(!0),e.paused)if(Pe()){const{triggerIOSNativePlay:t}=await i(async()=>{const{triggerIOSNativePlay:e}=await Promise.resolve().then(()=>We);return{triggerIOSNativePlay:e}},void 0);await t(e,y.playback.setIsPlaying,L)}else try{await e.play(),y.playback.setIsPlaying(!0),L(!1)}catch(t){e.muted=!0;try{await e.play(),y.playback.setIsPlaying(!0),L(!1),setTimeout(()=>{e&&!e.paused&&(e.muted=!1)},100)}catch(n){y.playback.setIsPlaying(!1),L(!0)}}else if(Pe()){const{handlePause:t}=await i(async()=>{const{handlePause:e}=await Promise.resolve().then(()=>We);return{handlePause:e}},void 0);t(e,y.playback.setIsPlaying,L)}else e.pause(),y.playback.setIsPlaying(!1),L(!0)},[s,y.playback,y.status,Pe,L]),re=o.useCallback(async()=>{const e=s.current;if(e)if(y.status.setHasInteracted(!0),Pe()){const{triggerIOSNativeFullscreen:t}=await i(async()=>{const{triggerIOSNativeFullscreen:e}=await Promise.resolve().then(()=>We);return{triggerIOSNativeFullscreen:e}},void 0);await t(e,y.playback.setIsPlaying,L)}else document.fullscreenElement?(document.exitFullscreen(),y.playback.setIsFullscreen(!1)):(a.current?.requestFullscreen(),y.playback.setIsFullscreen(!0))},[s,y.playback,y.status,Pe,L,a]),se=e=>{if(k)return;const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width;z?n>.33&&n<.66&&ne():ne()};o.useEffect(()=>()=>{q.current&&clearTimeout(q.current)},[]);const oe=()=>{const e=ge();e.idleCheck&&(mn.time=Date.now(),G.current=mn.time,T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{s.current&&!s.current.paused&&(W.current=!0,s.current.pause(),P(!0))},60*e.idleCheck*1e3))},le=()=>{P(!1),W.current&&s.current&&(s.current.play().catch(()=>{}),W.current=!1),oe()};return o.useEffect(()=>{const e=new URLSearchParams(window.location.search).get("idlecheck");if(e){const t=parseInt(e);if(!isNaN(t)&&t>0){const e=ge();if(!e.idleCheck){const n={...e,idleCheck:t};pe(n)}}}},[]),o.useEffect(()=>{const e=ge();if(!e.idleCheck)return;G.current=mn.time;Date.now()-G.current>=1e3*e.idleCheck&&s.current&&!s.current.paused?(W.current=!0,s.current.pause(),P(!0)):oe();const t=()=>{const e=Date.now();e-G.current>1e3&&(mn.time=e,oe())};return window.addEventListener("mousemove",t),window.addEventListener("keydown",t),window.addEventListener("click",t),window.addEventListener("touchstart",t),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("keydown",t),window.removeEventListener("click",t),window.removeEventListener("touchstart",t),T.current&&clearTimeout(T.current)}},[]),o.useEffect(()=>{if(y.source.currentQuality&&N.handleQualityChange&&!y.status.isLoading){const e=y.source.currentQuality,t=Ie(e.url),n=s.current&&s.current.src===e.url;t&&n||N.handleQualityChange(y.source.currentQuality)}},[y.source.currentQuality]),o.useEffect(()=>{},[y.source.qualities,y.source.currentQuality]),o.useEffect(()=>{y.source.qualities.length>0&&!y.source.currentQuality&&y.source.setCurrentQuality(y.source.qualities[0])},[y.source.qualities,y.source.currentQuality]),o.useEffect(()=>{if(y.source.qualities.length>0&&y.source.currentQuality&&Ie(y.source.currentQuality.url)&&s.current){const e=s.current.src,t=y.source.currentQuality.url;e!==t&&(s.current.src=t)}},[y.source.qualities,y.source.currentQuality]),o.useEffect(()=>()=>{(()=>{const e=Me,t={lbiiA:"Revok"+e(806)+"ob URL:",hkiql:function(e,t){return e!==t},eGmkT:e(819)+e(645),jZxdc:e(682)+e(659)+e(675)+"blob URL:"};try{ke[e(689)+"ch"](n=>{const r=e;try{URL["revokeObje"+r(519)](n),t[r(718)](typeof window,t[r(823)])&&window[r(652)+r(734)+"rceObjects"]&&delete window[r(652)+"iaSou"+r(787)+"jects"][n]}catch(s){}}),ke[e(483)](),typeof window!==t[e(823)]&&(window["__med"+e(734)+e(787)+e(640)]={})}catch(n){}})(),d.current&&(d.current.destroy(),d.current=null)},[]),o.useEffect(()=>{const e=s.current;if(!e)return;const t=setInterval(()=>{if(e&&!e.paused){const t=y.playback.bufferProgress;if(e.currentTime>=e.duration-.5)return void J(!1);const n=e.buffered.length>0?e.buffered.end(e.buffered.length-1):0,r=e.currentTime>n-1,s=t===R.current;r&&s?U||$.current||($.current=setTimeout(()=>{J(!0),$.current=null},500)):($.current&&(clearTimeout($.current),$.current=null),J(!1)),R.current=t}},1e3),n=()=>{e.readyState<3&&!e.paused&&!k&&J(!0)},r=()=>{J(!1),$.current&&(clearTimeout($.current),$.current=null)};return e.addEventListener("waiting",n),e.addEventListener("playing",r),e.addEventListener("stalled",n),()=>{e.removeEventListener("waiting",n),e.removeEventListener("playing",r),e.removeEventListener("stalled",n),clearInterval(t),$.current&&(clearTimeout($.current),$.current=null)}},[y.playback.bufferProgress,k]),o.useEffect(()=>(window.handleServerChangeDirectly=async(e,t)=>{try{y.status.setIsLoading(!0),y.status.setError(null);const t=s.current?.currentTime||0,i=s.current&&!s.current.paused;y.source.setPendingTime(t);if(!y.source.availableServers.find(t=>t.name===e))return y.status.setError(`Server ${e} not found`),y.status.setIsLoading(!1),!1;y.source.setCurrentServer(e);try{if(!h)throw new Error("TMDB ID is required");const t=[...y.source.availableServers],n=t.findIndex(t=>t.name===e);-1!==n&&(t[n]={...t[n],isLoading:!0},y.source.setAvailableServers(t)),y.source.setQualities([]),y.source.setCurrentQuality(null);const s=await he(e,r,h,"tv"===r?x:void 0,"tv"===r?f:void 0);if(!s)throw new Error(`No sources available for server ${e}`);const i=[...y.source.availableServers];-1!==n&&(i[n]={...i[n],source:s,isAvailable:!0,isLoading:!1},y.source.setAvailableServers(i)),await N.handleSourceChange(s)}catch(n){const t=[...y.source.availableServers],r=t.findIndex(t=>t.name===e);return-1!==r&&(t[r]={...t[r],isLoading:!1,isAvailable:!1},y.source.setAvailableServers(t)),y.status.setError(n instanceof Error?n.message:`Failed to load video sources from ${e}`),y.status.setIsLoading(!1),!1}return y.source.currentQuality&&N.handleQualityChange&&await N.handleQualityChange(y.source.currentQuality),y.status.setIsLoading(!1),s.current&&(s.current.currentTime=t,y.playback.setCurrentTime(t),i&&s.current.play().catch(console.error)),!0}catch(n){return y.status.setError(n instanceof Error?n.message:"Failed to change server"),y.status.setIsLoading(!1),!1}},window.testServerAvailability=async e=>{if(h)try{const n=s.current?.currentTime||0,i=s.current&&!s.current.paused;y.source.setPendingTime(n);const a=y.source.availableServers.findIndex(t=>t.name===e);if(-1===a)return;const o=[...y.source.availableServers];o[a]={...o[a],isLoading:!0},y.source.setAvailableServers(o);const l=await he(e,r,h,"tv"===r?x:void 0,"tv"===r?f:void 0),c=[...y.source.availableServers];if(c[a]={...c[a],isLoading:!1,isAvailable:null!==l,source:l},y.source.setAvailableServers(c),l&&(y.source.setCurrentServer(e),await N.handleSourceChange(l),s.current&&(n>0&&(s.current.currentTime=n,y.playback.setCurrentTime(n)),i)))try{await s.current.play(),y.playback.setIsPlaying(!0)}catch(t){}return null!==l}catch(t){const n=y.source.availableServers.findIndex(t=>t.name===e);if(-1!==n){const e=[...y.source.availableServers];e[n]={...e[n],isLoading:!1,isAvailable:!1,source:null},y.source.setAvailableServers(e)}return!1}},window.availableServers=y.source.availableServers,()=>{delete window.handleServerChangeDirectly,delete window.testServerAvailability,delete window.availableServers}),[y.source.availableServers,r,h,x,f]),o.useEffect(()=>{const e=e=>{if(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement)return;const t=e.key.toLowerCase();if(" "!==t||X.current.spacePressed){if("k"===t&&!X.current.kPressed&&(e.preventDefault(),e.stopPropagation(),X.current.kPressed=!0,s.current)){const e=s.current;e.paused?ne():(e.pause(),y.playback.setIsPlaying(!1),L(!0))}}else if(e.preventDefault(),e.stopPropagation(),X.current.spacePressed=!0,s.current){const e=s.current;e.paused?ne():(e.pause(),y.playback.setIsPlaying(!1),L(!0))}},t=e=>{const t=e.key.toLowerCase();" "===t?X.current.spacePressed=!1:"k"===t&&(X.current.kPressed=!1)};return window.addEventListener("keydown",e,!0),window.addEventListener("keyup",t,!0),()=>{window.removeEventListener("keydown",e,!0),window.removeEventListener("keyup",t,!0)}},[s,y.playback,L]),o.useEffect(()=>{if(!y.status.isLoading&&0===y.source.qualities.length&&y.source.currentServer){const e=y.source.availableServers.find(e=>e.name===y.source.currentServer);e?.source&&N.handleSourceChange(e.source).then(()=>{}).catch(e=>{})}},[y.status.isLoading,y.source.qualities.length,y.source.currentServer]),l.jsx("div",{ref:a,className:"relative w-full h-full bg-black",children:l.jsx(ye,{children:l.jsx("div",{className:"fixed inset-0 bg-black group",children:y.status.error?l.jsx($t,{containerRef:a,error:y.status.error,mediaInfo:w,menuState:b,videoState:y,videoHandlers:N,backUrl:null,logoUrl:null,themeColor:p,subtitles:C,mediaType:r,tmdbId:h,seasonId:x,episodeId:f}):l.jsx(je,{hideDelay:5e3,isAnyMenuOpen:b.isAnyMenuOpen,isPaused:!y.playback.isPlaying,isIdleCheckVisible:K,children:e=>l.jsxs(l.Fragment,{children:[l.jsx(D,{children:e&&l.jsx(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,ease:[.16,1,.3,1]},children:l.jsx(Xt,{isVisible:e,mediaInfo:w,backUrl:"/",logoUrl:null,handleBackClick:Q,videoState:y})},"header")}),l.jsx(cn,{isVisible:e&&!k&&j.pauseScreen&&!s.current?.classList.contains("ended"),isPaused:!y.playback.isPlaying&&y.status.hasInteracted&&S,hasStartedPlaying:y.status.hasInteracted,mediaInfo:w,currentTime:y.playback.currentTime,onPlayPause:ne,isIdleCheckVisible:K}),l.jsx("video",{ref:s,className:"w-full h-full",crossOrigin:"anonymous",playsInline:!0,preload:"auto",onClick:se,onTimeUpdate:N.handleTimeUpdate,onLoadedMetadata:()=>{N.handleLoadedMetadata()},onProgress:N.handleProgress,onSeeking:()=>{I(!0),s.current&&(E.current=!s.current.paused)},onEnded:()=>{y.playback.setIsPlaying(!1),L(!0)},onError:()=>{y.status.setError("Video playback error"),y.status.setIsLoading(!1)},onVolumeChange:()=>{s.current&&y.playback.setVolume(s.current.volume)},onRateChange:()=>{},onPlay:()=>{k||(y.status.setHasInteracted(!0),y.playback.setIsPlaying(!0),L(!1),Pe()&&s.current&&s.current.muted&&setTimeout(()=>{s.current&&!s.current.paused&&(s.current.muted=!1)},100))},onPause:()=>{k||(y.playback.setIsPlaying(!1),L(!0))}}),z&&l.jsx(ln,{onSeek:_,onPlayPause:ne,onFullscreenToggle:re,themeColor:p}),l.jsx(Vt,{isLoading:y.status.isLoading,themeColor:p}),l.jsx(O,{onVolumeChange:N.handleVolumeChange,currentVolume:y.playback.volume,isPlaying:y.playback.isPlaying,onPlayPause:ne,onFullscreenToggle:re,onSeek:_}),l.jsx(D,{children:e&&l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.4,ease:[.16,1,.3,1]},children:l.jsx(an,{videoState:y,videoHandlers:{...N,togglePlay:ne,toggleFullscreen:re,handleServerChange:async e=>(y.source.setCurrentServer(e),N.handleServerChange(e)),handleServerTest:async e=>window.testServerAvailability(e)},menuState:b,mediaInfo:w,mediaType:r,tmdbId:h,seasonId:x,episodeId:f,subtitles:C})},"controls")}),!1,"tv"===r&&h&&x&&f&&w&&"tv"===r&&w.show_name&&l.jsx(Le,{tmdbId:h,currentSeason:x,currentEpisode:f,currentTime:y.playback.currentTime,duration:y.playback.duration,showName:w.show_name,controlsVisible:e}),l.jsx(D,{children:K&&l.jsx(un,{isVisible:K,onContinue:le,themeColor:p})})]})})})})})};export{hn as VideoPlayer};
